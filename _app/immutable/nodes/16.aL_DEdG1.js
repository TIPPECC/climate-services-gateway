import{s as _e,T as ae,U as oe,b as y,f as h,m as d,i as N,h as _,n as O,A as Xe,a as z,e as $,t as G,g as B,c as x,d as J,x as ze,p as me,V as Ye,y as Be,l as ce,o as Ke,j as ve,W as Qe,u as Re,q as Ee}from"../chunks/scheduler.CetZJQzl.js";import{S as be,i as we,f as Ze,b as K,d as Q,m as Z,t as V,c as fe,a as T,e as ee,g as ue}from"../chunks/index.CYv2V7vh.js";import{e as Te}from"../chunks/each.BLQivD98.js";import{A as ge}from"../chunks/app.config.BO6XNHuD.js";import{F as et,t as Me,_ as tt}from"../chunks/folderytpe_chooser.CvE3r-i9.js";import{g as lt}from"../chunks/entry.CYcL2DHb.js";function rt(s){let e,l;return{c(){e=ae("svg"),l=ae("path"),this.h()},l(r){e=oe(r,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=y(e);l=oe(t,"path",{d:!0}),y(l).forEach(h),t.forEach(h),this.h()},h(){d(l,"d","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 38.6C310.1 219.5 256 287.4 256 368c0 59.1 29.1 111.3 73.7 143.3c-3.2 .5-6.4 .7-9.7 .7L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zm48 96a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm0 240a24 24 0 1 0 0-48 24 24 0 1 0 0 48zM368 321.6l0 6.4c0 8.8 7.2 16 16 16s16-7.2 16-16l0-6.4c0-5.3 4.3-9.6 9.6-9.6l40.5 0c7.7 0 13.9 6.2 13.9 13.9c0 5.2-2.9 9.9-7.4 12.3l-32 16.8c-5.3 2.8-8.6 8.2-8.6 14.2l0 14.8c0 8.8 7.2 16 16 16s16-7.2 16-16l0-5.1 23.5-12.3c15.1-7.9 24.5-23.6 24.5-40.6c0-25.4-20.6-45.9-45.9-45.9l-40.5 0c-23 0-41.6 18.6-41.6 41.6z"),d(e,"class","fill-white"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 576 512"),d(e,"width","28")},m(r,t){N(r,e,t),_(e,l)},p:O,i:O,o:O,d(r){r&&h(e)}}}class We extends be{constructor(e){super(),we(this,e,null,rt,_e,{})}}function st(s){let e,l;return{c(){e=ae("svg"),l=ae("path"),this.h()},l(r){e=oe(r,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=y(e);l=oe(t,"path",{d:!0}),y(l).forEach(h),t.forEach(h),this.h()},h(){d(l,"d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5l0 39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9l0 39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7l0-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1L257 256c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"),d(e,"class","fill-white"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 512 512"),d(e,"width","24")},m(r,t){N(r,e,t),_(e,l)},p:O,i:O,o:O,d(r){r&&h(e)}}}class Ge extends be{constructor(e){super(),we(this,e,null,st,_e,{})}}function nt(s){let e,l;return{c(){e=ae("svg"),l=ae("path"),this.h()},l(r){e=oe(r,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=y(e);l=oe(t,"path",{d:!0}),y(l).forEach(h),t.forEach(h),this.h()},h(){d(l,"d","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm79 143c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"),d(e,"class","fill-white"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 448 512"),d(e,"width","28")},m(r,t){N(r,e,t),_(e,l)},p:O,i:O,o:O,d(r){r&&h(e)}}}class Ce extends be{constructor(e){super(),we(this,e,null,nt,_e,{})}}function it(s){let e,l;return{c(){e=ae("svg"),l=ae("path"),this.h()},l(r){e=oe(r,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=y(e);l=oe(t,"path",{d:!0}),y(l).forEach(h),t.forEach(h),this.h()},h(){d(l,"d","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"),d(e,"class","fill-white"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 448 512"),d(e,"width","22")},m(r,t){N(r,e,t),_(e,l)},p:O,i:O,o:O,d(r){r&&h(e)}}}class De extends be{constructor(e){super(),we(this,e,null,it,_e,{})}}function at(s){let e,l;return{c(){e=ae("svg"),l=ae("path"),this.h()},l(r){e=oe(r,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=y(e);l=oe(t,"path",{d:!0}),y(l).forEach(h),t.forEach(h),this.h()},h(){d(l,"d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"),d(e,"class","fill-white"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 512 512"),d(e,"width","22")},m(r,t){N(r,e,t),_(e,l)},p:O,i:O,o:O,d(r){r&&h(e)}}}class Je extends be{constructor(e){super(),we(this,e,null,at,_e,{})}}function je(s,e,l){const r=s.slice();return r[23]=e[l][0],r[24]=e[l][1],r[26]=l,r}function qe(s,e,l){const r=s.slice();return r[27]=e[l],r}function ot(s){let e;return{c(){e=G("... Loading")},l(l){e=J(l,"... Loading")},m(l,r){N(l,e,r)},p:O,i:O,o:O,d(l){l&&h(e)}}}function ct(s){let e=s[0],l,r,t="Generate Wget link for download",o,c,f,n=Pe(s);return{c(){n.c(),l=z(),r=$("button"),r.textContent=t,this.h()},l(i){n.l(i),l=B(i),r=x(i,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ce(r)!=="svelte-y2sc8e"&&(r.textContent=t),this.h()},h(){d(r,"type","button"),d(r,"class","btn variant-ghost-primary")},m(i,u){n.m(i,u),N(i,l,u),N(i,r,u),o=!0,c||(f=me(r,"click",Qe(s[6])),c=!0)},p(i,u){u&1&&_e(e,e=i[0])?(ue(),V(n,1,1,O),fe(),n=Pe(i),n.c(),T(n,1),n.m(l.parentNode,l)):n.p(i,u)},i(i){o||(T(n),o=!0)},o(i){V(n),o=!1},d(i){i&&(h(l),h(r)),n.d(i),c=!1,f()}}}function Ae(s){let e,l,r='<tr><th class="text-left">Filename</th> <th class="text-left min-w-[80px] max-w-[80px]">Filesize</th> <th class="text-left min-w-[140px] max-w-[140px]">Last modified</th> <th class="text-left min-w-[122px] max-w-[122px]">Download Link</th> <th class="text-left min-w-[86px] max-w-[86px]">Visualize</th></tr>',t,o,c,f,n=Te(s[24].files),i=[];for(let a=0;a<n.length;a+=1)i[a]=Ue(qe(s,n,a));const u=a=>V(i[a],1,1,()=>{i[a]=null});return{c(){e=$("table"),l=$("thead"),l.innerHTML=r,t=z(),o=$("tbody");for(let a=0;a<i.length;a+=1)i[a].c();c=z(),this.h()},l(a){e=x(a,"TABLE",{class:!0});var v=y(e);l=x(v,"THEAD",{"data-svelte-h":!0}),ce(l)!=="svelte-4h3e9h"&&(l.innerHTML=r),t=B(v),o=x(v,"TBODY",{});var b=y(o);for(let D=0;D<i.length;D+=1)i[D].l(b);b.forEach(h),c=B(v),v.forEach(h),this.h()},h(){d(e,"class","table-fixed mb-1")},m(a,v){N(a,e,v),_(e,l),_(e,t),_(e,o);for(let b=0;b<i.length;b+=1)i[b]&&i[b].m(o,null);_(e,c),f=!0},p(a,v){if(v&431){n=Te(a[24].files);let b;for(b=0;b<n.length;b+=1){const D=qe(a,n,b);i[b]?(i[b].p(D,v),T(i[b],1)):(i[b]=Ue(D),i[b].c(),T(i[b],1),i[b].m(o,null))}for(ue(),b=n.length;b<i.length;b+=1)u(b);fe()}},i(a){if(!f){for(let v=0;v<n.length;v+=1)T(i[v]);f=!0}},o(a){i=i.filter(Boolean);for(let v=0;v<i.length;v+=1)V(i[v]);f=!1},d(a){a&&h(e),Re(i,a)}}}function Oe(s){let e,l,r,t,o,c,f=s[0][s[27].index][0]+"",n,i,u,a=s[0][s[27].index][1]+"",v,b,D,U=s[0][s[27].index][2]+"",w,C,I,S,j,g,E,R,k,F=".nc",te,de,H,P,he,le,W,X,$e,Y,pe,se;E=new De({});const xe=[dt,ut,ft],M=[];function m(p,L){return!p[0][p[27].index][3]||p[0][p[27].index][3].tif_convertable&&!p[0][p[27].index][3].tif_cached?0:p[0][p[27].index][3].tif_cached?1:2}H=m(s),P=M[H]=xe[H](s);const q=[mt,_t,ht],A=[];function ne(p,L){return!p[0][p[27].index][3]||p[0][p[27].index][3].tif_convertable&&!p[0][p[27].index][3].tif_cached?0:p[0][p[27].index][3].tif_cached?1:2}return W=ne(s),X=A[W]=q[W](s),{c(){e=$("tr"),l=$("td"),r=$("input"),c=G(`
											 `),n=G(f),i=z(),u=$("td"),v=G(a),b=z(),D=$("td"),w=G(U),C=z(),I=$("td"),S=$("div"),j=$("button"),g=$("a"),K(E.$$.fragment),R=z(),k=$("div"),k.textContent=F,de=z(),P.c(),he=z(),le=$("td"),X.c(),$e=z(),this.h()},l(p){e=x(p,"TR",{class:!0});var L=y(e);l=x(L,"TD",{class:!0});var re=y(l);r=x(re,"INPUT",{type:!0,id:!0}),c=J(re,`
											 `),n=J(re,f),re.forEach(h),i=B(L),u=x(L,"TD",{});var ie=y(u);v=J(ie,a),ie.forEach(h),b=B(L),D=x(L,"TD",{});var Le=y(D);w=J(Le,U),Le.forEach(h),C=B(L),I=x(L,"TD",{class:!0});var Ve=y(I);S=x(Ve,"DIV",{class:!0});var ye=y(S);j=x(ye,"BUTTON",{class:!0});var Ie=y(j);g=x(Ie,"A",{href:!0,class:!0});var ke=y(g);Q(E.$$.fragment,ke),R=B(ke),k=x(ke,"DIV",{class:!0,"data-svelte-h":!0}),ce(k)!=="svelte-edlr5j"&&(k.textContent=F),ke.forEach(h),Ie.forEach(h),de=B(ye),P.l(ye),ye.forEach(h),Ve.forEach(h),he=B(L),le=x(L,"TD",{class:!0});var Ne=y(le);X.l(Ne),Ne.forEach(h),$e=B(L),L.forEach(h),this.h()},h(){d(r,"type","checkbox"),r.value=t=s[27].index,d(r,"id",o="checkbox_"+s[27].index),d(l,"class","col-span-6 w-full break-all pl-1"),d(k,"class","ml-1 flex place-items-center justify-items-center"),d(g,"href",te=ge+"/climate/get_temp_file?name="+s[0][s[27].index][0]+"&type="+s[2]+"&filetype=nc"),d(g,"class","flex"),d(j,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md"),d(S,"class","flex"),d(I,"class","min-w-[122px]"),d(le,"class","min-w-[86px] max-w-[86px]"),d(e,"class","hover:bg-slate-400")},m(p,L){N(p,e,L),_(e,l),_(l,r),_(l,c),_(l,n),_(e,i),_(e,u),_(u,v),_(e,b),_(e,D),_(D,w),_(e,C),_(e,I),_(I,S),_(S,j),_(j,g),Z(E,g,null),_(g,R),_(g,k),_(S,de),M[H].m(S,null),_(e,he),_(e,le),A[W].m(le,null),_(e,$e),Y=!0,pe||(se=me(r,"change",s[5]),pe=!0)},p(p,L){(!Y||L&2&&t!==(t=p[27].index))&&(r.value=t),(!Y||L&2&&o!==(o="checkbox_"+p[27].index))&&d(r,"id",o),(!Y||L&3)&&f!==(f=p[0][p[27].index][0]+"")&&ve(n,f),(!Y||L&3)&&a!==(a=p[0][p[27].index][1]+"")&&ve(v,a),(!Y||L&3)&&U!==(U=p[0][p[27].index][2]+"")&&ve(w,U),(!Y||L&7&&te!==(te=ge+"/climate/get_temp_file?name="+p[0][p[27].index][0]+"&type="+p[2]+"&filetype=nc"))&&d(g,"href",te);let re=H;H=m(p),H===re?M[H].p(p,L):(ue(),V(M[re],1,1,()=>{M[re]=null}),fe(),P=M[H],P?P.p(p,L):(P=M[H]=xe[H](p),P.c()),T(P,1),P.m(S,null));let ie=W;W=ne(p),W===ie?A[W].p(p,L):(ue(),V(A[ie],1,1,()=>{A[ie]=null}),fe(),X=A[W],X?X.p(p,L):(X=A[W]=q[W](p),X.c()),T(X,1),X.m(le,null))},i(p){Y||(T(E.$$.fragment,p),T(P),T(X),Y=!0)},o(p){V(E.$$.fragment,p),V(P),V(X),Y=!1},d(p){p&&h(e),ee(E),M[H].d(),A[W].d(),pe=!1,se()}}}function ft(s){let e,l,r;return l=new Ce({}),{c(){e=$("div"),K(l.$$.fragment),this.h()},l(t){e=x(t,"DIV",{class:!0});var o=y(e);Q(l.$$.fragment,o),o.forEach(h),this.h()},h(){d(e,"class","flex w-full pr-2 items-center justify-center")},m(t,o){N(t,e,o),Z(l,e,null),r=!0},p:O,i(t){r||(T(l.$$.fragment,t),r=!0)},o(t){V(l.$$.fragment,t),r=!1},d(t){t&&h(e),ee(l)}}}function ut(s){let e,l,r,t,o,c=".tif",f,n;return r=new De({}),{c(){e=$("button"),l=$("a"),K(r.$$.fragment),t=z(),o=$("div"),o.textContent=c,this.h()},l(i){e=x(i,"BUTTON",{class:!0});var u=y(e);l=x(u,"A",{href:!0,class:!0});var a=y(l);Q(r.$$.fragment,a),t=B(a),o=x(a,"DIV",{class:!0,"data-svelte-h":!0}),ce(o)!=="svelte-1w7rk12"&&(o.textContent=c),a.forEach(h),u.forEach(h),this.h()},h(){d(o,"class","ml-1 flex place-items-center justify-center"),d(l,"href",f=ge+"/climate/get_temp_file?name="+s[0][s[27].index][0]+"&type="+s[2]+"&filetype=tif"),d(l,"class","flex"),d(e,"class","max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(i,u){N(i,e,u),_(e,l),Z(r,l,null),_(l,t),_(l,o),n=!0},p(i,u){(!n||u&7&&f!==(f=ge+"/climate/get_temp_file?name="+i[0][i[27].index][0]+"&type="+i[2]+"&filetype=tif"))&&d(l,"href",f)},i(i){n||(T(r.$$.fragment,i),n=!0)},o(i){V(r.$$.fragment,i),n=!1},d(i){i&&h(e),ee(r)}}}function dt(s){let e,l,r,t,o=".tif",c,f,n;l=new Je({});function i(){return s[13](s[27])}return{c(){e=$("button"),K(l.$$.fragment),r=z(),t=$("div"),t.textContent=o,this.h()},l(u){e=x(u,"BUTTON",{class:!0});var a=y(e);Q(l.$$.fragment,a),r=B(a),t=x(a,"DIV",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-f80eim"&&(t.textContent=o),a.forEach(h),this.h()},h(){d(t,"class","ml-1 flex text-white place-items-center justify-items-center"),d(e,"class","max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md")},m(u,a){N(u,e,a),Z(l,e,null),_(e,r),_(e,t),c=!0,f||(n=me(e,"click",i),f=!0)},p(u,a){s=u},i(u){c||(T(l.$$.fragment,u),c=!0)},o(u){V(l.$$.fragment,u),c=!1},d(u){u&&h(e),ee(l),f=!1,n()}}}function ht(s){let e,l,r;return l=new Ce({}),{c(){e=$("div"),K(l.$$.fragment),this.h()},l(t){e=x(t,"DIV",{class:!0});var o=y(e);Q(l.$$.fragment,o),o.forEach(h),this.h()},h(){d(e,"class","flex w-full pr-2 items-center justify-center")},m(t,o){N(t,e,o),Z(l,e,null),r=!0},p:O,i(t){r||(T(l.$$.fragment,t),r=!0)},o(t){V(l.$$.fragment,t),r=!1},d(t){t&&h(e),ee(l)}}}function _t(s){let e,l,r,t,o="View",c,f,n;l=new Ge({});function i(){return s[15](s[27])}return{c(){e=$("button"),K(l.$$.fragment),r=z(),t=$("div"),t.textContent=o,this.h()},l(u){e=x(u,"BUTTON",{class:!0});var a=y(e);Q(l.$$.fragment,a),r=B(a),t=x(a,"DIV",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1qfq5xl"&&(t.textContent=o),a.forEach(h),this.h()},h(){d(t,"class","ml-1 flex text-white place-items-center justify-items-center"),d(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-primary hover:bg-primary-900 rounded-md")},m(u,a){N(u,e,a),Z(l,e,null),_(e,r),_(e,t),c=!0,f||(n=me(e,"click",i),f=!0)},p(u,a){s=u},i(u){c||(T(l.$$.fragment,u),c=!0)},o(u){V(l.$$.fragment,u),c=!1},d(u){u&&h(e),ee(l),f=!1,n()}}}function mt(s){let e,l,r,t,o="Fetch",c,f,n;l=new We({});function i(){return s[14](s[27])}return{c(){e=$("button"),K(l.$$.fragment),r=z(),t=$("div"),t.textContent=o,this.h()},l(u){e=x(u,"BUTTON",{class:!0});var a=y(e);Q(l.$$.fragment,a),r=B(a),t=x(a,"DIV",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-ficqdm"&&(t.textContent=o),a.forEach(h),this.h()},h(){d(t,"class","ml-1 flex text-white place-items-center justify-items-center"),d(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-secondary hover:bg-secondary-900 rounded-md")},m(u,a){N(u,e,a),Z(l,e,null),_(e,r),_(e,t),c=!0,f||(n=me(e,"click",i),f=!0)},p(u,a){s=u},i(u){c||(T(l.$$.fragment,u),c=!0)},o(u){V(l.$$.fragment,u),c=!1},d(u){u&&h(e),ee(l),f=!1,n()}}}function Ue(s){let e=s[0][s[27].index][0].toLowerCase().includes(s[3].toLowerCase()),l,r,t=e&&Oe(s);return{c(){t&&t.c(),l=Ee()},l(o){t&&t.l(o),l=Ee()},m(o,c){t&&t.m(o,c),N(o,l,c),r=!0},p(o,c){c&11&&(e=o[0][o[27].index][0].toLowerCase().includes(o[3].toLowerCase())),e?t?(t.p(o,c),c&11&&T(t,1)):(t=Oe(o),t.c(),T(t,1),t.m(l.parentNode,l)):t&&(ue(),V(t,1,1,()=>{t=null}),fe())},i(o){r||(T(t),r=!0)},o(o){V(t),r=!1},d(o){o&&h(l),t&&t.d(o)}}}function He(s){let e,l,r,t=s[23]+"",o,c,f=s[24].files.length+"",n,i,u,a,v,b,D;function U(){return s[12](s[23])}let w=s[24].toggled&&Ae(s);return{c(){e=$("div"),l=$("button"),r=$("h2"),o=G(t),c=G(" ("),n=G(f),i=G(")"),u=z(),w&&w.c(),a=Ee(),this.h()},l(C){e=x(C,"DIV",{class:!0});var I=y(e);l=x(I,"BUTTON",{class:!0});var S=y(l);r=x(S,"H2",{class:!0});var j=y(r);o=J(j,t),c=J(j," ("),n=J(j,f),i=J(j,")"),j.forEach(h),S.forEach(h),I.forEach(h),u=B(C),w&&w.l(C),a=Ee(),this.h()},h(){d(r,"class","text-xl"),d(l,"class","w-full flex items-left"),d(e,"class","w-full flex items-center rounded-md h-8 pl-3 "+(s[26]%2==0?"bg-emerald-700":"bg-emerald-900")+" mb-1")},m(C,I){N(C,e,I),_(e,l),_(l,r),_(r,o),_(r,c),_(r,n),_(r,i),N(C,u,I),w&&w.m(C,I),N(C,a,I),v=!0,b||(D=me(l,"click",U),b=!0)},p(C,I){s=C,(!v||I&2)&&t!==(t=s[23]+"")&&ve(o,t),(!v||I&2)&&f!==(f=s[24].files.length+"")&&ve(n,f),s[24].toggled?w?(w.p(s,I),I&2&&T(w,1)):(w=Ae(s),w.c(),T(w,1),w.m(a.parentNode,a)):w&&(ue(),V(w,1,1,()=>{w=null}),fe())},i(C){v||(T(w),v=!0)},o(C){V(w),v=!1},d(C){C&&(h(e),h(u),h(a)),w&&w.d(C),b=!1,D()}}}function Pe(s){let e,l,r=Te(Object.entries(s[1])),t=[];for(let c=0;c<r.length;c+=1)t[c]=He(je(s,r,c));const o=c=>V(t[c],1,1,()=>{t[c]=null});return{c(){e=$("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=x(c,"DIV",{class:!0});var f=y(e);for(let n=0;n<t.length;n+=1)t[n].l(f);f.forEach(h),this.h()},h(){d(e,"class","p-2")},m(c,f){N(c,e,f);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null);l=!0},p(c,f){if(f&431){r=Te(Object.entries(c[1]));let n;for(n=0;n<r.length;n+=1){const i=je(c,r,n);t[n]?(t[n].p(i,f),T(t[n],1)):(t[n]=He(i),t[n].c(),T(t[n],1),t[n].m(e,null))}for(ue(),n=r.length;n<t.length;n+=1)o(n);fe()}},i(c){if(!l){for(let f=0;f<r.length;f+=1)T(t[f]);l=!0}},o(c){t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)V(t[f]);l=!1},d(c){c&&h(e),Re(t,c)}}}function Fe(s){let e,l,r,t="<span>To download all objects using Wget:</span>",o,c,f,n,i,u="<span>Additional arguments:</span>",a,v,b;return{c(){e=$("div"),l=$("div"),r=$("div"),r.innerHTML=t,o=z(),c=$("span"),f=G(s[4]),n=z(),i=$("div"),i.innerHTML=u,a=z(),v=$("span"),b=G(Se),this.h()},l(D){e=x(D,"DIV",{style:!0});var U=y(e);l=x(U,"DIV",{class:!0});var w=y(l);r=x(w,"DIV",{class:!0,"data-svelte-h":!0}),ce(r)!=="svelte-1dbgnme"&&(r.innerHTML=t),o=B(w),c=x(w,"SPAN",{class:!0});var C=y(c);f=J(C,s[4]),C.forEach(h),n=B(w),i=x(w,"DIV",{class:!0,"data-svelte-h":!0}),ce(i)!=="svelte-f7330h"&&(i.innerHTML=u),a=B(w),v=x(w,"SPAN",{class:!0});var I=y(v);b=J(I,Se),I.forEach(h),w.forEach(h),U.forEach(h),this.h()},h(){d(r,"class","mb-2"),d(c,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),d(i,"class","mb-1 mt-2 text-sm"),d(v,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 text-sm [word-spacing:4px]"),d(l,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2"),Ke(e,"display","flex")},m(D,U){N(D,e,U),_(e,l),_(l,r),_(l,o),_(l,c),_(c,f),_(l,n),_(l,i),_(l,a),_(l,v),_(v,b)},p(D,U){U&16&&ve(f,D[4])},d(D){D&&h(e)}}}function pt(s){let e,l,r,t,o,c,f,n,i,u,a,v,b,D,U,w,C,I,S,j,g,E,R,k,F,te,de,H,P,he,le,W,X;function $e(m){s[10](m)}let Y={};s[2]!==void 0&&(Y.foldertype=s[2]),e=new et({props:Y}),Xe.push(()=>Ze(e,"foldertype",$e)),e.$on("foldertype_changed",s[9]);const pe=[ct,ot],se=[];function xe(m,q){return m[0]?0:1}f=xe(s),n=se[f]=pe[f](s);let M=s[4].length>0&&Fe(s);return b=new De({}),C=new Ge({}),g=new We({}),F=new Je({}),P=new Ce({}),{c(){K(e.$$.fragment),r=z(),t=$("div"),o=$("input"),c=z(),n.c(),i=z(),M&&M.c(),u=z(),a=$("div"),v=$("div"),K(b.$$.fragment),D=G("  Download file in (.format)."),U=z(),w=$("div"),K(C.$$.fragment),I=G("  View file on map."),S=z(),j=$("div"),K(g.$$.fragment),E=G("  Try to generate and visualize. (might fail)"),R=z(),k=$("div"),K(F.$$.fragment),te=G("  Try to generate tif and download. (might fail)"),de=z(),H=$("div"),K(P.$$.fragment),he=G("  Tiff not creatable. (no download/visualization)."),this.h()},l(m){Q(e.$$.fragment,m),r=B(m),t=x(m,"DIV",{});var q=y(t);o=x(q,"INPUT",{class:!0,type:!0,placeholder:!0}),q.forEach(h),c=B(m),n.l(m),i=B(m),M&&M.l(m),u=B(m),a=x(m,"DIV",{class:!0});var A=y(a);v=x(A,"DIV",{class:!0});var ne=y(v);Q(b.$$.fragment,ne),D=J(ne,"  Download file in (.format)."),ne.forEach(h),U=B(A),w=x(A,"DIV",{class:!0});var p=y(w);Q(C.$$.fragment,p),I=J(p,"  View file on map."),p.forEach(h),S=B(A),j=x(A,"DIV",{class:!0});var L=y(j);Q(g.$$.fragment,L),E=J(L,"  Try to generate and visualize. (might fail)"),L.forEach(h),R=B(A),k=x(A,"DIV",{class:!0});var re=y(k);Q(F.$$.fragment,re),te=J(re,"  Try to generate tif and download. (might fail)"),re.forEach(h),de=B(A),H=x(A,"DIV",{class:!0});var ie=y(H);Q(P.$$.fragment,ie),he=J(ie,"  Tiff not creatable. (no download/visualization)."),ie.forEach(h),A.forEach(h),this.h()},h(){d(o,"class","input w-full mt-4"),d(o,"type","text"),d(o,"placeholder","Filter filenames..."),d(v,"class","flex items-center mb-2"),d(w,"class","flex items-center mb-2"),d(j,"class","flex items-center mb-2"),d(k,"class","flex items-center mb-2"),d(H,"class","flex items-center"),d(a,"class","p-4")},m(m,q){Z(e,m,q),N(m,r,q),N(m,t,q),_(t,o),ze(o,s[3]),N(m,c,q),se[f].m(m,q),N(m,i,q),M&&M.m(m,q),N(m,u,q),N(m,a,q),_(a,v),Z(b,v,null),_(v,D),_(a,U),_(a,w),Z(C,w,null),_(w,I),_(a,S),_(a,j),Z(g,j,null),_(j,E),_(a,R),_(a,k),Z(F,k,null),_(k,te),_(a,de),_(a,H),Z(P,H,null),_(H,he),le=!0,W||(X=me(o,"input",s[11]),W=!0)},p(m,[q]){const A={};!l&&q&4&&(l=!0,A.foldertype=m[2],Ye(()=>l=!1)),e.$set(A),q&8&&o.value!==m[3]&&ze(o,m[3]);let ne=f;f=xe(m),f===ne?se[f].p(m,q):(ue(),V(se[ne],1,1,()=>{se[ne]=null}),fe(),n=se[f],n?n.p(m,q):(n=se[f]=pe[f](m),n.c()),T(n,1),n.m(i.parentNode,i)),m[4].length>0?M?M.p(m,q):(M=Fe(m),M.c(),M.m(u.parentNode,u)):M&&(M.d(1),M=null)},i(m){le||(T(e.$$.fragment,m),T(n),T(b.$$.fragment,m),T(C.$$.fragment,m),T(g.$$.fragment,m),T(F.$$.fragment,m),T(P.$$.fragment,m),le=!0)},o(m){V(e.$$.fragment,m),V(n),V(b.$$.fragment,m),V(C.$$.fragment,m),V(g.$$.fragment,m),V(F.$$.fragment,m),V(P.$$.fragment,m),le=!1},d(m){m&&(h(r),h(t),h(c),h(i),h(u),h(a)),ee(e,m),se[f].d(m),M&&M.d(m),ee(b),ee(C),ee(g),ee(F),ee(P),W=!1,X()}}}let Se="-r -H -N --cut-dirs=2";function vt(s,e,l){let r,t=[],o={},c=[],f="water_budget";Be(()=>{Me.subscribe(g=>{})}),Be(()=>{D()});let n="";function i(g){let E=parseInt(g.srcElement.value),R=g.srcElement.checked;c[E]=R}async function u(){const g=ge+"/climate/select_temp_urls?type="+f;let E=[];for(let k=0;k<c.length;k++)c[k]&&E.push(t[k][0]);try{const k=await fetch(g,{method:"POST",body:JSON.stringify(E)});let F=[];if(!k.ok){var R=await k.text();throw new Error(`${k.status} ${k.statusText}
Reason: ${R}`)}F=await k.json(),l(4,r=F["wget-command"])}catch(k){console.log(k)}}async function a(g,E){var R=ge+"/climate/access_tif?type="+f+"&name="+g;const k=await fetch(R,{method:"GET"});if(k.ok)t[E][3]||l(0,t[E][3]={},t),l(0,t[E][3].tif_cached=!0,t),l(0,t=[...t]);else{t[E][3]||l(0,t[E][3]={},t),l(0,t[E][3].tif_cached=!1,t),l(0,t[E][3].tif_convertable=!1,t),l(0,t=[...t]);var F=await k.text();throw new Error(`${k.status} ${k.statusText}
Reason: ${F}`)}}function v(g){Me.set({filename:g,foldertype:f}),lt("/view_geotiff")}function b(){const g=/^(.+)_v(\d+)_([^_]+)/;l(1,o={});let E={};E["No Category"]={files:[],toggled:!1};for(let k=0;k<t.length;k++){var R=t[k][0];const F=R.match(g);if(F&&F.length>=3){const te=F[0];E[te]||(E[te]={files:[],toggled:!1}),E[te].files.push({filename:R,index:k})}else E["No Category"].files.push({filename:R,index:k})}E["No Category"].files.length==0&&delete E["No Category"],l(1,o=E)}function D(){tt(f,!1).then(g=>{l(0,t=g.content),b()}).catch(g=>{console.log(g)})}function U(g){f=g,l(2,f)}function w(){n=this.value,l(3,n)}const C=g=>{l(1,o[g].toggled=!o[g].toggled,o)},I=g=>a(t[g.index][0],g.index),S=g=>a(t[g.index][0],g.index),j=g=>v(t[g.index][0]);return l(4,r=""),[t,o,f,n,r,i,u,a,v,D,U,w,C,I,S,j]}class kt extends be{constructor(e){super(),we(this,e,vt,pt,_e,{})}}export{kt as component};
