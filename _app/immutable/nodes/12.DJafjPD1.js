import{s as al,n as ne,d as p,i as A,l as C,c as _,e as $,h as m,y as On,a as G,b as n,C as Bn,g as T,f as V,m as j,j as E,t as M,H as Et,I as yt,u as B,F as Kt}from"../chunks/CAmWBqAG.js";import{S as Fl,i as Ol,d as Q,t as L,a as D,m as W,c as J,b as ee,f as $t,g as be,e as Ce}from"../chunks/CS72Z8Kx.js";import{A as kt}from"../chunks/BO6XNHuD.js";import{m as Un}from"../chunks/e1TIQ9lZ.js";import{C as Hn,c as Kn,b as Zn,d as je,e as kn,f as Yn,I as Xn,R as Pn,t as Qn,g as Wn,h as Jn,i as Sn,j as es,k as In,l as Zt,m as Rn,n as ts,o as as,p as ls,q as ns,r as ss,s as is,B as os,M as rs,V as fs,O as cs,P as ds,F as us,u as _s,v as ms,S as ps,w as vs,x as gs,T as hs,y as bs}from"../chunks/B8ODvhsC.js";import"../chunks/C0wl4X5i.js";import{r as el,s as Nn,C as Cs,T as ws,a as tl,D as Gn,P as zl,M as xs,b as Ts}from"../chunks/C2qG567A.js";class Es extends Hn{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Kn(),this.tmpTileRange_=new Zn(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),l=e.getState(),a=t.getUseInterimTilesOnError();return l==je.LOADED||l==je.EMPTY||l==je.ERROR&&!a}getTile(e,t,l,a){const r=a.pixelRatio,f=a.viewState.projection,u=this.getLayer();let o=u.getSource().getTile(e,t,l,r,f);return o.getState()==je.ERROR&&u.getUseInterimTilesOnError()&&u.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(o)||(o=o.getInterimTile()),o}getData(e){const t=this.frameState;if(!t)return null;const l=this.getLayer(),a=kn(t.pixelToCoordinateTransform,e.slice()),r=l.getExtent();if(r&&!Yn(r,a))return null;const f=t.pixelRatio,u=t.viewState.projection,i=t.viewState,o=l.getRenderSource(),c=o.getTileGridForProjection(i.projection),d=o.getTilePixelRatio(t.pixelRatio);for(let h=c.getZForResolution(i.resolution);h>=c.getMinZoom();--h){const g=c.getTileCoordForCoordAndZ(a,h),w=o.getTile(h,g[1],g[2],f,u);if(!(w instanceof Xn||w instanceof Pn)||w instanceof Pn&&w.getState()===je.EMPTY)return null;if(w.getState()!==je.LOADED)continue;const R=c.getOrigin(h),S=Qn(c.getTileSize(h)),P=c.getResolution(h),v=Math.floor(d*((a[0]-R[0])/P-g[1]*S[0])),b=Math.floor(d*((R[1]-a[1])/P-g[2]*S[1])),y=Math.round(d*o.getGutterForProjection(i.projection));return this.getImageData(w.getImage(),v+y,b+y)}return null}loadedTileCallback(e,t,l){return this.isDrawableTile(l)?super.loadedTileCallback(e,t,l):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const l=e.layerStatesArray[e.layerIndex],a=e.viewState,r=a.projection,f=a.resolution,u=a.center,i=a.rotation,o=e.pixelRatio,c=this.getLayer(),d=c.getSource(),h=d.getRevision(),g=d.getTileGridForProjection(r),w=g.getZForResolution(f,d.zDirection),R=g.getResolution(w);let S=e.extent;const P=e.viewState.resolution,v=d.getTilePixelRatio(o),b=Math.round(Wn(S)/P*o),y=Math.round(Jn(S)/P*o),x=l.extent&&Sn(l.extent);x&&(S=es(S,Sn(l.extent)));const z=R*b/2/v,re=R*y/2/v,fe=[u[0]-z,u[1]-re,u[0]+z,u[1]+re],te=g.getTileRangeForExtentAndZ(S,w),se={};se[w]={};const Yt=this.createLoadedTileFinder(d,r,se),Pt=this.tmpExtent,we=this.tmpTileRange_;this.newTiles_=!1;const ze=i?In(a.center,P,i,e.size):void 0;for(let ie=te.minX;ie<=te.maxX;++ie)for(let U=te.minY;U<=te.maxY;++U){if(i&&!g.tileCoordIntersectsViewport([w,ie,U],ze))continue;const q=this.getTile(w,ie,U,e);if(this.isDrawableTile(q)){const me=Zt(this);if(q.getState()==je.LOADED){se[w][q.tileCoord.toString()]=q;let oe=q.inTransition(me);oe&&l.opacity!==1&&(q.endTransition(me),oe=!1),!this.newTiles_&&(oe||!this.renderedTiles.includes(q))&&(this.newTiles_=!0)}if(q.getAlpha(me,e.time)===1)continue}const de=g.getTileCoordChildTileRange(q.tileCoord,we,Pt);let Se=!1;de&&(Se=Yt(w+1,de)),Se||g.forEachTileCoordParentTileRange(q.tileCoord,Yt,we,Pt)}const xe=R/f*o/v;Rn(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,i,-b/2,-y/2);const Fe=ts(this.pixelTransform);this.useContainer(t,Fe,this.getBackground(e));const O=this.getRenderContext(e),ae=this.context.canvas;as(this.inversePixelTransform,this.pixelTransform),Rn(this.tempTransform,b/2,y/2,xe,xe,0,-b/2,-y/2),ae.width!=b||ae.height!=y?(ae.width=b,ae.height=y):this.containerReused||O.clearRect(0,0,b,y),x&&this.clipUnrotated(O,e,x),d.getInterpolate()||(O.imageSmoothingEnabled=!1),this.preRender(O,e),this.renderedTiles.length=0;let Pe=Object.keys(se).map(Number);Pe.sort(ls);let ue,_e,K;l.opacity===1&&(!this.containerReused||d.getOpaque(e.viewState.projection))?Pe=Pe.reverse():(ue=[],_e=[]);for(let ie=Pe.length-1;ie>=0;--ie){const U=Pe[ie],q=d.getTilePixelSize(U,o,r),Se=g.getResolution(U)/R,me=q[0]*Se*xe,oe=q[1]*Se*xe,Te=g.getTileCoordForCoordAndZ(ns(fe),U),Oe=g.getTileCoordExtent(Te),Ie=kn(this.tempTransform,[v*(Oe[0]-fe[0])/R,v*(fe[3]-Oe[3])/R]),Ee=v*d.getGutterForProjection(r),pe=se[U];for(const _a in pe){const ve=pe[_a],ye=ve.tileCoord,Re=Te[1]-ye[1],St=Math.round(Ie[0]-(Re-1)*me),It=Te[2]-ye[2],$e=Math.round(Ie[1]-(It-1)*oe),H=Math.round(Ie[0]-Re*me),ce=Math.round(Ie[1]-It*oe),ke=St-H,le=$e-ce,Ne=w===U,Ge=Ne&&ve.getAlpha(Zt(this),e.time)!==1;let qe=!1;if(!Ge)if(ue){K=[H,ce,H+ke,ce,H+ke,ce+le,H,ce+le];for(let ge=0,Rt=ue.length;ge<Rt;++ge)if(w!==U&&U<_e[ge]){const Z=ue[ge];ss([H,ce,H+ke,ce+le],[Z[0],Z[3],Z[4],Z[7]])&&(qe||(O.save(),qe=!0),O.beginPath(),O.moveTo(K[0],K[1]),O.lineTo(K[2],K[3]),O.lineTo(K[4],K[5]),O.lineTo(K[6],K[7]),O.moveTo(Z[6],Z[7]),O.lineTo(Z[4],Z[5]),O.lineTo(Z[2],Z[3]),O.lineTo(Z[0],Z[1]),O.clip())}ue.push(K),_e.push(U)}else O.clearRect(H,ce,ke,le);this.drawTileImage(ve,e,H,ce,ke,le,Ee,Ne),ue&&!Ge?(qe&&O.restore(),this.renderedTiles.unshift(ve)):this.renderedTiles.push(ve),this.updateUsedTiles(e.usedTiles,d,ve)}}return this.renderedRevision=h,this.renderedResolution=R,this.extentChanged=!this.renderedExtent_||!is(this.renderedExtent_,fe),this.renderedExtent_=fe,this.renderedPixelRatio=o,this.renderedProjection=r,this.manageTilePyramid(e,d,g,o,r,S,w,c.getPreload()),this.scheduleExpireCache(e,d),this.postRender(this.context,e),l.extent&&O.restore(),O.imageSmoothingEnabled=!0,Fe!==ae.style.transform&&(ae.style.transform=Fe),this.container}drawTileImage(e,t,l,a,r,f,u,i){const o=this.getTileImage(e);if(!o)return;const c=this.getRenderContext(t),d=Zt(this),h=t.layerStatesArray[t.layerIndex],g=h.opacity*(i?e.getAlpha(d,t.time):1),w=g!==c.globalAlpha;w&&(c.save(),c.globalAlpha=g),c.drawImage(o,u,u,o.width-2*u,o.height-2*u,l,a,r,f),w&&c.restore(),g!==h.opacity?t.animate=!0:i&&e.endTransition(d)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const l=(function(a,r,f){const u=Zt(a);u in f.usedTiles&&a.expireCache(f.viewState.projection,f.usedTiles[u])}).bind(null,t);e.postRenderFunctions.push(l)}}updateUsedTiles(e,t,l){const a=Zt(t);a in e||(e[a]={}),e[a][l.getKey()]=!0}manageTilePyramid(e,t,l,a,r,f,u,i,o){const c=Zt(t);c in e.wantedTiles||(e.wantedTiles[c]={});const d=e.wantedTiles[c],h=e.tileQueue,g=l.getMinZoom(),w=e.viewState.rotation,R=w?In(e.viewState.center,e.viewState.resolution,w,e.size):void 0;let S=0,P,v,b,y,x,z;for(z=g;z<=u;++z)for(v=l.getTileRangeForExtentAndZ(f,z,v),b=l.getResolution(z),y=v.minX;y<=v.maxX;++y)for(x=v.minY;x<=v.maxY;++x)w&&!l.tileCoordIntersectsViewport([z,y,x],R)||(u-z<=i?(++S,P=t.getTile(z,y,x,a,r),P.getState()==je.IDLE&&(d[P.getKey()]=!0,h.isKeyQueued(P.getKey())||h.enqueue([P,c,l.getTileCoordCenter(P.tileCoord),b])),o!==void 0&&o(P)):t.useTile(z,y,x,r));t.updateCacheSize(S,r)}}class ys extends os{constructor(e){super(e)}createRenderer(){return new Es(this)}}function $s(s,e,t){let l=t.file.long_name,a=t.file.frequency+"ly",r="None",f=!1,u="None",i="None",o="None",c="None",d="None",h=!1,g="";if(a=="dayly"&&(a="daily"),e.includes("vaal")?r="Vaal":e.includes("kunene")?r="Kunene":e.includes("luanginga")&&(r="Luanginga"),s.includes("_b_")&&(f=!0),e.includes("CORDEX")?(u="Cordex-Core",s.includes("REMO")?o="GERICS-REMO2015":s.includes("KIT")?o="KIT-CCLM5-0-15":s.includes("ICTP")&&(o="ICTP-RegCM4-7"),i=t.driving_model_id):e.includes("CMIP6")?(u="CMIP6",i=t.source_id):e.includes("ERA5")?u="Era5-Land":e.includes("GLEAM")&&(u="GLEAM"),s.includes("yearsum")||s.includes("yearmean")){a="annual aggregated";let w=s.match(/year(?:sum|mean)_(\d{4})_(\d{4})-(\d{4})_(\d{4})/),R=s.match(/year(?:sum|mean)_(\d{4}_\d{4})/);w?(d=`${w[1]}–${w[2]}`,c=`${w[3]}–${w[4]}`):R&&R&&(c=`${R[1]}–${R[2]}`)}if(s.includes("_mean_")){h=!0;let w=s.match(/_mean_(\d{4})_(\d{4})-(\d{4})_(\d{4})/),R=s.match(/_mean_(\d{4})_(\d{4})/);w?(d=`${w[1]}–${w[2]}`,c=`${w[3]}–${w[4]}`):R&&R&&(c=`${R[1]}–${R[2]}`)}return h&&(g+="mean value of "),a!="nonely"&&(g+=a+" data of "),g+=l+" ",u!="None"&&(g+="based on "+u+" ",i!="None"?g+=i+" global model ":g+="dataset ",o!="None"&&(g+="and "+o+" regional model "),f&&(g+="with bias correction "),c!="None"&&(g+="for time period "+c+" "),d!="None"&&(g+="compared to "+d+" "),r!="None"&&(g+="clipped to "+r+" study area ")),g=ks(g),g}function ks(s){return s?(s=s.trimEnd(),s=s.charAt(0).toUpperCase()+s.slice(1),s.endsWith(".")||(s+="."),s):""}function Ps(s){let e;return{c(){e=m("div"),this.h()},l(t){e=_(t,"DIV",{id:!0,class:!0}),$(e).forEach(p),this.h()},h(){C(e,"id","map"),C(e,"class","svelte-mjfcf6")},m(t,l){A(t,e,l)},p:ne,i:ne,o:ne,d(t){t&&p(e)}}}function Ss(s,e,t){let{extent:l}=e;function a(r,f,u="EPSG:4326"){if(!r||!f||f.length!==4){console.error("Invalid map or extent");return}const[i,o,c,d]=f,h=new ds([[[i,o],[i,d],[c,d],[c,o],[i,o]]]);h.transform(u,r.getView().getProjection());const g=new us(h),w=new _s({features:[g]}),R=new ms({source:w,style:new ps({stroke:new gs({color:"rgba(255, 120, 0, 0.8)",width:2}),fill:new vs({color:"rgba(255, 120, 0, 0.2)"})})});return r.addLayer(R),r.getView().fit(h,{padding:[20,20,20,20]}),R}return On(()=>{let r=new rs({target:"map",layers:[new ys({source:new cs})],view:new fs({center:[0,0],zoom:2,projection:"EPSG:3857"})});a(r,l)}),s.$$set=r=>{"extent"in r&&t(0,l=r.extent)},[l,a]}class Is extends Fl{constructor(e){super(),Ol(this,e,Ss,Ps,al,{extent:0,drawExtentBox:1})}get drawExtentBox(){return this.$$.ctx[1]}}const Rs="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M17%2018V21M17%2015H17.01M13%203V7.4C13%207.96005%2013%208.24008%2013.109%208.45399C13.2049%208.64215%2013.3578%208.79513%2013.546%208.89101C13.7599%209%2014.0399%209%2014.6%209H19M13%203H8.2C7.0799%203%206.51984%203%206.09202%203.21799C5.71569%203.40973%205.40973%203.71569%205.21799%204.09202C5%204.51984%205%205.0799%205%206.2V17.8C5%2018.9201%205%2019.4802%205.21799%2019.908C5.40973%2020.2843%205.71569%2020.5903%206.09202%2020.782C6.51984%2021%207.0799%2021%208.2%2021H13M13%203L19%209M19%209V11.5'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e";function Dn(s){let e,t,l="Climatology Bounds Start:",a,r,f=Le(s[0].metadata.file.climatology_bounds[0][0])+"",u,i,o,c,d="Climatology Bounds End:",h,g,w=Le(s[0].metadata.file.climatology_bounds[0][1])+"",R;return{c(){e=m("div"),t=m("span"),t.textContent=l,a=E(),r=m("span"),u=M(f),i=E(),o=m("div"),c=m("span"),c.textContent=d,h=E(),g=m("span"),R=M(w),this.h()},l(S){e=_(S,"DIV",{});var P=$(e);t=_(P,"SPAN",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-99av7i"&&(t.textContent=l),a=T(P),r=_(P,"SPAN",{class:!0});var v=$(r);u=V(v,f),v.forEach(p),P.forEach(p),i=T(S),o=_(S,"DIV",{});var b=$(o);c=_(b,"SPAN",{class:!0,"data-svelte-h":!0}),j(c)!=="svelte-1gu05yd"&&(c.textContent=d),h=T(b),g=_(b,"SPAN",{class:!0});var y=$(g);R=V(y,w),y.forEach(p),b.forEach(p),this.h()},h(){C(t,"class","font-bold ml-4 text-blue-400"),C(r,"class","ml-2"),C(c,"class","font-bold ml-4 text-blue-400"),C(g,"class","ml-2")},m(S,P){A(S,e,P),n(e,t),n(e,a),n(e,r),n(r,u),A(S,i,P),A(S,o,P),n(o,c),n(o,h),n(o,g),n(g,R)},p(S,P){P&1&&f!==(f=Le(S[0].metadata.file.climatology_bounds[0][0])+"")&&G(u,f),P&1&&w!==(w=Le(S[0].metadata.file.climatology_bounds[0][1])+"")&&G(R,w)},d(S){S&&(p(e),p(i),p(o))}}}function An(s){let e,t,l="Climatology Bounds 1st Period:",a,r,f=Le(s[0].metadata.file.climatology_bounds_details[0])+"",u,i,o,c,d="Climatology Bounds 2nd Period:",h,g,w=Le(s[0].metadata.file.climatology_bounds_details[1])+"",R;return{c(){e=m("div"),t=m("span"),t.textContent=l,a=E(),r=m("span"),u=M(f),i=E(),o=m("div"),c=m("span"),c.textContent=d,h=E(),g=m("span"),R=M(w),this.h()},l(S){e=_(S,"DIV",{});var P=$(e);t=_(P,"SPAN",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-zha96v"&&(t.textContent=l),a=T(P),r=_(P,"SPAN",{class:!0});var v=$(r);u=V(v,f),v.forEach(p),P.forEach(p),i=T(S),o=_(S,"DIV",{});var b=$(o);c=_(b,"SPAN",{class:!0,"data-svelte-h":!0}),j(c)!=="svelte-1ox1kwb"&&(c.textContent=d),h=T(b),g=_(b,"SPAN",{class:!0});var y=$(g);R=V(y,w),y.forEach(p),b.forEach(p),this.h()},h(){C(t,"class","font-bold ml-4 text-blue-400"),C(r,"class","ml-2"),C(c,"class","font-bold ml-4 text-blue-400"),C(g,"class","ml-2")},m(S,P){A(S,e,P),n(e,t),n(e,a),n(e,r),n(r,u),A(S,i,P),A(S,o,P),n(o,c),n(o,h),n(o,g),n(g,R)},p(S,P){P&1&&f!==(f=Le(S[0].metadata.file.climatology_bounds_details[0])+"")&&G(u,f),P&1&&w!==(w=Le(S[0].metadata.file.climatology_bounds_details[1])+"")&&G(R,w)},d(S){S&&(p(e),p(i),p(o))}}}function Ns(s){let e,t="Other Metadata";return{c(){e=m("span"),e.textContent=t},l(l){e=_(l,"SPAN",{"data-svelte-h":!0}),j(e)!=="svelte-14jvd71"&&(e.textContent=t)},m(l,a){A(l,e,a)},p:ne,d(l){l&&p(e)}}}function Ds(s){let e;return{c(){e=M("Related Datasets")},l(t){e=V(t,"Related Datasets")},m(t,l){A(t,e,l)},d(t){t&&p(e)}}}function As(s){let e;return{c(){e=M("Provenance")},l(t){e=V(t,"Provenance")},m(t,l){A(t,e,l)},d(t){t&&p(e)}}}function Vn(s){let e,t,l;function a(f){s[14](f)}let r={name:"tab4",value:3,$$slots:{default:[Vs]},$$scope:{ctx:s}};return s[4]!==void 0&&(r.group=s[4]),e=new tl({props:r}),Et.push(()=>$t(e,"group",a)),{c(){ee(e.$$.fragment)},l(f){J(e.$$.fragment,f)},m(f,u){W(e,f,u),l=!0},p(f,u){const i={};u&32768&&(i.$$scope={dirty:u,ctx:f}),!t&&u&16&&(t=!0,i.group=f[4],yt(()=>t=!1)),e.$set(i)},i(f){l||(D(e.$$.fragment,f),l=!0)},o(f){L(e.$$.fragment,f),l=!1},d(f){Q(e,f)}}}function Vs(s){let e;return{c(){e=M("Map")},l(t){e=V(t,"Map")},m(t,l){A(t,e,l)},d(t){t&&p(e)}}}function Ms(s){let e,t,l,a,r,f,u,i,o,c,d;function h(b){s[11](b)}let g={name:"tab1",value:0,$$slots:{default:[Ns]},$$scope:{ctx:s}};s[4]!==void 0&&(g.group=s[4]),e=new tl({props:g}),Et.push(()=>$t(e,"group",h));function w(b){s[12](b)}let R={name:"tab1",value:1,$$slots:{default:[Ds]},$$scope:{ctx:s}};s[4]!==void 0&&(R.group=s[4]),a=new tl({props:R}),Et.push(()=>$t(a,"group",w));function S(b){s[13](b)}let P={name:"tab2",value:2,$$slots:{default:[As]},$$scope:{ctx:s}};s[4]!==void 0&&(P.group=s[4]),u=new tl({props:P}),Et.push(()=>$t(u,"group",S));let v=s[0].tif_convertable&&Vn(s);return{c(){ee(e.$$.fragment),l=E(),ee(a.$$.fragment),f=E(),ee(u.$$.fragment),o=E(),v&&v.c(),c=B()},l(b){J(e.$$.fragment,b),l=T(b),J(a.$$.fragment,b),f=T(b),J(u.$$.fragment,b),o=T(b),v&&v.l(b),c=B()},m(b,y){W(e,b,y),A(b,l,y),W(a,b,y),A(b,f,y),W(u,b,y),A(b,o,y),v&&v.m(b,y),A(b,c,y),d=!0},p(b,y){const x={};y&32768&&(x.$$scope={dirty:y,ctx:b}),!t&&y&16&&(t=!0,x.group=b[4],yt(()=>t=!1)),e.$set(x);const z={};y&32768&&(z.$$scope={dirty:y,ctx:b}),!r&&y&16&&(r=!0,z.group=b[4],yt(()=>r=!1)),a.$set(z);const re={};y&32768&&(re.$$scope={dirty:y,ctx:b}),!i&&y&16&&(i=!0,re.group=b[4],yt(()=>i=!1)),u.$set(re),b[0].tif_convertable?v?(v.p(b,y),y&1&&D(v,1)):(v=Vn(b),v.c(),D(v,1),v.m(c.parentNode,c)):v&&(be(),L(v,1,1,()=>{v=null}),Ce())},i(b){d||(D(e.$$.fragment,b),D(a.$$.fragment,b),D(u.$$.fragment,b),D(v),d=!0)},o(b){L(e.$$.fragment,b),L(a.$$.fragment,b),L(u.$$.fragment,b),L(v),d=!1},d(b){b&&(p(l),p(f),p(o),p(c)),Q(e,b),Q(a,b),Q(u,b),v&&v.d(b)}}}function js(s){let e,t,l=s[5]&&s[5]!=""&&Mn(s);return{c(){l&&l.c(),e=B()},l(a){l&&l.l(a),e=B()},m(a,r){l&&l.m(a,r),A(a,e,r),t=!0},p(a,r){a[5]&&a[5]!=""?l?(l.p(a,r),r&32&&D(l,1)):(l=Mn(a),l.c(),D(l,1),l.m(e.parentNode,e)):l&&(be(),L(l,1,1,()=>{l=null}),Ce())},i(a){t||(D(l),t=!0)},o(a){L(l),t=!1},d(a){a&&p(e),l&&l.d(a)}}}function Ls(s){let e,t,l,a;const r=[Gs,Os],f=[];function u(i,o){return i[0].metadata_prov_exists&&i[0].metadata_show?0:1}return e=u(s),t=f[e]=r[e](s),{c(){t.c(),l=B()},l(i){t.l(i),l=B()},m(i,o){f[e].m(i,o),A(i,l,o),a=!0},p(i,o){let c=e;e=u(i),e===c?f[e].p(i,o):(be(),L(f[c],1,1,()=>{f[c]=null}),Ce(),t=f[e],t?t.p(i,o):(t=f[e]=r[e](i),t.c()),D(t,1),t.m(l.parentNode,l))},i(i){a||(D(t),a=!0)},o(i){L(t),a=!1},d(i){i&&p(l),f[e].d(i)}}}function zs(s){let e,t,l,a;const r=[Bs,qs],f=[];function u(i,o){return i[0].metadata_prov_stats?0:1}return e=u(s),t=f[e]=r[e](s),{c(){t.c(),l=B()},l(i){t.l(i),l=B()},m(i,o){f[e].m(i,o),A(i,l,o),a=!0},p(i,o){let c=e;e=u(i),e===c?f[e].p(i,o):(be(),L(f[c],1,1,()=>{f[c]=null}),Ce(),t=f[e],t?t.p(i,o):(t=f[e]=r[e](i),t.c()),D(t,1),t.m(l.parentNode,l))},i(i){a||(D(t),a=!0)},o(i){L(t),a=!1},d(i){i&&p(l),f[e].d(i)}}}function Fs(s){let e,t,l,a;const r=[Hs,Us],f=[];function u(i,o){return i[0].metadata_exists?0:1}return e=u(s),t=f[e]=r[e](s),{c(){t.c(),l=B()},l(i){t.l(i),l=B()},m(i,o){f[e].m(i,o),A(i,l,o),a=!0},p(i,o){let c=e;e=u(i),e===c?f[e].p(i,o):(be(),L(f[c],1,1,()=>{f[c]=null}),Ce(),t=f[e],t?t.p(i,o):(t=f[e]=r[e](i),t.c()),D(t,1),t.m(l.parentNode,l))},i(i){a||(D(t),a=!0)},o(i){L(t),a=!1},d(i){i&&p(l),f[e].d(i)}}}function Mn(s){let e=s[5],t,l,a=jn(s);return{c(){a.c(),t=B()},l(r){a.l(r),t=B()},m(r,f){a.m(r,f),A(r,t,f),l=!0},p(r,f){f&32&&al(e,e=r[5])?(be(),L(a,1,1,ne),Ce(),a=jn(r),a.c(),D(a,1),a.m(t.parentNode,t)):a.p(r,f)},i(r){l||(D(a),l=!0)},o(r){L(a),l=!1},d(r){r&&p(t),a.d(r)}}}function jn(s){let e,t,l;function a(f){s[10](f)}let r={foldertype:s[1],show_varinfos:!1};return s[5]!==void 0&&(r.selected_file=s[5]),e=new hs({props:r}),Et.push(()=>$t(e,"selected_file",a)),{c(){ee(e.$$.fragment)},l(f){J(e.$$.fragment,f)},m(f,u){W(e,f,u),l=!0},p(f,u){const i={};u&2&&(i.foldertype=f[1]),!t&&u&32&&(t=!0,i.selected_file=f[5],yt(()=>t=!1)),e.$set(i)},i(f){l||(D(e.$$.fragment,f),l=!0)},o(f){L(e.$$.fragment,f),l=!1},d(f){Q(e,f)}}}function Os(s){let e;return{c(){e=M("currently no provenance data available")},l(t){e=V(t,"currently no provenance data available")},m(t,l){A(t,e,l)},p:ne,i:ne,o:ne,d(t){t&&p(e)}}}function Gs(s){let e,t,l,a,r,f="provenance",u,i,o,c;l=new Gn({});let d=s[0].metadata_prov_stats&&Ln(s);return{c(){e=m("button"),t=m("a"),ee(l.$$.fragment),a=E(),r=m("div"),r.textContent=f,i=E(),d&&d.c(),o=B(),this.h()},l(h){e=_(h,"BUTTON",{class:!0});var g=$(e);t=_(g,"A",{href:!0,class:!0,title:!0});var w=$(t);J(l.$$.fragment,w),a=T(w),r=_(w,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-19tiklx"&&(r.textContent=f),w.forEach(p),g.forEach(p),i=T(h),d&&d.l(h),o=B(),this.h()},h(){C(r,"class","ml-1 flex place-items-center justify-items-center"),C(t,"href",u=kt+"/climate/get_temp_file?name="+s[0].filename+"&type="+s[1]+"&filetype=prov"),C(t,"class","flex"),C(t,"title","Download metadata file"),C(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(h,g){A(h,e,g),n(e,t),W(l,t,null),n(t,a),n(t,r),A(h,i,g),d&&d.m(h,g),A(h,o,g),c=!0},p(h,g){(!c||g&3&&u!==(u=kt+"/climate/get_temp_file?name="+h[0].filename+"&type="+h[1]+"&filetype=prov"))&&C(t,"href",u),h[0].metadata_prov_stats?d?(d.p(h,g),g&1&&D(d,1)):(d=Ln(h),d.c(),D(d,1),d.m(o.parentNode,o)):d&&(be(),L(d,1,1,()=>{d=null}),Ce())},i(h){c||(D(l.$$.fragment,h),D(d),c=!0)},o(h){L(l.$$.fragment,h),L(d),c=!1},d(h){h&&(p(e),p(i),p(o)),Q(l),d&&d.d(h)}}}function Ln(s){let e,t,l,a;function r(i){s[8](i)}function f(i){s[9](i)}let u={in_main_page:s[2]};return s[0].metadata_prov!==void 0&&(u.metadata_prov=s[0].metadata_prov),s[0].metadata_prov_stats!==void 0&&(u.metadata_prov_stats=s[0].metadata_prov_stats),e=new Ts({props:u}),Et.push(()=>$t(e,"metadata_prov",r)),Et.push(()=>$t(e,"metadata_prov_stats",f)),{c(){ee(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,o){W(e,i,o),a=!0},p(i,o){const c={};o&4&&(c.in_main_page=i[2]),!t&&o&1&&(t=!0,c.metadata_prov=i[0].metadata_prov,yt(()=>t=!1)),!l&&o&1&&(l=!0,c.metadata_prov_stats=i[0].metadata_prov_stats,yt(()=>l=!1)),e.$set(c)},i(i){a||(D(e.$$.fragment,i),a=!0)},o(i){L(e.$$.fragment,i),a=!1},d(i){Q(e,i)}}}function qs(s){let e;return{c(){e=M("currently no related datasets available")},l(t){e=V(t,"currently no related datasets available")},m(t,l){A(t,e,l)},p:ne,i:ne,o:ne,d(t){t&&p(e)}}}function Bs(s){var R,S,P;let e,t,l="ℹ️ Available files based on this file",a,r,f,u,i,o="ℹ️ Available files used to create this file",c,d,h,g,w;return r=new zl({props:{data:(R=s[0].metadata_prov_stats)==null?void 0:R.base_for_entities,only_links:!0,in_main_page:s[2]}}),d=new zl({props:{data:(S=s[0].metadata_prov_stats)==null?void 0:S.source_entities,only_links:!0,in_main_page:s[2]}}),g=new zl({props:{data:(P=s[0].metadata_prov_stats)==null?void 0:P.result_entities,only_links:!0,in_main_page:s[2]}}),{c(){e=m("div"),t=m("h2"),t.textContent=l,a=E(),ee(r.$$.fragment),f=E(),u=m("div"),i=m("h2"),i.textContent=o,c=E(),ee(d.$$.fragment),h=E(),ee(g.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0,id:!0});var b=$(e);t=_(b,"H2",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1yf5jay"&&(t.textContent=l),a=T(b),J(r.$$.fragment,b),b.forEach(p),f=T(v),u=_(v,"DIV",{class:!0,id:!0});var y=$(u);i=_(y,"H2",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-1161htc"&&(i.textContent=o),c=T(y),J(d.$$.fragment,y),h=T(y),J(g.$$.fragment,y),y.forEach(p),this.h()},h(){C(t,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),C(e,"class","bg-box svelte-lnuuuk"),C(e,"id","base_for_entities_"+s[6]),C(i,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),C(u,"class","bg-box svelte-lnuuuk"),C(u,"id","base_for_entities_"+s[6])},m(v,b){A(v,e,b),n(e,t),n(e,a),W(r,e,null),A(v,f,b),A(v,u,b),n(u,i),n(u,c),W(d,u,null),n(u,h),W(g,u,null),w=!0},p(v,b){var re,fe,te;const y={};b&1&&(y.data=(re=v[0].metadata_prov_stats)==null?void 0:re.base_for_entities),b&4&&(y.in_main_page=v[2]),r.$set(y);const x={};b&1&&(x.data=(fe=v[0].metadata_prov_stats)==null?void 0:fe.source_entities),b&4&&(x.in_main_page=v[2]),d.$set(x);const z={};b&1&&(z.data=(te=v[0].metadata_prov_stats)==null?void 0:te.result_entities),b&4&&(z.in_main_page=v[2]),g.$set(z)},i(v){w||(D(r.$$.fragment,v),D(d.$$.fragment,v),D(g.$$.fragment,v),w=!0)},o(v){L(r.$$.fragment,v),L(d.$$.fragment,v),L(g.$$.fragment,v),w=!1},d(v){v&&(p(e),p(f),p(u)),Q(r),Q(d),Q(g)}}}function Us(s){let e;return{c(){e=M("currently no metadata available")},l(t){e=V(t,"currently no metadata available")},m(t,l){A(t,e,l)},p:ne,i:ne,o:ne,d(t){t&&p(e)}}}function Hs(s){let e,t,l,a,r,f="metadata",u,i,o,c;l=new Gn({});let d=s[0].metadata&&s[0].metadata_show&&zn(s);return{c(){e=m("button"),t=m("a"),ee(l.$$.fragment),a=E(),r=m("div"),r.textContent=f,i=E(),d&&d.c(),o=B(),this.h()},l(h){e=_(h,"BUTTON",{class:!0});var g=$(e);t=_(g,"A",{href:!0,class:!0,title:!0});var w=$(t);J(l.$$.fragment,w),a=T(w),r=_(w,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-xp3lgr"&&(r.textContent=f),w.forEach(p),g.forEach(p),i=T(h),d&&d.l(h),o=B(),this.h()},h(){C(r,"class","ml-1 flex place-items-center justify-items-center"),C(t,"href",u=kt+"/climate/get_temp_file?name="+s[0].filename+"&type="+s[1]+"&filetype=meta"),C(t,"class","flex"),C(t,"title","Download metadata file"),C(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(h,g){A(h,e,g),n(e,t),W(l,t,null),n(t,a),n(t,r),A(h,i,g),d&&d.m(h,g),A(h,o,g),c=!0},p(h,g){(!c||g&3&&u!==(u=kt+"/climate/get_temp_file?name="+h[0].filename+"&type="+h[1]+"&filetype=meta"))&&C(t,"href",u),h[0].metadata&&h[0].metadata_show?d?(d.p(h,g),g&1&&D(d,1)):(d=zn(h),d.c(),D(d,1),d.m(o.parentNode,o)):d&&(be(),L(d,1,1,()=>{d=null}),Ce())},i(h){c||(D(l.$$.fragment,h),D(d),c=!0)},o(h){L(l.$$.fragment,h),L(d),c=!1},d(h){h&&(p(e),p(i),p(o)),Q(l),d&&d.d(h)}}}function zn(s){let e,t;return e=new xs({props:{data:s[0].metadata,in_main_page:s[2]}}),{c(){ee(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,a){W(e,l,a),t=!0},p(l,a){const r={};a&1&&(r.data=l[0].metadata),a&4&&(r.in_main_page=l[2]),e.$set(r)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Ks(s){let e,t,l,a;const r=[Fs,zs,Ls,js],f=[];function u(i,o){return i[4]===0?0:i[4]===1?1:i[4]===2?2:i[4]===3?3:-1}return~(e=u(s))&&(t=f[e]=r[e](s)),{c(){t&&t.c(),l=B()},l(i){t&&t.l(i),l=B()},m(i,o){~e&&f[e].m(i,o),A(i,l,o),a=!0},p(i,o){let c=e;e=u(i),e===c?~e&&f[e].p(i,o):(t&&(be(),L(f[c],1,1,()=>{f[c]=null}),Ce()),~e?(t=f[e],t?t.p(i,o):(t=f[e]=r[e](i),t.c()),D(t,1),t.m(l.parentNode,l)):t=null)},i(i){a||(D(t),a=!0)},o(i){L(t),a=!1},d(i){i&&p(l),~e&&f[e].d(i)}}}function Zs(s){let e,t,l,a,r,f,u,i,o=s[0].filename+"",c,d,h,g,w,R,S,P,v,b,y,x,z,re="Variable",fe,te,se,Yt="Short Name:",Pt,we,ze=s[0].metadata.file.short_variable_name+"",xe,Fe,O,ae,Pe="Long Name:",ue,_e,K=s[0].metadata.file.long_name+"",ie,U,q,de,Se="Unit:",me,oe,Te=s[0].metadata.file.unit+"",Oe,Ie,Ee,pe,_a="Cell Method:",ve,ye,Re=s[0].metadata.file.cell_methods+"",St,It,$e,H,ce="Global Min / Max:",ke,le,Ne=el(s[0].metadata.file.global_min,2)+"",Ge,qe,ge=el(s[0].metadata.file.global_max,2)+"",Rt,Z,Be,Ue,Gl="Experiment ID:",ll,Nt,Xt=s[0].metadata.file.experiment_id+"",ma,nl,He,Ke,ql="Bias Correction:",sl,Dt,Qt=s[0].metadata.file.bias_correction+"",pa,il,Ze,Ye,Bl="Indicator:",ol,At,Wt=s[0].metadata.file.indicator+"",va,rl,Xe,Ul="Spatial",fl,Qe,We,Hl="Resolution:",cl,Vt,Jt=s[0].metadata.file.nominal_resolution+"",ga,dl,Je,Kl="Time",ul,et,tt,Zl="Coverage:",_l,De,ea=s[0].metadata.file.time_coverage_start+"",ha,ml,ta=s[0].metadata.file.time_coverage_end+"",ba,pl,at,lt,Yl="Frequency:",vl,Mt,aa=s[0].metadata.file.frequency+"",Ca,gl,nt,st,Xl="Number of time steps:",hl,jt,la=s[0].metadata.file.num_time_steps+"",wa,bl,it,ot,Ql="Units:",Cl,Lt,na=s[0].metadata.file.time_units+"",xa,wl,rt,ft,Wl="Calendar:",xl,zt,sa=s[0].metadata.file.time_calendar+"",Ta,Tl,ct,dt,Jl="Resolution sfsfsdf:",El,Ft,ia=s[0].metadata.file.nominal_resolution+"",Ea,yl,ya,$a,ut,en="File",$l,_t,mt,tn="Format:",kl,Ot,oa=s[0].metadata.file.file_format+"",ka,Pl,pt,vt,an="Size:",Sl,Gt,ra=Nn(s[0].metadata.file.file_size)+"",Pa,Il,gt,ht,ln="Created:",Rl,qt,fa=s[0].metadata.file.birth_time+"",Sa,Nl,bt,Ct,nn="Last Modified:",Dl,Bt,ca=s[0].metadata.file.last_modification_time+"",Ia,Al,he,Ae,Vl,wt,sn="ℹ️ Cite as:",Ml,Ut,on='<span class="font-bold text-blue-400">Reference:</span> <span>please contact the TIPPECC team</span>',jl,Ve,Ll,da,Ra,Me,F,Y=s[0].metadata.file.climatology_bounds&&Dn(s),X=s[0].metadata.file.climatology_bounds_details&&An(s);return Ae=new Is({props:{extent:[s[0].metadata.file.geospatial_lon_min,s[0].metadata.file.geospatial_lat_min,s[0].metadata.file.geospatial_lon_max,s[0].metadata.file.geospatial_lat_max]}}),Ve=new Cs({props:{file:s[0].metadata.file,in_main_page:!1}}),Me=new ws({props:{$$slots:{panel:[Ks],default:[Ms]},$$scope:{ctx:s}}}),{c(){e=m("br"),t=E(),l=m("div"),a=m("div"),r=m("h2"),f=m("img"),i=E(),c=M(o),d=E(),h=m("a"),g=M("Collection View"),R=E(),S=m("div"),P=m("span"),v=M(s[3]),b=E(),y=m("div"),x=m("div"),z=m("div"),z.textContent=re,fe=E(),te=m("div"),se=m("span"),se.textContent=Yt,Pt=E(),we=m("span"),xe=M(ze),Fe=E(),O=m("div"),ae=m("span"),ae.textContent=Pe,ue=E(),_e=m("span"),ie=M(K),U=E(),q=m("div"),de=m("span"),de.textContent=Se,me=E(),oe=m("span"),Oe=M(Te),Ie=E(),Ee=m("div"),pe=m("span"),pe.textContent=_a,ve=E(),ye=m("span"),St=M(Re),It=E(),$e=m("div"),H=m("span"),H.textContent=ce,ke=E(),le=m("span"),Ge=M(Ne),qe=M(" / "),Rt=M(ge),Z=E(),Be=m("div"),Ue=m("span"),Ue.textContent=Gl,ll=E(),Nt=m("span"),ma=M(Xt),nl=E(),He=m("div"),Ke=m("span"),Ke.textContent=ql,sl=E(),Dt=m("span"),pa=M(Qt),il=E(),Ze=m("div"),Ye=m("span"),Ye.textContent=Bl,ol=E(),At=m("span"),va=M(Wt),rl=E(),Xe=m("div"),Xe.textContent=Ul,fl=E(),Qe=m("div"),We=m("span"),We.textContent=Hl,cl=E(),Vt=m("span"),ga=M(Jt),dl=E(),Je=m("div"),Je.textContent=Kl,ul=E(),et=m("div"),tt=m("span"),tt.textContent=Zl,_l=E(),De=m("span"),ha=M(ea),ml=M(" - "),ba=M(ta),pl=E(),at=m("div"),lt=m("span"),lt.textContent=Yl,vl=E(),Mt=m("span"),Ca=M(aa),gl=E(),nt=m("div"),st=m("span"),st.textContent=Xl,hl=E(),jt=m("span"),wa=M(la),bl=E(),it=m("div"),ot=m("span"),ot.textContent=Ql,Cl=E(),Lt=m("span"),xa=M(na),wl=E(),rt=m("div"),ft=m("span"),ft.textContent=Wl,xl=E(),zt=m("span"),Ta=M(sa),Tl=E(),ct=m("div"),dt=m("span"),dt.textContent=Jl,El=E(),Ft=m("span"),Ea=M(ia),yl=E(),Y&&Y.c(),ya=E(),X&&X.c(),$a=E(),ut=m("div"),ut.textContent=en,$l=E(),_t=m("div"),mt=m("span"),mt.textContent=tn,kl=E(),Ot=m("span"),ka=M(oa),Pl=E(),pt=m("div"),vt=m("span"),vt.textContent=an,Sl=E(),Gt=m("span"),Pa=M(ra),Il=E(),gt=m("div"),ht=m("span"),ht.textContent=ln,Rl=E(),qt=m("span"),Sa=M(fa),Nl=E(),bt=m("div"),Ct=m("span"),Ct.textContent=nn,Dl=E(),Bt=m("span"),Ia=M(ca),Al=E(),he=m("div"),ee(Ae.$$.fragment),Vl=E(),wt=m("h2"),wt.textContent=sn,Ml=E(),Ut=m("div"),Ut.innerHTML=on,jl=E(),ee(Ve.$$.fragment),Ll=E(),da=m("div"),Ra=E(),ee(Me.$$.fragment),this.h()},l(k){e=_(k,"BR",{}),t=T(k),l=_(k,"DIV",{class:!0});var N=$(l);a=_(N,"DIV",{class:!0});var xt=$(a);r=_(xt,"H2",{class:!0});var Tt=$(r);f=_(Tt,"IMG",{src:!0,alt:!0,width:!0}),i=T(Tt),c=V(Tt,o),Tt.forEach(p),d=T(xt),h=_(xt,"A",{href:!0,class:!0});var ua=$(h);g=V(ua,"Collection View"),ua.forEach(p),xt.forEach(p),R=T(N),S=_(N,"DIV",{class:!0});var rn=$(S);P=_(rn,"SPAN",{class:!0});var fn=$(P);v=V(fn,s[3]),fn.forEach(p),rn.forEach(p),b=T(N),y=_(N,"DIV",{class:!0});var Na=$(y);x=_(Na,"DIV",{class:!0});var I=$(x);z=_(I,"DIV",{class:!0,"data-svelte-h":!0}),j(z)!=="svelte-1qkel0h"&&(z.textContent=re),fe=T(I),te=_(I,"DIV",{});var Da=$(te);se=_(Da,"SPAN",{class:!0,"data-svelte-h":!0}),j(se)!=="svelte-1jfkrui"&&(se.textContent=Yt),Pt=T(Da),we=_(Da,"SPAN",{class:!0});var cn=$(we);xe=V(cn,ze),cn.forEach(p),Da.forEach(p),Fe=T(I),O=_(I,"DIV",{});var Aa=$(O);ae=_(Aa,"SPAN",{class:!0,"data-svelte-h":!0}),j(ae)!=="svelte-95x5vo"&&(ae.textContent=Pe),ue=T(Aa),_e=_(Aa,"SPAN",{class:!0});var dn=$(_e);ie=V(dn,K),dn.forEach(p),Aa.forEach(p),U=T(I),q=_(I,"DIV",{});var Va=$(q);de=_(Va,"SPAN",{class:!0,"data-svelte-h":!0}),j(de)!=="svelte-1riumd7"&&(de.textContent=Se),me=T(Va),oe=_(Va,"SPAN",{class:!0});var un=$(oe);Oe=V(un,Te),un.forEach(p),Va.forEach(p),Ie=T(I),Ee=_(I,"DIV",{});var Ma=$(Ee);pe=_(Ma,"SPAN",{class:!0,"data-svelte-h":!0}),j(pe)!=="svelte-1m5avlc"&&(pe.textContent=_a),ve=T(Ma),ye=_(Ma,"SPAN",{class:!0});var _n=$(ye);St=V(_n,Re),_n.forEach(p),Ma.forEach(p),It=T(I),$e=_(I,"DIV",{});var ja=$($e);H=_(ja,"SPAN",{class:!0,"data-svelte-h":!0}),j(H)!=="svelte-v1003d"&&(H.textContent=ce),ke=T(ja),le=_(ja,"SPAN",{class:!0});var La=$(le);Ge=V(La,Ne),qe=V(La," / "),Rt=V(La,ge),La.forEach(p),ja.forEach(p),Z=T(I),Be=_(I,"DIV",{});var za=$(Be);Ue=_(za,"SPAN",{class:!0,"data-svelte-h":!0}),j(Ue)!=="svelte-1aemhv1"&&(Ue.textContent=Gl),ll=T(za),Nt=_(za,"SPAN",{class:!0});var mn=$(Nt);ma=V(mn,Xt),mn.forEach(p),za.forEach(p),nl=T(I),He=_(I,"DIV",{});var Fa=$(He);Ke=_(Fa,"SPAN",{class:!0,"data-svelte-h":!0}),j(Ke)!=="svelte-yu4sta"&&(Ke.textContent=ql),sl=T(Fa),Dt=_(Fa,"SPAN",{class:!0});var pn=$(Dt);pa=V(pn,Qt),pn.forEach(p),Fa.forEach(p),il=T(I),Ze=_(I,"DIV",{});var Oa=$(Ze);Ye=_(Oa,"SPAN",{class:!0,"data-svelte-h":!0}),j(Ye)!=="svelte-18t9erc"&&(Ye.textContent=Bl),ol=T(Oa),At=_(Oa,"SPAN",{class:!0});var vn=$(At);va=V(vn,Wt),vn.forEach(p),Oa.forEach(p),rl=T(I),Xe=_(I,"DIV",{class:!0,"data-svelte-h":!0}),j(Xe)!=="svelte-nmsyi9"&&(Xe.textContent=Ul),fl=T(I),Qe=_(I,"DIV",{});var Ga=$(Qe);We=_(Ga,"SPAN",{class:!0,"data-svelte-h":!0}),j(We)!=="svelte-1si6ldz"&&(We.textContent=Hl),cl=T(Ga),Vt=_(Ga,"SPAN",{class:!0});var gn=$(Vt);ga=V(gn,Jt),gn.forEach(p),Ga.forEach(p),dl=T(I),Je=_(I,"DIV",{class:!0,"data-svelte-h":!0}),j(Je)!=="svelte-1hwy0rm"&&(Je.textContent=Kl),ul=T(I),et=_(I,"DIV",{});var qa=$(et);tt=_(qa,"SPAN",{class:!0,"data-svelte-h":!0}),j(tt)!=="svelte-q5fozz"&&(tt.textContent=Zl),_l=T(qa),De=_(qa,"SPAN",{class:!0});var Ba=$(De);ha=V(Ba,ea),ml=V(Ba," - "),ba=V(Ba,ta),Ba.forEach(p),qa.forEach(p),pl=T(I),at=_(I,"DIV",{});var Ua=$(at);lt=_(Ua,"SPAN",{class:!0,"data-svelte-h":!0}),j(lt)!=="svelte-pubmin"&&(lt.textContent=Yl),vl=T(Ua),Mt=_(Ua,"SPAN",{class:!0});var hn=$(Mt);Ca=V(hn,aa),hn.forEach(p),Ua.forEach(p),gl=T(I),nt=_(I,"DIV",{});var Ha=$(nt);st=_(Ha,"SPAN",{class:!0,"data-svelte-h":!0}),j(st)!=="svelte-1ckaxst"&&(st.textContent=Xl),hl=T(Ha),jt=_(Ha,"SPAN",{class:!0});var bn=$(jt);wa=V(bn,la),bn.forEach(p),Ha.forEach(p),bl=T(I),it=_(I,"DIV",{});var Ka=$(it);ot=_(Ka,"SPAN",{class:!0,"data-svelte-h":!0}),j(ot)!=="svelte-1ofm2ee"&&(ot.textContent=Ql),Cl=T(Ka),Lt=_(Ka,"SPAN",{class:!0});var Cn=$(Lt);xa=V(Cn,na),Cn.forEach(p),Ka.forEach(p),wl=T(I),rt=_(I,"DIV",{});var Za=$(rt);ft=_(Za,"SPAN",{class:!0,"data-svelte-h":!0}),j(ft)!=="svelte-1r37iff"&&(ft.textContent=Wl),xl=T(Za),zt=_(Za,"SPAN",{class:!0});var wn=$(zt);Ta=V(wn,sa),wn.forEach(p),Za.forEach(p),Tl=T(I),ct=_(I,"DIV",{});var Ya=$(ct);dt=_(Ya,"SPAN",{class:!0,"data-svelte-h":!0}),j(dt)!=="svelte-pbrzny"&&(dt.textContent=Jl),El=T(Ya),Ft=_(Ya,"SPAN",{class:!0});var xn=$(Ft);Ea=V(xn,ia),xn.forEach(p),Ya.forEach(p),yl=T(I),Y&&Y.l(I),ya=T(I),X&&X.l(I),$a=T(I),ut=_(I,"DIV",{class:!0,"data-svelte-h":!0}),j(ut)!=="svelte-147jlv5"&&(ut.textContent=en),$l=T(I),_t=_(I,"DIV",{});var Xa=$(_t);mt=_(Xa,"SPAN",{class:!0,"data-svelte-h":!0}),j(mt)!=="svelte-1g3bwdk"&&(mt.textContent=tn),kl=T(Xa),Ot=_(Xa,"SPAN",{class:!0});var Tn=$(Ot);ka=V(Tn,oa),Tn.forEach(p),Xa.forEach(p),Pl=T(I),pt=_(I,"DIV",{});var Qa=$(pt);vt=_(Qa,"SPAN",{class:!0,"data-svelte-h":!0}),j(vt)!=="svelte-1s8sufe"&&(vt.textContent=an),Sl=T(Qa),Gt=_(Qa,"SPAN",{class:!0});var En=$(Gt);Pa=V(En,ra),En.forEach(p),Qa.forEach(p),Il=T(I),gt=_(I,"DIV",{});var Wa=$(gt);ht=_(Wa,"SPAN",{class:!0,"data-svelte-h":!0}),j(ht)!=="svelte-18jov5"&&(ht.textContent=ln),Rl=T(Wa),qt=_(Wa,"SPAN",{class:!0});var yn=$(qt);Sa=V(yn,fa),yn.forEach(p),Wa.forEach(p),Nl=T(I),bt=_(I,"DIV",{});var Ja=$(bt);Ct=_(Ja,"SPAN",{class:!0,"data-svelte-h":!0}),j(Ct)!=="svelte-jq7tld"&&(Ct.textContent=nn),Dl=T(Ja),Bt=_(Ja,"SPAN",{class:!0});var $n=$(Bt);Ia=V($n,ca),$n.forEach(p),Ja.forEach(p),I.forEach(p),Al=T(Na),he=_(Na,"DIV",{class:!0});var Ht=$(he);J(Ae.$$.fragment,Ht),Vl=T(Ht),wt=_(Ht,"H2",{class:!0,"data-svelte-h":!0}),j(wt)!=="svelte-1fwzv4e"&&(wt.textContent=sn),Ml=T(Ht),Ut=_(Ht,"DIV",{"data-svelte-h":!0}),j(Ut)!=="svelte-1p0nu6r"&&(Ut.innerHTML=on),Ht.forEach(p),Na.forEach(p),jl=T(N),J(Ve.$$.fragment,N),Ll=T(N),da=_(N,"DIV",{class:!0}),$(da).forEach(p),N.forEach(p),Ra=T(k),J(Me.$$.fragment,k),this.h()},h(){Bn(f.src,u=Rs)||C(f,"src",u),C(f,"alt","..."),C(f,"width","30px"),C(r,"class","text-lg text-label font-semibold flex items-center gap-2 text-white"),C(h,"href",w="/climate_services_gateway/collections/?type="+s[1]+"&filename="+s[0].filename),C(h,"class","px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600"),C(a,"class","flex items-center justify-between mb-3"),C(P,"class","font-semibold"),C(S,"class","bg-surface-700 rounded-lg p-4"),C(z,"class","font-bold text-lg"),C(se,"class","font-bold ml-4 text-blue-400"),C(we,"class","ml-2"),C(ae,"class","font-bold ml-4 text-blue-400"),C(_e,"class","ml-2"),C(de,"class","font-bold ml-4 text-blue-400"),C(oe,"class","ml-2"),C(pe,"class","font-bold ml-4 text-blue-400"),C(ye,"class","ml-2"),C(H,"class","font-bold ml-4 text-blue-400"),C(le,"class","font-medium text-zinc-300"),C(Ue,"class","font-bold ml-4 text-blue-400"),C(Nt,"class","ml-2"),C(Ke,"class","font-bold ml-4 text-blue-400"),C(Dt,"class","ml-2"),C(Ye,"class","font-bold ml-4 text-blue-400"),C(At,"class","ml-2"),C(Xe,"class","font-bold text-lg mt-4"),C(We,"class","font-bold ml-4 text-blue-400"),C(Vt,"class","ml-2"),C(Je,"class","font-bold text-lg mt-4"),C(tt,"class","font-bold ml-4 text-blue-400"),C(De,"class","ml-2"),C(lt,"class","font-bold ml-4 text-blue-400"),C(Mt,"class","ml-2"),C(st,"class","font-bold ml-4 text-blue-400"),C(jt,"class","ml-2"),C(ot,"class","font-bold ml-4 text-blue-400"),C(Lt,"class","ml-2"),C(ft,"class","font-bold ml-4 text-blue-400"),C(zt,"class","ml-2"),C(dt,"class","font-bold ml-4 text-blue-400"),C(Ft,"class","ml-2"),C(ut,"class","font-bold text-lg mt-4"),C(mt,"class","font-bold ml-4 text-blue-400"),C(Ot,"class","ml-2"),C(vt,"class","font-bold ml-4 text-blue-400"),C(Gt,"class","ml-2"),C(ht,"class","font-bold ml-4 text-blue-400"),C(qt,"class","ml-2"),C(Ct,"class","ffont-bold ml-4"),C(Bt,"class","ml-2"),C(x,"class","p-4"),C(wt,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),C(he,"class","p-4"),C(y,"class","grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 mt-4 bg-surface-800 rounded-lg"),C(da,"class","grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 text-zinc-200 mt-3"),C(l,"class","")},m(k,N){A(k,e,N),A(k,t,N),A(k,l,N),n(l,a),n(a,r),n(r,f),n(r,i),n(r,c),n(a,d),n(a,h),n(h,g),n(l,R),n(l,S),n(S,P),n(P,v),n(l,b),n(l,y),n(y,x),n(x,z),n(x,fe),n(x,te),n(te,se),n(te,Pt),n(te,we),n(we,xe),n(x,Fe),n(x,O),n(O,ae),n(O,ue),n(O,_e),n(_e,ie),n(x,U),n(x,q),n(q,de),n(q,me),n(q,oe),n(oe,Oe),n(x,Ie),n(x,Ee),n(Ee,pe),n(Ee,ve),n(Ee,ye),n(ye,St),n(x,It),n(x,$e),n($e,H),n($e,ke),n($e,le),n(le,Ge),n(le,qe),n(le,Rt),n(x,Z),n(x,Be),n(Be,Ue),n(Be,ll),n(Be,Nt),n(Nt,ma),n(x,nl),n(x,He),n(He,Ke),n(He,sl),n(He,Dt),n(Dt,pa),n(x,il),n(x,Ze),n(Ze,Ye),n(Ze,ol),n(Ze,At),n(At,va),n(x,rl),n(x,Xe),n(x,fl),n(x,Qe),n(Qe,We),n(Qe,cl),n(Qe,Vt),n(Vt,ga),n(x,dl),n(x,Je),n(x,ul),n(x,et),n(et,tt),n(et,_l),n(et,De),n(De,ha),n(De,ml),n(De,ba),n(x,pl),n(x,at),n(at,lt),n(at,vl),n(at,Mt),n(Mt,Ca),n(x,gl),n(x,nt),n(nt,st),n(nt,hl),n(nt,jt),n(jt,wa),n(x,bl),n(x,it),n(it,ot),n(it,Cl),n(it,Lt),n(Lt,xa),n(x,wl),n(x,rt),n(rt,ft),n(rt,xl),n(rt,zt),n(zt,Ta),n(x,Tl),n(x,ct),n(ct,dt),n(ct,El),n(ct,Ft),n(Ft,Ea),n(x,yl),Y&&Y.m(x,null),n(x,ya),X&&X.m(x,null),n(x,$a),n(x,ut),n(x,$l),n(x,_t),n(_t,mt),n(_t,kl),n(_t,Ot),n(Ot,ka),n(x,Pl),n(x,pt),n(pt,vt),n(pt,Sl),n(pt,Gt),n(Gt,Pa),n(x,Il),n(x,gt),n(gt,ht),n(gt,Rl),n(gt,qt),n(qt,Sa),n(x,Nl),n(x,bt),n(bt,Ct),n(bt,Dl),n(bt,Bt),n(Bt,Ia),n(y,Al),n(y,he),W(Ae,he,null),n(he,Vl),n(he,wt),n(he,Ml),n(he,Ut),n(l,jl),W(Ve,l,null),n(l,Ll),n(l,da),A(k,Ra,N),W(Me,k,N),F=!0},p(k,[N]){(!F||N&1)&&o!==(o=k[0].filename+"")&&G(c,o),(!F||N&3&&w!==(w="/climate_services_gateway/collections/?type="+k[1]+"&filename="+k[0].filename))&&C(h,"href",w),(!F||N&8)&&G(v,k[3]),(!F||N&1)&&ze!==(ze=k[0].metadata.file.short_variable_name+"")&&G(xe,ze),(!F||N&1)&&K!==(K=k[0].metadata.file.long_name+"")&&G(ie,K),(!F||N&1)&&Te!==(Te=k[0].metadata.file.unit+"")&&G(Oe,Te),(!F||N&1)&&Re!==(Re=k[0].metadata.file.cell_methods+"")&&G(St,Re),(!F||N&1)&&Ne!==(Ne=el(k[0].metadata.file.global_min,2)+"")&&G(Ge,Ne),(!F||N&1)&&ge!==(ge=el(k[0].metadata.file.global_max,2)+"")&&G(Rt,ge),(!F||N&1)&&Xt!==(Xt=k[0].metadata.file.experiment_id+"")&&G(ma,Xt),(!F||N&1)&&Qt!==(Qt=k[0].metadata.file.bias_correction+"")&&G(pa,Qt),(!F||N&1)&&Wt!==(Wt=k[0].metadata.file.indicator+"")&&G(va,Wt),(!F||N&1)&&Jt!==(Jt=k[0].metadata.file.nominal_resolution+"")&&G(ga,Jt),(!F||N&1)&&ea!==(ea=k[0].metadata.file.time_coverage_start+"")&&G(ha,ea),(!F||N&1)&&ta!==(ta=k[0].metadata.file.time_coverage_end+"")&&G(ba,ta),(!F||N&1)&&aa!==(aa=k[0].metadata.file.frequency+"")&&G(Ca,aa),(!F||N&1)&&la!==(la=k[0].metadata.file.num_time_steps+"")&&G(wa,la),(!F||N&1)&&na!==(na=k[0].metadata.file.time_units+"")&&G(xa,na),(!F||N&1)&&sa!==(sa=k[0].metadata.file.time_calendar+"")&&G(Ta,sa),(!F||N&1)&&ia!==(ia=k[0].metadata.file.nominal_resolution+"")&&G(Ea,ia),k[0].metadata.file.climatology_bounds?Y?Y.p(k,N):(Y=Dn(k),Y.c(),Y.m(x,ya)):Y&&(Y.d(1),Y=null),k[0].metadata.file.climatology_bounds_details?X?X.p(k,N):(X=An(k),X.c(),X.m(x,$a)):X&&(X.d(1),X=null),(!F||N&1)&&oa!==(oa=k[0].metadata.file.file_format+"")&&G(ka,oa),(!F||N&1)&&ra!==(ra=Nn(k[0].metadata.file.file_size)+"")&&G(Pa,ra),(!F||N&1)&&fa!==(fa=k[0].metadata.file.birth_time+"")&&G(Sa,fa),(!F||N&1)&&ca!==(ca=k[0].metadata.file.last_modification_time+"")&&G(Ia,ca);const xt={};N&1&&(xt.extent=[k[0].metadata.file.geospatial_lon_min,k[0].metadata.file.geospatial_lat_min,k[0].metadata.file.geospatial_lon_max,k[0].metadata.file.geospatial_lat_max]),Ae.$set(xt);const Tt={};N&1&&(Tt.file=k[0].metadata.file),Ve.$set(Tt);const ua={};N&32823&&(ua.$$scope={dirty:N,ctx:k}),Me.$set(ua)},i(k){F||(D(Ae.$$.fragment,k),D(Ve.$$.fragment,k),D(Me.$$.fragment,k),F=!0)},o(k){L(Ae.$$.fragment,k),L(Ve.$$.fragment,k),L(Me.$$.fragment,k),F=!1},d(k){k&&(p(e),p(t),p(l),p(Ra)),Y&&Y.d(),X&&X.d(),Q(Ae),Q(Ve),Q(Me,k)}}}function Le(s){if(typeof s=="object"){const e=s[0].split("-")[0],t=s[1].split("-")[0];return e+" - "+t}else return s.split("-")[0]}function Ys(s,e,t){let l,{folder_data:a}=e,{file_obj:r}=e,{foldertype:f}=e,{in_main_page:u}=e;r!=null&&(a=a[r.index]);let i="No description available";if(!u)try{i=$s(a.filename,f,a.metadata)}catch(v){console.log(v)}let o=Math.random().toString(36).substring(2,15),c=a.tabset;function d(v){s.$$.not_equal(a.metadata_prov,v)&&(a.metadata_prov=v,t(0,a))}function h(v){s.$$.not_equal(a.metadata_prov_stats,v)&&(a.metadata_prov_stats=v,t(0,a))}function g(v){l=v,t(5,l),t(0,a)}function w(v){c=v,t(4,c)}function R(v){c=v,t(4,c)}function S(v){c=v,t(4,c)}function P(v){c=v,t(4,c)}return s.$$set=v=>{"folder_data"in v&&t(0,a=v.folder_data),"file_obj"in v&&t(7,r=v.file_obj),"foldertype"in v&&t(1,f=v.foldertype),"in_main_page"in v&&t(2,u=v.in_main_page)},s.$$.update=()=>{s.$$.dirty&1&&t(5,l=a.filename)},[a,f,u,i,c,l,o,r,d,h,g,w,R,S,P]}class Xs extends Fl{constructor(e){super(),Ol(this,e,Ys,Zs,al,{folder_data:0,file_obj:7,foldertype:1,in_main_page:2})}}function Fn(s){let e,t;return e=new Xs({props:{folder_data:s[0],file_obj:qn,foldertype:s[1],in_main_page:Ws}}),{c(){ee(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,a){W(e,l,a),t=!0},p(l,a){const r={};a&1&&(r.folder_data=l[0]),a&2&&(r.foldertype=l[1]),e.$set(r)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Qs(s){let e,t,l=`<h1 class="content-heading">File Information</h1> <img src="${Un}" alt="..." width="30px"/>`,a,r,f=`This page shows detailed information for a single file in the Climate Services Gateway. Download
		is currently only available via the collection view.`,u,i,o=s[0]&&s[0].metadata&&Fn(s);return{c(){e=m("div"),t=m("div"),t.innerHTML=l,a=E(),r=m("blockquote"),r.textContent=f,u=E(),o&&o.c(),this.h()},l(c){e=_(c,"DIV",{class:!0});var d=$(e);t=_(d,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1q2fsxv"&&(t.innerHTML=l),a=T(d),r=_(d,"BLOCKQUOTE",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-13yk7z6"&&(r.textContent=f),u=T(d),o&&o.l(d),d.forEach(p),this.h()},h(){C(t,"class","flex"),C(r,"class","content-blockquote mb-4"),C(e,"class","content-div")},m(c,d){A(c,e,d),n(e,t),n(e,a),n(e,r),n(e,u),o&&o.m(e,null),i=!0},p(c,[d]){c[0]&&c[0].metadata?o?(o.p(c,d),d&1&&D(o,1)):(o=Fn(c),o.c(),D(o,1),o.m(e,null)):o&&(be(),L(o,1,1,()=>{o=null}),Ce())},i(c){i||(D(o),i=!0)},o(c){L(o),i=!1},d(c){c&&p(e),o&&o.d()}}}const qn=null,Ws=!1;function Js(s,e,t){let l=[],a,r="",f="";async function u(o,c){t(0,a=await bs(o,c)),console.log(a),i(c,o)}async function i(o,c){console.log("get_metadata_and_prov",o,c,qn),t(0,a.tabset=0,a);const d=await fetch(kt+"/climate/get_temp_file?name="+o+"&type="+c+"&filetype=meta",{method:"GET"});if(!d.ok)a.metadata||t(0,a.metadata={},a),t(0,a.metadata={"currently no metadata available":"for this file"},a),t(0,a.metadata_exists=!1,a),console.log(a.metadata);else{const w=await d.json();l=w,await Kt(),a.metadata||t(0,a.metadata={},a),t(0,a.metadata_exists=!0,a),t(0,a.metadata=w,a),await Kt(),console.log(l)}const h=await fetch(kt+"/climate/get_temp_file?name="+o+"&type="+c+"&filetype=prov",{method:"GET"});if(!h.ok)a.metadata_prov||t(0,a.metadata_prov={},a),t(0,a.metadata_prov_exists=!1,a),t(0,a.metadata_prov={"currently no provenance information available":"for this file"},a),console.log(a.metadata_prov);else{const w=await h.json();l=w,await Kt(),a.metadata_prov||t(0,a.metadata_prov={},a),t(0,a.metadata_prov_exists=!0,a),t(0,a.metadata_prov=w,a),await Kt(),console.log(l)}const g=await fetch(kt+"/climate/get_temp_file?name="+o+"&type="+c+"&filetype=prov_stats",{method:"GET"});if(!g.ok)a.metadata_prov_stats||t(0,a.metadata_prov_stats={},a),t(0,a.metadata_prov_stats_exists=!1,a),t(0,a.metadata_prov_stats={"currently no provenance information available":"for this file"},a),console.log(a.metadata_prov_stats);else{const w=await g.json();l=w,await Kt(),a.metadata_prov_stats||t(0,a.metadata_prov_stats={},a),t(0,a.metadata_prov_stats_exists=!0,a),t(0,a.metadata_prov_stats=w,a),await Kt(),console.log(l)}t(0,a.metadata_show=!0,a),history.pushState({},"","?type="+c+"&filename="+o)}On(()=>{u(r,f),console.log(a)});{const o=new URLSearchParams(window.location.search),c=o.get("type");c&&t(1,r=c);const d=o.get("filename");d&&(f=d)}return[a,r]}class oi extends Fl{constructor(e){super(),Ol(this,e,Js,Qs,al,{})}}export{oi as component};
