import{s as de,f as O,a as P,l as B,g as y,h as V,F as pe,c as S,m as q,d as h,j as L,k as ve,i as b,u as p,v as C,D as Y,O as J,e as U,E as A,n as H,Q as Z,R as he,S as G}from"../chunks/scheduler.a6588247.js";import{e as M}from"../chunks/each.4266363b.js";import{S as me,i as be}from"../chunks/index.c4ed5061.js";function $(o,l,e){const t=o.slice();return t[13]=l[e],t}function x(o,l,e){const t=o.slice();return t[16]=l[e][0],t[17]=l[e][1],t}function ee(o,l,e){const t=o.slice();return t[20]=l[e],t}function te(o,l,e){const t=o.slice();return t[16]=l[e][0],t[17]=l[e][1],t}function le(o,l,e){const t=o.slice();return t[20]=l[e],t}function ie(o){let l,e=M(Object.entries(o[1].facets)),t=[];for(let i=0;i<e.length;i+=1)t[i]=oe(te(o,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=U()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);l=U()},m(i,f){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(i,f);b(i,l,f)},p(i,f){if(f&35){e=M(Object.entries(i[1].facets));let n;for(n=0;n<e.length;n+=1){const s=te(i,e,n);t[n]?t[n].p(s,f):(t[n]=oe(s),t[n].c(),t[n].m(l.parentNode,l))}for(;n<t.length;n+=1)t[n].d(1);t.length=e.length}},d(i){i&&h(l),A(t,i)}}}function ne(o){let l,e=o[16]+"",t,i,f,n,s,v=M(o[17]),r=[];for(let a=0;a<v.length;a+=1)r[a]=ae(le(o,v,a));return{c(){l=O("b"),t=B(e),i=P(),f=O("br"),n=P();for(let a=0;a<r.length;a+=1)r[a].c();s=U()},l(a){l=y(a,"B",{});var _=V(l);t=q(_,e),_.forEach(h),i=S(a),f=y(a,"BR",{}),n=S(a);for(let c=0;c<r.length;c+=1)r[c].l(a);s=U()},m(a,_){b(a,l,_),p(l,t),b(a,i,_),b(a,f,_),b(a,n,_);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(a,_);b(a,s,_)},p(a,_){if(_&2&&e!==(e=a[16]+"")&&H(t,e),_&35){v=M(a[17]);let c;for(c=0;c<v.length;c+=1){const g=le(a,v,c);r[c]?r[c].p(g,_):(r[c]=ae(g),r[c].c(),r[c].m(s.parentNode,s))}for(;c<r.length;c+=1)r[c].d(1);r.length=v.length}},d(a){a&&(h(l),h(i),h(f),h(n),h(s)),A(r,a)}}}function ae(o){let l,e,t,i=!1,f,n=o[20].name+"",s,v,r,a,_=o[20].count+"",c,g,k,j,d,u;return j=he(o[9][0]),{c(){l=O("div"),e=O("input"),f=B(`
							  `),s=B(n),v=P(),r=O("em"),a=B("("),c=B(_),g=B(")"),k=P(),this.h()},l(E){l=y(E,"DIV",{class:!0});var I=V(l);e=y(I,"INPUT",{type:!0}),f=q(I,`
							  `),s=q(I,n),v=S(I),r=y(I,"EM",{});var R=V(r);a=q(R,"("),c=q(R,_),g=q(R,")"),R.forEach(h),k=S(I),I.forEach(h),this.h()},h(){L(e,"type","checkbox"),e.__value=t=o[16]+"%"+o[20].name,G(e,e.__value),L(l,"class","pl-4"),j.p(e)},m(E,I){b(E,l,I),p(l,e),e.checked=~(o[0]||[]).indexOf(e.__value),p(l,f),p(l,s),p(l,v),p(l,r),p(r,a),p(r,c),p(r,g),p(l,k),d||(u=[C(e,"change",o[8]),C(e,"change",o[5])],d=!0)},p(E,I){I&2&&t!==(t=E[16]+"%"+E[20].name)&&(e.__value=t,G(e,e.__value),i=!0),(i||I&3)&&(e.checked=~(E[0]||[]).indexOf(e.__value)),I&2&&n!==(n=E[20].name+"")&&H(s,n),I&2&&_!==(_=E[20].count+"")&&H(c,_)},d(E){E&&h(l),j.r(),d=!1,J(u)}}}function oe(o){let l,e=o[16]!="file_id"&&o[16]!="title"&&ne(o);return{c(){e&&e.c(),l=U()},l(t){e&&e.l(t),l=U()},m(t,i){e&&e.m(t,i),b(t,l,i)},p(t,i){t[16]!="file_id"&&t[16]!="title"?e?e.p(t,i):(e=ne(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){t&&h(l),e&&e.d(t)}}}function fe(o){let l,e=M(Object.entries(o[1].facets)),t=[];for(let i=0;i<e.length;i+=1)t[i]=se(x(o,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=U()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);l=U()},m(i,f){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(i,f);b(i,l,f)},p(i,f){if(f&35){e=M(Object.entries(i[1].facets));let n;for(n=0;n<e.length;n+=1){const s=x(i,e,n);t[n]?t[n].p(s,f):(t[n]=se(s),t[n].c(),t[n].m(l.parentNode,l))}for(;n<t.length;n+=1)t[n].d(1);t.length=e.length}},d(i){i&&h(l),A(t,i)}}}function re(o){let l,e=o[16]+"",t,i,f,n,s,v=M(o[17]),r=[];for(let a=0;a<v.length;a+=1)r[a]=ce(ee(o,v,a));return{c(){l=O("b"),t=B(e),i=P(),f=O("br"),n=P();for(let a=0;a<r.length;a+=1)r[a].c();s=U()},l(a){l=y(a,"B",{});var _=V(l);t=q(_,e),_.forEach(h),i=S(a),f=y(a,"BR",{}),n=S(a);for(let c=0;c<r.length;c+=1)r[c].l(a);s=U()},m(a,_){b(a,l,_),p(l,t),b(a,i,_),b(a,f,_),b(a,n,_);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(a,_);b(a,s,_)},p(a,_){if(_&2&&e!==(e=a[16]+"")&&H(t,e),_&35){v=M(a[17]);let c;for(c=0;c<v.length;c+=1){const g=ee(a,v,c);r[c]?r[c].p(g,_):(r[c]=ce(g),r[c].c(),r[c].m(s.parentNode,s))}for(;c<r.length;c+=1)r[c].d(1);r.length=v.length}},d(a){a&&(h(l),h(i),h(f),h(n),h(s)),A(r,a)}}}function ce(o){let l,e,t,i=!1,f,n=o[20].name+"",s,v,r,a,_,c,g,k,j;return g=he(o[9][0]),{c(){l=O("div"),e=O("input"),f=B(`
							  `),s=B(n),v=P(),r=O("a"),a=B("Download"),c=P(),this.h()},l(d){l=y(d,"DIV",{class:!0});var u=V(l);e=y(u,"INPUT",{type:!0}),f=q(u,`
							  `),s=q(u,n),v=S(u),r=y(u,"A",{href:!0});var E=V(r);a=q(E,"Download"),E.forEach(h),c=S(u),u.forEach(h),this.h()},h(){e.disabled=!0,L(e,"type","checkbox"),e.__value=t=o[16]+"%"+o[20].name,G(e,e.__value),L(r,"href",_="https://leutra.geogr.uni-jena.de/tippec_data/"+o[20].name.split("/")),L(l,"class","pl-4"),g.p(e)},m(d,u){b(d,l,u),p(l,e),e.checked=~(o[0]||[]).indexOf(e.__value),p(l,f),p(l,s),p(l,v),p(l,r),p(r,a),p(l,c),k||(j=[C(e,"change",o[10]),C(e,"change",o[5])],k=!0)},p(d,u){u&2&&t!==(t=d[16]+"%"+d[20].name)&&(e.__value=t,G(e,e.__value),i=!0),(i||u&3)&&(e.checked=~(d[0]||[]).indexOf(e.__value)),u&2&&n!==(n=d[20].name+"")&&H(s,n),u&2&&_!==(_="https://leutra.geogr.uni-jena.de/tippec_data/"+d[20].name.split("/"))&&L(r,"href",_)},d(d){d&&h(l),g.r(),k=!1,J(j)}}}function se(o){let l,e=o[16]=="title"&&re(o);return{c(){e&&e.c(),l=U()},l(t){e&&e.l(t),l=U()},m(t,i){e&&e.m(t,i),b(t,l,i)},p(t,i){t[16]=="title"?e?e.p(t,i):(e=re(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){t&&h(l),e&&e.d(t)}}}function _e(o){let l,e=M(o[1].hits),t=[];for(let i=0;i<e.length;i+=1)t[i]=ue($(o,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=U()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);l=U()},m(i,f){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(i,f);b(i,l,f)},p(i,f){if(f&2){e=M(i[1].hits);let n;for(n=0;n<e.length;n+=1){const s=$(i,e,n);t[n]?t[n].p(s,f):(t[n]=ue(s),t[n].c(),t[n].m(l.parentNode,l))}for(;n<t.length;n+=1)t[n].d(1);t.length=e.length}},d(i){i&&h(l),A(t,i)}}}function ue(o){let l,e,t=o[13].title+"",i,f;return{c(){l=O("li"),e=B("Title: "),i=B(t),f=P()},l(n){l=y(n,"LI",{});var s=V(l);e=q(s,"Title: "),i=q(s,t),f=S(s),s.forEach(h)},m(n,s){b(n,l,s),p(l,e),p(l,i),p(l,f)},p(n,s){s&2&&t!==(t=n[13].title+"")&&H(i,t)},d(n){n&&h(l)}}}function ge(o){let l,e,t="<h1>Test Search Page</h1>",i,f,n,s,v,r,a,_,c,g,k,j,d,u,E,I,R,T=o[1].facets&&ie(o),D=o[1].facets&&fe(o),N=o[1].hits&&_e(o);return{c(){l=O("div"),e=O("div"),e.innerHTML=t,i=P(),f=O("div"),n=O("button"),s=B("Search"),r=P(),a=O("button"),_=B("Indicator"),g=P(),k=O("div"),j=O("div"),T&&T.c(),d=P(),u=O("div"),D&&D.c(),E=P(),N&&N.c(),this.h()},l(m){l=y(m,"DIV",{});var w=V(l);e=y(w,"DIV",{"data-svelte-h":!0}),pe(e)!=="svelte-1gym4mq"&&(e.innerHTML=t),i=S(w),f=y(w,"DIV",{class:!0});var F=V(f);n=y(F,"BUTTON",{type:!0,class:!0});var K=V(n);s=q(K,"Search"),K.forEach(h),r=S(F),a=y(F,"BUTTON",{type:!0,class:!0});var W=V(a);_=q(W,"Indicator"),W.forEach(h),F.forEach(h),w.forEach(h),g=S(m),k=y(m,"DIV",{style:!0});var Q=V(k);j=y(Q,"DIV",{});var X=V(j);T&&T.l(X),X.forEach(h),d=S(Q),u=y(Q,"DIV",{});var z=V(u);D&&D.l(z),E=S(z),N&&N.l(z),z.forEach(h),Q.forEach(h),this.h()},h(){L(n,"type","button"),L(n,"class",v="btn variant-filled-tertiary "+o[2]),L(a,"type","button"),L(a,"class",c="btn variant-filled-tertiary "+o[3]),L(f,"class","btn-group variant-ghost-primary [&>*+*]:border-red-500 h-6"),ve(k,"display","flex")},m(m,w){b(m,l,w),p(l,e),p(l,i),p(l,f),p(f,n),p(n,s),p(f,r),p(f,a),p(a,_),b(m,g,w),b(m,k,w),p(k,j),T&&T.m(j,null),p(k,d),p(k,u),D&&D.m(u,null),p(u,E),N&&N.m(u,null),I||(R=[C(n,"click",o[6]),C(a,"click",o[7])],I=!0)},p(m,[w]){w&4&&v!==(v="btn variant-filled-tertiary "+m[2])&&L(n,"class",v),w&8&&c!==(c="btn variant-filled-tertiary "+m[3])&&L(a,"class",c),m[1].facets?T?T.p(m,w):(T=ie(m),T.c(),T.m(j,null)):T&&(T.d(1),T=null),m[1].facets?D?D.p(m,w):(D=fe(m),D.c(),D.m(u,E)):D&&(D.d(1),D=null),m[1].hits?N?N.p(m,w):(N=_e(m),N.c(),N.m(u,null)):N&&(N.d(1),N=null)},i:Y,o:Y,d(m){m&&(h(l),h(g),h(k)),T&&T.d(),D&&D.d(),N&&N.d(),I=!1,J(R)}}}function ke(o,l,e){let t=[],i=[],f="",n="font-bold",s="",v="";r("collection"),a();function r(d){d=="collection"?(v="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/search_collection?",e(3,s=""),e(2,n="font-bold"),e(0,t=[]),a()):d=="indicator"&&(v="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/search_indicator?",e(2,n=""),e(3,s="font-bold"),e(0,t=[]),a())}async function a(){f="";for(let d=0;d<t.length;d++)f=f+"&"+t[d].replace("%","=");try{const d=await fetch(v+f);console.log(d);let u=[];if(!d.ok)throw new Error(`${d.status} ${d.statusText}`);return u=await d.json(),console.log("result",u),u.hasOwnProperty("hits")&&e(1,i.hits=u.hits,i),u.hasOwnProperty("facets")&&e(1,i.facets=u.facets,i),u.hasOwnProperty("facets_ordered")&&e(1,i.facets_ordered=u.facets_ordered,i),e(1,i),console.log("geo_data",i),u}catch(d){return console.log(d),[]}}const _=[[]],c=()=>r("collection"),g=()=>r("indicator");function k(){t=Z(_[0],this.__value,this.checked),e(0,t)}function j(){t=Z(_[0],this.__value,this.checked),e(0,t)}return[t,i,n,s,r,a,c,g,k,_,j]}class Ie extends me{constructor(l){super(),be(this,l,ke,ge,de,{})}}export{Ie as component};
