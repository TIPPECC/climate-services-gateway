import{s as ee,e as C,t as S,a as H,q as A,c as E,b as M,d as U,f,g as O,m,i as B,h as c,x as J,p as W,n as F,r as te,y as le,l as x,o as se,j as z,z as ne,u as ae}from"../chunks/scheduler.DbvQfQVF.js";import{e as R}from"../chunks/each.pp9rRlcr.js";import{S as oe,i as re}from"../chunks/index.DGby9ZBm.js";function Q(r,t,e){const s=r.slice();return s[22]=t[e],s[24]=e,s}function ie(r){let t,e="<p>Loading...</p>";return{c(){t=C("div"),t.innerHTML=e},l(s){t=E(s,"DIV",{"data-svelte-h":!0}),x(t)!=="svelte-1vs96ti"&&(t.innerHTML=e)},m(s,a){B(s,t,a)},p:F,d(s){s&&f(t)}}}function ue(r){let t,e,s="Filename",a,_,h="Filesize",T,v,V="Last modified",y,D,L="Download Link",N,g,o,j="Generate Wget link for download",I,p,b=R(Object.values(r[0].content)),n=[];for(let d=0;d<b.length;d+=1)n[d]=Y(Q(r,b,d));return{c(){t=C("div"),e=C("div"),e.textContent=s,a=H(),_=C("div"),_.textContent=h,T=H(),v=C("div"),v.textContent=V,y=H(),D=C("div"),D.textContent=L,N=H();for(let d=0;d<n.length;d+=1)n[d].c();g=H(),o=C("button"),o.textContent=j,this.h()},l(d){t=E(d,"DIV",{class:!0});var w=M(t);e=E(w,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-32zc08"&&(e.textContent=s),a=O(w),_=E(w,"DIV",{"data-svelte-h":!0}),x(_)!=="svelte-1er2eqp"&&(_.textContent=h),T=O(w),v=E(w,"DIV",{"data-svelte-h":!0}),x(v)!=="svelte-8z07u1"&&(v.textContent=V),y=O(w),D=E(w,"DIV",{"data-svelte-h":!0}),x(D)!=="svelte-wyo69u"&&(D.textContent=L),N=O(w);for(let l=0;l<n.length;l+=1)n[l].l(w);w.forEach(f),g=O(d),o=E(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(o)!=="svelte-y2sc8e"&&(o.textContent=j),this.h()},h(){m(e,"class","col-span-6"),m(t,"class","grid grid-cols-9"),m(o,"type","button"),m(o,"class","btn variant-ghost-primary")},m(d,w){B(d,t,w),c(t,e),c(t,a),c(t,_),c(t,T),c(t,v),c(t,y),c(t,D),c(t,N);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(t,null);B(d,g,w),B(d,o,w),I||(p=W(o,"click",ne(r[7])),I=!0)},p(d,w){if(w&89){b=R(Object.values(d[0].content));let l;for(l=0;l<b.length;l+=1){const i=Q(d,b,l);n[l]?n[l].p(i,w):(n[l]=Y(i),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=b.length}},d(d){d&&(f(t),f(g),f(o)),ae(n,d),I=!1,p()}}}function X(r){let t,e,s,a=r[22][0]+"",_,h,T,v=r[22][1]+"",V,y,D,L=r[22][2]+"",N,g,o,j,I,p,b,n,d,w;return{c(){t=C("div"),e=C("input"),s=S(`
					 `),_=S(a),h=H(),T=C("div"),V=S(v),y=H(),D=C("div"),N=S(L),g=H(),o=C("div"),j=S(" "),I=C("a"),p=S("download"),n=H(),this.h()},l(l){t=E(l,"DIV",{class:!0});var i=M(t);e=E(i,"INPUT",{type:!0,id:!0}),s=U(i,`
					 `),_=U(i,a),i.forEach(f),h=O(l),T=E(l,"DIV",{});var u=M(T);V=U(u,v),u.forEach(f),y=O(l),D=E(l,"DIV",{});var k=M(D);N=U(k,L),k.forEach(f),g=O(l),o=E(l,"DIV",{});var P=M(o);j=U(P," "),I=E(P,"A",{href:!0,class:!0});var q=M(I);p=U(q,"download"),q.forEach(f),n=O(P),P.forEach(f),this.h()},h(){m(e,"type","checkbox"),e.value=r[24],m(e,"id","checkbox_"+r[24]),m(t,"class","col-span-6"),m(I,"href",b="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_file?name="+r[22][0]+"&type="+r[3]),m(I,"class","underline")},m(l,i){B(l,t,i),c(t,e),c(t,s),c(t,_),B(l,h,i),B(l,T,i),c(T,V),B(l,y,i),B(l,D,i),c(D,N),B(l,g,i),B(l,o,i),c(o,j),c(o,I),c(I,p),c(o,n),d||(w=W(e,"change",r[6]),d=!0)},p(l,i){i&1&&a!==(a=l[22][0]+"")&&z(_,a),i&1&&v!==(v=l[22][1]+"")&&z(V,v),i&1&&L!==(L=l[22][2]+"")&&z(N,L),i&9&&b!==(b="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_file?name="+l[22][0]+"&type="+l[3])&&m(I,"href",b)},d(l){l&&(f(t),f(h),f(T),f(y),f(D),f(g),f(o)),d=!1,w()}}}function Y(r){let t=r[22][0].toLowerCase().includes(r[4].toLowerCase()),e,s=t&&X(r);return{c(){s&&s.c(),e=A()},l(a){s&&s.l(a),e=A()},m(a,_){s&&s.m(a,_),B(a,e,_)},p(a,_){_&17&&(t=a[22][0].toLowerCase().includes(a[4].toLowerCase())),t?s?s.p(a,_):(s=X(a),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(a){a&&f(e),s&&s.d(a)}}}function Z(r){let t,e,s,a="<span>To download all objects using Wget:</span>",_,h,T,v,V,y="<span>Additional arguments:</span>",D,L,N;return{c(){t=C("div"),e=C("div"),s=C("div"),s.innerHTML=a,_=H(),h=C("span"),T=S(r[5]),v=H(),V=C("div"),V.innerHTML=y,D=H(),L=C("span"),N=S($),this.h()},l(g){t=E(g,"DIV",{style:!0});var o=M(t);e=E(o,"DIV",{class:!0});var j=M(e);s=E(j,"DIV",{class:!0,"data-svelte-h":!0}),x(s)!=="svelte-1dbgnme"&&(s.innerHTML=a),_=O(j),h=E(j,"SPAN",{class:!0});var I=M(h);T=U(I,r[5]),I.forEach(f),v=O(j),V=E(j,"DIV",{class:!0,"data-svelte-h":!0}),x(V)!=="svelte-f7330h"&&(V.innerHTML=y),D=O(j),L=E(j,"SPAN",{class:!0});var p=M(L);N=U(p,$),p.forEach(f),j.forEach(f),o.forEach(f),this.h()},h(){m(s,"class","mb-2"),m(h,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),m(V,"class","mb-1 mt-2 text-sm"),m(L,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 text-sm [word-spacing:4px]"),m(e,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2"),se(t,"display","flex")},m(g,o){B(g,t,o),c(t,e),c(e,s),c(e,_),c(e,h),c(h,T),c(e,v),c(e,V),c(e,D),c(e,L),c(L,N)},p(g,o){o&32&&z(T,g[5])},d(g){g&&f(t)}}}function de(r){let t,e,s,a,_,h,T,v,V,y,D,L,N,g,o,j,I,p,b,n;function d(u,k){return u[0]!=null?ue:ie}let w=d(r),l=w(r),i=r[5].length>0&&Z(r);return{c(){t=C("div"),e=C("button"),s=S("Water Budget"),_=H(),h=C("button"),T=S("Water Budget bias adjusted"),V=H(),y=C("button"),D=S("Kariba"),N=H(),g=C("div"),o=C("input"),j=H(),l.c(),I=H(),i&&i.c(),p=A(),this.h()},l(u){t=E(u,"DIV",{class:!0});var k=M(t);e=E(k,"BUTTON",{type:!0,class:!0});var P=M(e);s=U(P,"Water Budget"),P.forEach(f),_=O(k),h=E(k,"BUTTON",{type:!0,class:!0});var q=M(h);T=U(q,"Water Budget bias adjusted"),q.forEach(f),V=O(k),y=E(k,"BUTTON",{type:!0,class:!0});var K=M(y);D=U(K,"Kariba"),K.forEach(f),k.forEach(f),N=O(u),g=E(u,"DIV",{});var G=M(g);o=E(G,"INPUT",{class:!0,type:!0,placeholder:!0}),G.forEach(f),j=O(u),l.l(u),I=O(u),i&&i.l(u),p=A(),this.h()},h(){m(e,"type","button"),m(e,"class",a="btn variant-filled-tertiary "+r[1]),m(h,"type","button"),m(h,"class",v="btn variant-filled-tertiary "+r[2]),m(y,"type","button"),m(y,"class",L="btn variant-filled-tertiary "+r[2]),m(t,"class","btn-group variant-ghost-primary [&>*+*]:border-red-500 h-6"),m(o,"class","input w-full mt-4"),m(o,"type","text"),m(o,"placeholder","Filter filenames...")},m(u,k){B(u,t,k),c(t,e),c(e,s),c(t,_),c(t,h),c(h,T),c(t,V),c(t,y),c(y,D),B(u,N,k),B(u,g,k),c(g,o),J(o,r[4]),B(u,j,k),l.m(u,k),B(u,I,k),i&&i.m(u,k),B(u,p,k),b||(n=[W(e,"click",r[9]),W(h,"click",r[10]),W(y,"click",r[11]),W(o,"input",r[12])],b=!0)},p(u,[k]){k&2&&a!==(a="btn variant-filled-tertiary "+u[1])&&m(e,"class",a),k&4&&v!==(v="btn variant-filled-tertiary "+u[2])&&m(h,"class",v),k&4&&L!==(L="btn variant-filled-tertiary "+u[2])&&m(y,"class",L),k&16&&o.value!==u[4]&&J(o,u[4]),w===(w=d(u))&&l?l.p(u,k):(l.d(1),l=w(u),l&&(l.c(),l.m(I.parentNode,I))),u[5].length>0?i?i.p(u,k):(i=Z(u),i.c(),i.m(p.parentNode,p)):i&&(i.d(1),i=null)},i:F,o:F,d(u){u&&(f(t),f(N),f(g),f(j),f(I),f(p)),l.d(u),i&&i.d(u),b=!1,te(n)}}}let $="-r -H -N --cut-dirs=2";function ce(r,t,e){let s,a,_=[],h="font-bold",T="",v="kariba";le(()=>{V()});async function V(){const p="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_content?type="+v;try{const b=await fetch(p,{method:"GET"});let n=[];if(!b.ok)throw new Error(`${b.status} ${b.statusText}`);n=await b.json(),e(0,a=n);for(let d=0;d<a.length;d++)_.push(!1);a.content.sort(),console.log("folder_data",a)}catch(b){console.log(b)}}let y="";function D(p){let b=parseInt(p.srcElement.value),n=p.srcElement.checked;_[b]=n}async function L(){const p="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/select_for_wget?type="+v;let b=[];for(let n=0;n<_.length;n++)_[n]&&b.push(a.content[n][0]);console.log("CHECKED: ",b);try{const n=await fetch(p,{method:"POST",body:JSON.stringify(b)});let d=[];if(!n.ok)throw new Error(`${n.status} ${n.statusText}`);d=await n.json(),console.log("RESULT: ",d),e(5,s=d["wget-command"])}catch(n){console.log(n)}}function N(p){p=="water_budget"?(e(2,T=""),e(1,h="font-bold"),e(3,v=p)):(p=="water_budget_bias"||p=="kariba")&&(e(1,h=""),e(2,T="font-bold"),e(3,v=p)),V()}const g=()=>N("water_budget"),o=()=>N("water_budget_bias"),j=()=>N("kariba");function I(){y=this.value,e(4,y)}return e(5,s=""),[a,h,T,v,y,s,D,L,N,g,o,j,I]}class he extends oe{constructor(t){super(),re(this,t,ce,de,ee,{})}}export{he as component};
