import{s as ge,T as fe,U as ue,b as w,f as _,m as u,i as j,h as c,n as q,B as Qe,e as g,a as B,t as S,c as b,l as re,g as M,d as F,x as qe,p as be,V as Ze,y as He,W as et,j as ve,u as Je,o as tt,q as Ie}from"../chunks/scheduler.BwrNQohB.js";import{S as Te,i as Ce,f as lt,c as Q,b as Z,m as ee,t as I,e as he,a as C,d as te,g as _e}from"../chunks/index.BXJ-9HM3.js";import{e as ze}from"../chunks/each.CVGGhJiJ.js";import{A as Ee}from"../chunks/app.config.BO6XNHuD.js";import{F as nt,t as Ae,_ as rt}from"../chunks/folderytpe_chooser.BQgQZ_gS.js";import{g as st}from"../chunks/entry.DUSxrAbd.js";import{n as at}from"../chunks/networking-collaboration-svgrepo-com.021AKHM1.js";function it(r){let e,l;return{c(){e=fe("svg"),l=fe("path"),this.h()},l(n){e=ue(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=w(e);l=ue(t,"path",{d:!0}),w(l).forEach(_),t.forEach(_),this.h()},h(){u(l,"d","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 38.6C310.1 219.5 256 287.4 256 368c0 59.1 29.1 111.3 73.7 143.3c-3.2 .5-6.4 .7-9.7 .7L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zm48 96a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm0 240a24 24 0 1 0 0-48 24 24 0 1 0 0 48zM368 321.6l0 6.4c0 8.8 7.2 16 16 16s16-7.2 16-16l0-6.4c0-5.3 4.3-9.6 9.6-9.6l40.5 0c7.7 0 13.9 6.2 13.9 13.9c0 5.2-2.9 9.9-7.4 12.3l-32 16.8c-5.3 2.8-8.6 8.2-8.6 14.2l0 14.8c0 8.8 7.2 16 16 16s16-7.2 16-16l0-5.1 23.5-12.3c15.1-7.9 24.5-23.6 24.5-40.6c0-25.4-20.6-45.9-45.9-45.9l-40.5 0c-23 0-41.6 18.6-41.6 41.6z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 576 512"),u(e,"width","28")},m(n,t){j(n,e,t),c(e,l)},p:q,i:q,o:q,d(n){n&&_(e)}}}class Xe extends Te{constructor(e){super(),Ce(this,e,null,it,ge,{})}}function ot(r){let e,l;return{c(){e=fe("svg"),l=fe("path"),this.h()},l(n){e=ue(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=w(e);l=ue(t,"path",{d:!0}),w(l).forEach(_),t.forEach(_),this.h()},h(){u(l,"d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5l0 39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9l0 39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7l0-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1L257 256c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 512 512"),u(e,"width","24")},m(n,t){j(n,e,t),c(e,l)},p:q,i:q,o:q,d(n){n&&_(e)}}}class Ye extends Te{constructor(e){super(),Ce(this,e,null,ot,ge,{})}}function ct(r){let e,l;return{c(){e=fe("svg"),l=fe("path"),this.h()},l(n){e=ue(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=w(e);l=ue(t,"path",{d:!0}),w(l).forEach(_),t.forEach(_),this.h()},h(){u(l,"d","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm79 143c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","28")},m(n,t){j(n,e,t),c(e,l)},p:q,i:q,o:q,d(n){n&&_(e)}}}class Be extends Te{constructor(e){super(),Ce(this,e,null,ct,ge,{})}}function ft(r){let e,l;return{c(){e=fe("svg"),l=fe("path"),this.h()},l(n){e=ue(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=w(e);l=ue(t,"path",{d:!0}),w(l).forEach(_),t.forEach(_),this.h()},h(){u(l,"d","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","22")},m(n,t){j(n,e,t),c(e,l)},p:q,i:q,o:q,d(n){n&&_(e)}}}class Me extends Te{constructor(e){super(),Ce(this,e,null,ft,ge,{})}}function ut(r){let e,l;return{c(){e=fe("svg"),l=fe("path"),this.h()},l(n){e=ue(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=w(e);l=ue(t,"path",{d:!0}),w(l).forEach(_),t.forEach(_),this.h()},h(){u(l,"d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 512 512"),u(e,"width","22")},m(n,t){j(n,e,t),c(e,l)},p:q,i:q,o:q,d(n){n&&_(e)}}}class Ke extends Te{constructor(e){super(),Ce(this,e,null,ut,ge,{})}}function Oe(r,e,l){const n=r.slice();return n[24]=e[l][0],n[25]=e[l][1],n[27]=l,n}function Ue(r,e,l){const n=r.slice();return n[28]=e[l],n}function dt(r){let e,l="... Loading";return{c(){e=g("div"),e.textContent=l},l(n){e=b(n,"DIV",{"data-svelte-h":!0}),re(e)!=="svelte-1fzzrbk"&&(e.textContent=l)},m(n,t){j(n,e,t)},p:q,i:q,o:q,d(n){n&&_(e)}}}function ht(r){let e=r[0],l,n,t,a=r[2].filter(Ge).length+"",i,m,f,o,p,s=Re(r);return{c(){s.c(),l=B(),n=g("button"),t=S("Generate Wget link for download ("),i=S(a),m=S(" selected)"),this.h()},l(h){s.l(h),l=M(h),n=b(h,"BUTTON",{type:!0,class:!0});var v=w(n);t=F(v,"Generate Wget link for download ("),i=F(v,a),m=F(v," selected)"),v.forEach(_),this.h()},h(){u(n,"type","button"),u(n,"class","btn bg-[#D17208] rounded-md")},m(h,v){s.m(h,v),j(h,l,v),j(h,n,v),c(n,t),c(n,i),c(n,m),f=!0,o||(p=be(n,"click",et(r[7])),o=!0)},p(h,v){v&1&&ge(e,e=h[0])?(_e(),I(s,1,1,q),he(),s=Re(h),s.c(),C(s,1),s.m(l.parentNode,l)):s.p(h,v),(!f||v&4)&&a!==(a=h[2].filter(Ge).length+"")&&ve(i,a)},i(h){f||(C(s),f=!0)},o(h){I(s),f=!1},d(h){h&&(_(l),_(n)),s.d(h),o=!1,p()}}}function Pe(r){let e,l,n='<tr><th class="text-left">Filename</th> <th class="text-left min-w-[80px] max-w-[80px]">Filesize</th> <th class="text-left min-w-[140px] max-w-[140px]">Last modified</th> <th class="text-left min-w-[122px] max-w-[122px]">Download Link</th> <th class="text-left min-w-[86px] max-w-[86px]">Visualize</th></tr>',t,a,i,m,f=ze(r[25].files),o=[];for(let s=0;s<f.length;s+=1)o[s]=Fe(Ue(r,f,s));const p=s=>I(o[s],1,1,()=>{o[s]=null});return{c(){e=g("table"),l=g("thead"),l.innerHTML=n,t=B(),a=g("tbody");for(let s=0;s<o.length;s+=1)o[s].c();i=B(),this.h()},l(s){e=b(s,"TABLE",{class:!0});var h=w(e);l=b(h,"THEAD",{"data-svelte-h":!0}),re(l)!=="svelte-103285p"&&(l.innerHTML=n),t=M(h),a=b(h,"TBODY",{});var v=w(a);for(let L=0;L<o.length;L+=1)o[L].l(v);v.forEach(_),i=M(h),h.forEach(_),this.h()},h(){u(e,"class","table-fixed mb-1")},m(s,h){j(s,e,h),c(e,l),c(e,t),c(e,a);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(a,null);c(e,i),m=!0},p(s,h){if(h&859){f=ze(s[25].files);let v;for(v=0;v<f.length;v+=1){const L=Ue(s,f,v);o[v]?(o[v].p(L,h),C(o[v],1)):(o[v]=Fe(L),o[v].c(),C(o[v],1),o[v].m(a,null))}for(_e(),v=f.length;v<o.length;v+=1)p(v);he()}},i(s){if(!m){for(let h=0;h<f.length;h+=1)C(o[h]);m=!0}},o(s){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)I(o[h]);m=!1},d(s){s&&_(e),Je(o,s)}}}function Se(r){let e,l,n,t,a,i,m,f=r[0][r[28].index][0].replace(r[24],"... ")+"",o,p,s,h,v,L=r[0][r[28].index][1]+"",V,$,E,N=r[0][r[28].index][2]+"",K,U,W,x,D,z,k,R,X,ce=".nc",le,me,G,A,se,ae,P,J,we,Y,xe,De;k=new Me({});const ie=[pt,mt,_t],oe=[];function Le(d,T){return!d[0][d[28].index][3]||d[0][d[28].index][3].tif_convertable&&!d[0][d[28].index][3].tif_cached?0:d[0][d[28].index][3].tif_cached?1:2}G=Le(r),A=oe[G]=ie[G](r);const pe=[bt,gt,vt],O=[];function y(d,T){return!d[0][d[28].index][3]||d[0][d[28].index][3].tif_convertable&&!d[0][d[28].index][3].tif_cached?0:d[0][d[28].index][3].tif_cached?1:2}return P=y(r),J=O[P]=pe[P](r),{c(){e=g("tr"),l=g("td"),n=g("label"),t=g("input"),m=S(`

													 `),o=S(f),h=B(),v=g("td"),V=S(L),$=B(),E=g("td"),K=S(N),U=B(),W=g("td"),x=g("div"),D=g("button"),z=g("a"),Q(k.$$.fragment),R=B(),X=g("div"),X.textContent=ce,me=B(),A.c(),se=B(),ae=g("td"),J.c(),we=B(),this.h()},l(d){e=b(d,"TR",{class:!0});var T=w(e);l=b(T,"TD",{class:!0});var H=w(l);n=b(H,"LABEL",{for:!0,title:!0});var ne=w(n);t=b(ne,"INPUT",{type:!0,id:!0}),m=F(ne,`

													 `),o=F(ne,f),ne.forEach(_),H.forEach(_),h=M(T),v=b(T,"TD",{});var $e=w(v);V=F($e,L),$e.forEach(_),$=M(T),E=b(T,"TD",{});var ke=w(E);K=F(ke,N),ke.forEach(_),U=M(T),W=b(T,"TD",{class:!0});var ye=w(W);x=b(ye,"DIV",{class:!0});var de=w(x);D=b(de,"BUTTON",{class:!0});var Ne=w(D);z=b(Ne,"A",{href:!0,class:!0});var Ve=w(z);Z(k.$$.fragment,Ve),R=M(Ve),X=b(Ve,"DIV",{class:!0,"data-svelte-h":!0}),re(X)!=="svelte-194q8r8"&&(X.textContent=ce),Ve.forEach(_),Ne.forEach(_),me=M(de),A.l(de),de.forEach(_),ye.forEach(_),se=M(T),ae=b(T,"TD",{class:!0});var je=w(ae);J.l(je),je.forEach(_),we=M(T),T.forEach(_),this.h()},h(){u(t,"type","checkbox"),t.value=a=r[28].index,u(t,"id",i="checkbox_"+r[28].index),u(n,"for",p="checkbox_"+r[28].index),u(n,"title",s="Select for download: "+r[0][r[28].index][0]),u(l,"class","col-span-6 w-full break-all pl-1"),u(X,"class","ml-1 flex place-items-center justify-items-center"),u(z,"href",le=Ee+"/climate/get_temp_file?name="+r[0][r[28].index][0]+"&type="+r[3]+"&filetype=nc"),u(z,"class","flex"),u(D,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md"),u(x,"class","flex"),u(W,"class","min-w-[122px]"),u(ae,"class","min-w-[86px] max-w-[86px]"),u(e,"class","hover:bg-slate-400")},m(d,T){j(d,e,T),c(e,l),c(l,n),c(n,t),c(n,m),c(n,o),c(e,h),c(e,v),c(v,V),c(e,$),c(e,E),c(E,K),c(e,U),c(e,W),c(W,x),c(x,D),c(D,z),ee(k,z,null),c(z,R),c(z,X),c(x,me),oe[G].m(x,null),c(e,se),c(e,ae),O[P].m(ae,null),c(e,we),Y=!0,xe||(De=be(t,"change",r[6]),xe=!0)},p(d,T){(!Y||T&2&&a!==(a=d[28].index))&&(t.value=a),(!Y||T&2&&i!==(i="checkbox_"+d[28].index))&&u(t,"id",i),(!Y||T&3)&&f!==(f=d[0][d[28].index][0].replace(d[24],"... ")+"")&&ve(o,f),(!Y||T&2&&p!==(p="checkbox_"+d[28].index))&&u(n,"for",p),(!Y||T&3&&s!==(s="Select for download: "+d[0][d[28].index][0]))&&u(n,"title",s),(!Y||T&3)&&L!==(L=d[0][d[28].index][1]+"")&&ve(V,L),(!Y||T&3)&&N!==(N=d[0][d[28].index][2]+"")&&ve(K,N),(!Y||T&11&&le!==(le=Ee+"/climate/get_temp_file?name="+d[0][d[28].index][0]+"&type="+d[3]+"&filetype=nc"))&&u(z,"href",le);let H=G;G=Le(d),G===H?oe[G].p(d,T):(_e(),I(oe[H],1,1,()=>{oe[H]=null}),he(),A=oe[G],A?A.p(d,T):(A=oe[G]=ie[G](d),A.c()),C(A,1),A.m(x,null));let ne=P;P=y(d),P===ne?O[P].p(d,T):(_e(),I(O[ne],1,1,()=>{O[ne]=null}),he(),J=O[P],J?J.p(d,T):(J=O[P]=pe[P](d),J.c()),C(J,1),J.m(ae,null))},i(d){Y||(C(k.$$.fragment,d),C(A),C(J),Y=!0)},o(d){I(k.$$.fragment,d),I(A),I(J),Y=!1},d(d){d&&_(e),te(k),oe[G].d(),O[P].d(),xe=!1,De()}}}function _t(r){let e,l,n;return l=new Be({}),{c(){e=g("div"),Q(l.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var a=w(e);Z(l.$$.fragment,a),a.forEach(_),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(t,a){j(t,e,a),ee(l,e,null),n=!0},p:q,i(t){n||(C(l.$$.fragment,t),n=!0)},o(t){I(l.$$.fragment,t),n=!1},d(t){t&&_(e),te(l)}}}function mt(r){let e,l,n,t,a,i=".tif",m,f;return n=new Me({}),{c(){e=g("button"),l=g("a"),Q(n.$$.fragment),t=B(),a=g("div"),a.textContent=i,this.h()},l(o){e=b(o,"BUTTON",{class:!0});var p=w(e);l=b(p,"A",{href:!0,class:!0});var s=w(l);Z(n.$$.fragment,s),t=M(s),a=b(s,"DIV",{class:!0,"data-svelte-h":!0}),re(a)!=="svelte-1w7rk12"&&(a.textContent=i),s.forEach(_),p.forEach(_),this.h()},h(){u(a,"class","ml-1 flex place-items-center justify-center"),u(l,"href",m=Ee+"/climate/get_temp_file?name="+r[0][r[28].index][0]+"&type="+r[3]+"&filetype=tif"),u(l,"class","flex"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(o,p){j(o,e,p),c(e,l),ee(n,l,null),c(l,t),c(l,a),f=!0},p(o,p){(!f||p&11&&m!==(m=Ee+"/climate/get_temp_file?name="+o[0][o[28].index][0]+"&type="+o[3]+"&filetype=tif"))&&u(l,"href",m)},i(o){f||(C(n.$$.fragment,o),f=!0)},o(o){I(n.$$.fragment,o),f=!1},d(o){o&&_(e),te(n)}}}function pt(r){let e,l,n,t,a=".tif",i,m,f;l=new Ke({});function o(){return r[15](r[28])}return{c(){e=g("button"),Q(l.$$.fragment),n=B(),t=g("div"),t.textContent=a,this.h()},l(p){e=b(p,"BUTTON",{class:!0});var s=w(e);Z(l.$$.fragment,s),n=M(s),t=b(s,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-17agyo6"&&(t.textContent=a),s.forEach(_),this.h()},h(){u(t,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md")},m(p,s){j(p,e,s),ee(l,e,null),c(e,n),c(e,t),i=!0,m||(f=be(e,"click",o),m=!0)},p(p,s){r=p},i(p){i||(C(l.$$.fragment,p),i=!0)},o(p){I(l.$$.fragment,p),i=!1},d(p){p&&_(e),te(l),m=!1,f()}}}function vt(r){let e,l,n;return l=new Be({}),{c(){e=g("div"),Q(l.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var a=w(e);Z(l.$$.fragment,a),a.forEach(_),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(t,a){j(t,e,a),ee(l,e,null),n=!0},p:q,i(t){n||(C(l.$$.fragment,t),n=!0)},o(t){I(l.$$.fragment,t),n=!1},d(t){t&&_(e),te(l)}}}function gt(r){let e,l,n,t,a="View",i,m,f;l=new Ye({});function o(){return r[17](r[28])}return{c(){e=g("button"),Q(l.$$.fragment),n=B(),t=g("div"),t.textContent=a,this.h()},l(p){e=b(p,"BUTTON",{class:!0});var s=w(e);Z(l.$$.fragment,s),n=M(s),t=b(s,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-4n39fu"&&(t.textContent=a),s.forEach(_),this.h()},h(){u(t,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-primary hover:bg-primary-900 rounded-md")},m(p,s){j(p,e,s),ee(l,e,null),c(e,n),c(e,t),i=!0,m||(f=be(e,"click",o),m=!0)},p(p,s){r=p},i(p){i||(C(l.$$.fragment,p),i=!0)},o(p){I(l.$$.fragment,p),i=!1},d(p){p&&_(e),te(l),m=!1,f()}}}function bt(r){let e,l,n,t,a="Fetch",i,m,f;l=new Xe({});function o(){return r[16](r[28])}return{c(){e=g("button"),Q(l.$$.fragment),n=B(),t=g("div"),t.textContent=a,this.h()},l(p){e=b(p,"BUTTON",{class:!0});var s=w(e);Z(l.$$.fragment,s),n=M(s),t=b(s,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-1ewx2b1"&&(t.textContent=a),s.forEach(_),this.h()},h(){u(t,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-secondary hover:bg-secondary-900 rounded-md")},m(p,s){j(p,e,s),ee(l,e,null),c(e,n),c(e,t),i=!0,m||(f=be(e,"click",o),m=!0)},p(p,s){r=p},i(p){i||(C(l.$$.fragment,p),i=!0)},o(p){I(l.$$.fragment,p),i=!1},d(p){p&&_(e),te(l),m=!1,f()}}}function Fe(r){let e=r[0][r[28].index][0].toLowerCase().includes(r[4].toLowerCase()),l,n,t=e&&Se(r);return{c(){t&&t.c(),l=Ie()},l(a){t&&t.l(a),l=Ie()},m(a,i){t&&t.m(a,i),j(a,l,i),n=!0},p(a,i){i&19&&(e=a[0][a[28].index][0].toLowerCase().includes(a[4].toLowerCase())),e?t?(t.p(a,i),i&19&&C(t,1)):(t=Se(a),t.c(),C(t,1),t.m(l.parentNode,l)):t&&(_e(),I(t,1,1,()=>{t=null}),he())},i(a){n||(C(t),n=!0)},o(a){I(t),n=!1},d(a){a&&_(l),t&&t.d(a)}}}function We(r){let e,l,n,t=r[24]+"",a,i,m=r[25].files.filter(r[13]).length+"",f,o,p,s,h,v,L;function V(){return r[14](r[24])}let $=r[25].toggled&&Pe(r);return{c(){e=g("div"),l=g("button"),n=g("h2"),a=S(t),i=S(" ("),f=S(m),o=S(")"),p=B(),$&&$.c(),s=Ie(),this.h()},l(E){e=b(E,"DIV",{class:!0});var N=w(e);l=b(N,"BUTTON",{class:!0});var K=w(l);n=b(K,"H2",{class:!0});var U=w(n);a=F(U,t),i=F(U," ("),f=F(U,m),o=F(U,")"),U.forEach(_),K.forEach(_),N.forEach(_),p=M(E),$&&$.l(E),s=Ie(),this.h()},h(){u(n,"class","text-xl"),u(l,"class","w-full flex items-left"),u(e,"class","w-full flex items-center rounded-md h-8 pl-3 "+(r[27]%2==0?"bg-emerald-700":"bg-emerald-900")+" mb-1")},m(E,N){j(E,e,N),c(e,l),c(l,n),c(n,a),c(n,i),c(n,f),c(n,o),j(E,p,N),$&&$.m(E,N),j(E,s,N),h=!0,v||(L=be(l,"click",V),v=!0)},p(E,N){r=E,(!h||N&2)&&t!==(t=r[24]+"")&&ve(a,t),(!h||N&18)&&m!==(m=r[25].files.filter(r[13]).length+"")&&ve(f,m),r[25].toggled?$?($.p(r,N),N&2&&C($,1)):($=Pe(r),$.c(),C($,1),$.m(s.parentNode,s)):$&&(_e(),I($,1,1,()=>{$=null}),he())},i(E){h||(C($),h=!0)},o(E){I($),h=!1},d(E){E&&(_(e),_(p),_(s)),$&&$.d(E),v=!1,L()}}}function Re(r){let e,l,n=ze(Object.entries(r[1])),t=[];for(let i=0;i<n.length;i+=1)t[i]=We(Oe(r,n,i));const a=i=>I(t[i],1,1,()=>{t[i]=null});return{c(){e=g("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=b(i,"DIV",{class:!0});var m=w(e);for(let f=0;f<t.length;f+=1)t[f].l(m);m.forEach(_),this.h()},h(){u(e,"class","p-2")},m(i,m){j(i,e,m);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);l=!0},p(i,m){if(m&859){n=ze(Object.entries(i[1]));let f;for(f=0;f<n.length;f+=1){const o=Oe(i,n,f);t[f]?(t[f].p(o,m),C(t[f],1)):(t[f]=We(o),t[f].c(),C(t[f],1),t[f].m(e,null))}for(_e(),f=n.length;f<t.length;f+=1)a(f);he()}},i(i){if(!l){for(let m=0;m<n.length;m+=1)C(t[m]);l=!0}},o(i){t=t.filter(Boolean);for(let m=0;m<t.length;m+=1)I(t[m]);l=!1},d(i){i&&_(e),Je(t,i)}}}function wt(r){let e,l='<span class="bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]">No files selected or selection has changed. Please select files and click the button again.</span>';return{c(){e=g("div"),e.innerHTML=l,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),re(e)!=="svelte-1llbrq3"&&(e.innerHTML=l),this.h()},h(){u(e,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2")},m(n,t){j(n,e,t)},p:q,d(n){n&&_(e)}}}function xt(r){let e,l,n,t="<span>To download all objects using Wget:</span>",a,i,m,f,o,p="<span>How to use Wget on Windows and Linux:</span>",s,h,v="..links";return{c(){e=g("div"),l=g("div"),n=g("div"),n.innerHTML=t,a=B(),i=g("span"),m=S(r[5]),f=B(),o=g("div"),o.innerHTML=p,s=B(),h=g("span"),h.textContent=v,this.h()},l(L){e=b(L,"DIV",{style:!0});var V=w(e);l=b(V,"DIV",{class:!0});var $=w(l);n=b($,"DIV",{class:!0,"data-svelte-h":!0}),re(n)!=="svelte-1svjzl2"&&(n.innerHTML=t),a=M($),i=b($,"SPAN",{class:!0});var E=w(i);m=F(E,r[5]),E.forEach(_),f=M($),o=b($,"DIV",{class:!0,"data-svelte-h":!0}),re(o)!=="svelte-1dmdx1l"&&(o.innerHTML=p),s=M($),h=b($,"SPAN",{class:!0,"data-svelte-h":!0}),re(h)!=="svelte-lnm796"&&(h.textContent=v),$.forEach(_),V.forEach(_),this.h()},h(){u(n,"class","mb-2"),u(i,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),u(o,"class","mb-2"),u(h,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),u(l,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2"),tt(e,"display","flex")},m(L,V){j(L,e,V),c(e,l),c(l,n),c(l,a),c(l,i),c(i,m),c(l,f),c(l,o),c(l,s),c(l,h)},p(L,V){V&32&&ve(m,L[5])},d(L){L&&_(e)}}}function $t(r){let e,l,n=`<h1 class="content-heading">Available Collections</h1> <img src="${at}" alt="..." width="30px"/>`,t,a,i,m,f,o,p,s,h,v,L,V,$,E,N,K,U,W,x,D,z,k,R,X,ce,le,me,G,A,se,ae,P,J,we;function Y(y){r[11](y)}let xe={};r[3]!==void 0&&(xe.foldertype=r[3]),a=new nt({props:xe}),Qe.push(()=>lt(a,"foldertype",Y)),a.$on("foldertype_changed",r[10]);const De=[ht,dt],ie=[];function oe(y,d){return y[0].length>0?0:1}s=oe(r),h=ie[s]=De[s](r);function Le(y,d){return y[5].length>0?xt:wt}let pe=Le(r),O=pe(r);return E=new Me({}),W=new Ye({}),k=new Xe({}),le=new Ke({}),se=new Be({}),{c(){e=g("div"),l=g("div"),l.innerHTML=n,t=B(),Q(a.$$.fragment),m=B(),f=g("div"),o=g("input"),p=B(),h.c(),v=B(),O.c(),L=B(),V=g("div"),$=g("div"),Q(E.$$.fragment),N=S("  Download file in (.format)."),K=B(),U=g("div"),Q(W.$$.fragment),x=S("  View file on map."),D=B(),z=g("div"),Q(k.$$.fragment),R=S("  Try to generate and visualize. (might fail)"),X=B(),ce=g("div"),Q(le.$$.fragment),me=S("  Try to generate tif and download. (might fail)"),G=B(),A=g("div"),Q(se.$$.fragment),ae=S("  Tiff not creatable. (no download/visualization)."),this.h()},l(y){e=b(y,"DIV",{class:!0});var d=w(e);l=b(d,"DIV",{class:!0,"data-svelte-h":!0}),re(l)!=="svelte-te403e"&&(l.innerHTML=n),t=M(d),Z(a.$$.fragment,d),m=M(d),f=b(d,"DIV",{class:!0});var T=w(f);o=b(T,"INPUT",{class:!0,type:!0,placeholder:!0}),T.forEach(_),p=M(d),h.l(d),v=M(d),O.l(d),L=M(d),V=b(d,"DIV",{class:!0});var H=w(V);$=b(H,"DIV",{class:!0});var ne=w($);Z(E.$$.fragment,ne),N=F(ne,"  Download file in (.format)."),ne.forEach(_),K=M(H),U=b(H,"DIV",{class:!0});var $e=w(U);Z(W.$$.fragment,$e),x=F($e,"  View file on map."),$e.forEach(_),D=M(H),z=b(H,"DIV",{class:!0});var ke=w(z);Z(k.$$.fragment,ke),R=F(ke,"  Try to generate and visualize. (might fail)"),ke.forEach(_),X=M(H),ce=b(H,"DIV",{class:!0});var ye=w(ce);Z(le.$$.fragment,ye),me=F(ye,"  Try to generate tif and download. (might fail)"),ye.forEach(_),G=M(H),A=b(H,"DIV",{class:!0});var de=w(A);Z(se.$$.fragment,de),ae=F(de,"  Tiff not creatable. (no download/visualization)."),de.forEach(_),H.forEach(_),d.forEach(_),this.h()},h(){u(l,"class","flex"),u(o,"class","input w-full mt-4 p-2"),u(o,"type","text"),u(o,"placeholder","Filter filenames..."),u(f,"class","mt-4 p-2"),u($,"class","flex items-center mb-2"),u(U,"class","flex items-center mb-2"),u(z,"class","flex items-center mb-2"),u(ce,"class","flex items-center mb-2"),u(A,"class","flex items-center"),u(V,"class","p-4"),u(e,"class","content-div")},m(y,d){j(y,e,d),c(e,l),c(e,t),ee(a,e,null),c(e,m),c(e,f),c(f,o),qe(o,r[4]),c(e,p),ie[s].m(e,null),c(e,v),O.m(e,null),c(e,L),c(e,V),c(V,$),ee(E,$,null),c($,N),c(V,K),c(V,U),ee(W,U,null),c(U,x),c(V,D),c(V,z),ee(k,z,null),c(z,R),c(V,X),c(V,ce),ee(le,ce,null),c(ce,me),c(V,G),c(V,A),ee(se,A,null),c(A,ae),P=!0,J||(we=be(o,"input",r[12]),J=!0)},p(y,[d]){const T={};!i&&d&8&&(i=!0,T.foldertype=y[3],Ze(()=>i=!1)),a.$set(T),d&16&&o.value!==y[4]&&qe(o,y[4]);let H=s;s=oe(y),s===H?ie[s].p(y,d):(_e(),I(ie[H],1,1,()=>{ie[H]=null}),he(),h=ie[s],h?h.p(y,d):(h=ie[s]=De[s](y),h.c()),C(h,1),h.m(e,v)),pe===(pe=Le(y))&&O?O.p(y,d):(O.d(1),O=pe(y),O&&(O.c(),O.m(e,L)))},i(y){P||(C(a.$$.fragment,y),C(h),C(E.$$.fragment,y),C(W.$$.fragment,y),C(k.$$.fragment,y),C(le.$$.fragment,y),C(se.$$.fragment,y),P=!0)},o(y){I(a.$$.fragment,y),I(h),I(E.$$.fragment,y),I(W.$$.fragment,y),I(k.$$.fragment,y),I(le.$$.fragment,y),I(se.$$.fragment,y),P=!1},d(y){y&&_(e),te(a),ie[s].d(),O.d(),te(E),te(W),te(k),te(le),te(se),J=!1,we()}}}const Ge=r=>r==!0;function kt(r,e,l){let n,t=[],a={},i=[],m="water_budget";He(()=>{Ae.subscribe(x=>{})}),He(()=>{L()});let f="";function o(x){let D=parseInt(x.srcElement.value),z=x.srcElement.checked;l(2,i[D]=z,i),l(5,n="")}async function p(){const x=Ee+"/climate/select_temp_urls?type="+m;let D=[];for(let k=0;k<i.length;k++)i[k]&&D.push(t[k][0]);try{const k=await fetch(x,{method:"POST",body:JSON.stringify(D)});let R=[];if(!k.ok){var z=await k.text();throw new Error(`${k.status} ${k.statusText}
Reason: ${z}`)}R=await k.json(),l(5,n=R["wget-command"])}catch(k){console.log(k)}}async function s(x,D){var z=Ee+"/climate/access_tif?type="+m+"&name="+x;const k=await fetch(z,{method:"GET"});if(k.ok)t[D][3]||l(0,t[D][3]={},t),l(0,t[D][3].tif_cached=!0,t),l(0,t=[...t]);else{t[D][3]||l(0,t[D][3]={},t),l(0,t[D][3].tif_cached=!1,t),l(0,t[D][3].tif_convertable=!1,t),l(0,t=[...t]);var R=await k.text();throw new Error(`${k.status} ${k.statusText}
Reason: ${R}`)}}function h(x){Ae.set({filename:x,foldertype:m}),st("/view_geotiff")}function v(){const x=/^(.+)_v(\d+)_([^_]+)/;l(1,a={});let D={};D["No Category"]={files:[],toggled:!1};for(let k=0;k<t.length;k++){var z=t[k][0];const R=z.match(x);if(R&&R.length>=3){const X=R[0];D[X]||(D[X]={files:[],toggled:!1}),D[X].files.push({filename:z,index:k})}else D["No Category"].files.push({filename:z,index:k})}D["No Category"].files.length==0&&delete D["No Category"],l(1,a=D)}function L(){l(0,t={}),rt(m,!1).then(x=>{l(0,t=x.content),v()}).catch(x=>{console.log(x)})}function V(x){m=x,l(3,m)}function $(){f=this.value,l(4,f)}const E=x=>x.filename.toLowerCase().includes(f.toLowerCase()),N=x=>{l(1,a[x].toggled=!a[x].toggled,a)},K=x=>s(t[x.index][0],x.index),U=x=>s(t[x.index][0],x.index),W=x=>h(t[x.index][0]);return l(5,n=""),[t,a,i,m,f,n,o,p,s,h,L,V,$,E,N,K,U,W]}class It extends Te{constructor(e){super(),Ce(this,e,kt,$t,ge,{})}}export{It as component};
