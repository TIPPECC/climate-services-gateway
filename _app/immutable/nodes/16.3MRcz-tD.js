import{s as nt,e as k,t as P,a as H,q as K,c as y,b as S,d as W,f as d,g as U,m as p,i as B,h as i,x as Z,p as A,n as G,r as ot,y as rt,l as q,o as it,j as F,z as ut,u as ct}from"../chunks/scheduler.DbvQfQVF.js";import{e as $}from"../chunks/each.BD2ZG6u7.js";import{S as dt,i as ft}from"../chunks/index.BW8OJYk7.js";function tt(n,e,t){const s=n.slice();return s[23]=e[t],s[25]=t,s}function _t(n){let e,t="<p>Loading...</p>";return{c(){e=k("div"),e.innerHTML=t},l(s){e=y(s,"DIV",{"data-svelte-h":!0}),q(e)!=="svelte-1vs96ti"&&(e.innerHTML=t)},m(s,o){B(s,e,o)},p:G,d(s){s&&d(e)}}}function pt(n){let e,t,s="Filename",o,h,b="Filesize",C,v,I="Last modified",E,T,D="Download Link",V,m,_,L="Generate Wget link for download",N,O,u=$(Object.values(n[0].content)),r=[];for(let l=0;l<u.length;l+=1)r[l]=lt(tt(n,u,l));return{c(){e=k("div"),t=k("div"),t.textContent=s,o=H(),h=k("div"),h.textContent=b,C=H(),v=k("div"),v.textContent=I,E=H(),T=k("div"),T.textContent=D,V=H();for(let l=0;l<r.length;l+=1)r[l].c();m=H(),_=k("button"),_.textContent=L,this.h()},l(l){e=y(l,"DIV",{class:!0});var f=S(e);t=y(f,"DIV",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-32zc08"&&(t.textContent=s),o=U(f),h=y(f,"DIV",{"data-svelte-h":!0}),q(h)!=="svelte-1er2eqp"&&(h.textContent=b),C=U(f),v=y(f,"DIV",{"data-svelte-h":!0}),q(v)!=="svelte-8z07u1"&&(v.textContent=I),E=U(f),T=y(f,"DIV",{"data-svelte-h":!0}),q(T)!=="svelte-wyo69u"&&(T.textContent=D),V=U(f);for(let a=0;a<r.length;a+=1)r[a].l(f);f.forEach(d),m=U(l),_=y(l,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(_)!=="svelte-y2sc8e"&&(_.textContent=L),this.h()},h(){p(t,"class","col-span-6"),p(e,"class","grid grid-cols-9"),p(_,"type","button"),p(_,"class","btn variant-ghost-primary")},m(l,f){B(l,e,f),i(e,t),i(e,o),i(e,h),i(e,C),i(e,v),i(e,E),i(e,T),i(e,V);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);B(l,m,f),B(l,_,f),N||(O=A(_,"click",ut(n[7])),N=!0)},p(l,f){if(f&89){u=$(Object.values(l[0].content));let a;for(a=0;a<u.length;a+=1){const w=tt(l,u,a);r[a]?r[a].p(w,f):(r[a]=lt(w),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=u.length}},d(l){l&&(d(e),d(m),d(_)),ct(r,l),N=!1,O()}}}function et(n){let e,t,s,o=n[23][0]+"",h,b,C,v=n[23][1]+"",I,E,T,D=n[23][2]+"",V,m,_,L,N,O,u,r,l,f;return{c(){e=k("div"),t=k("input"),s=P(`
					 `),h=P(o),b=H(),C=k("div"),I=P(v),E=H(),T=k("div"),V=P(D),m=H(),_=k("div"),L=P(" "),N=k("a"),O=P("download"),r=H(),this.h()},l(a){e=y(a,"DIV",{class:!0});var w=S(e);t=y(w,"INPUT",{type:!0,id:!0}),s=W(w,`
					 `),h=W(w,o),w.forEach(d),b=U(a),C=y(a,"DIV",{});var x=S(C);I=W(x,v),x.forEach(d),E=U(a),T=y(a,"DIV",{});var z=S(T);V=W(z,D),z.forEach(d),m=U(a),_=y(a,"DIV",{});var M=S(_);L=W(M," "),N=y(M,"A",{href:!0,class:!0});var j=S(N);O=W(j,"download"),j.forEach(d),r=U(M),M.forEach(d),this.h()},h(){p(t,"type","checkbox"),t.value=n[25],p(t,"id","checkbox_"+n[25]),p(e,"class","col-span-6"),p(N,"href",u="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_file?name="+n[23][0]+"&type="+n[3]),p(N,"class","underline")},m(a,w){B(a,e,w),i(e,t),i(e,s),i(e,h),B(a,b,w),B(a,C,w),i(C,I),B(a,E,w),B(a,T,w),i(T,V),B(a,m,w),B(a,_,w),i(_,L),i(_,N),i(N,O),i(_,r),l||(f=A(t,"change",n[6]),l=!0)},p(a,w){w&1&&o!==(o=a[23][0]+"")&&F(h,o),w&1&&v!==(v=a[23][1]+"")&&F(I,v),w&1&&D!==(D=a[23][2]+"")&&F(V,D),w&9&&u!==(u="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_file?name="+a[23][0]+"&type="+a[3])&&p(N,"href",u)},d(a){a&&(d(e),d(b),d(C),d(E),d(T),d(m),d(_)),l=!1,f()}}}function lt(n){let e=n[23][0].toLowerCase().includes(n[4].toLowerCase()),t,s=e&&et(n);return{c(){s&&s.c(),t=K()},l(o){s&&s.l(o),t=K()},m(o,h){s&&s.m(o,h),B(o,t,h)},p(o,h){h&17&&(e=o[23][0].toLowerCase().includes(o[4].toLowerCase())),e?s?s.p(o,h):(s=et(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){o&&d(t),s&&s.d(o)}}}function st(n){let e,t,s,o="<span>To download all objects using Wget:</span>",h,b,C,v,I,E="<span>Additional arguments:</span>",T,D,V;return{c(){e=k("div"),t=k("div"),s=k("div"),s.innerHTML=o,h=H(),b=k("span"),C=P(n[5]),v=H(),I=k("div"),I.innerHTML=E,T=H(),D=k("span"),V=P(at),this.h()},l(m){e=y(m,"DIV",{style:!0});var _=S(e);t=y(_,"DIV",{class:!0});var L=S(t);s=y(L,"DIV",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-1dbgnme"&&(s.innerHTML=o),h=U(L),b=y(L,"SPAN",{class:!0});var N=S(b);C=W(N,n[5]),N.forEach(d),v=U(L),I=y(L,"DIV",{class:!0,"data-svelte-h":!0}),q(I)!=="svelte-f7330h"&&(I.innerHTML=E),T=U(L),D=y(L,"SPAN",{class:!0});var O=S(D);V=W(O,at),O.forEach(d),L.forEach(d),_.forEach(d),this.h()},h(){p(s,"class","mb-2"),p(b,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),p(I,"class","mb-1 mt-2 text-sm"),p(D,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 text-sm [word-spacing:4px]"),p(t,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2"),it(e,"display","flex")},m(m,_){B(m,e,_),i(e,t),i(t,s),i(t,h),i(t,b),i(b,C),i(t,v),i(t,I),i(t,T),i(t,D),i(D,V)},p(m,_){_&32&&F(C,m[5])},d(m){m&&d(e)}}}function ht(n){let e,t,s,o,h,b,C,v,I,E,T,D,V,m,_,L,N,O,u,r,l,f,a,w;function x(c,g){return c[0]!=null?pt:_t}let z=x(n),M=z(n),j=n[5].length>0&&st(n);return{c(){e=k("div"),t=k("button"),s=P("Water Budget"),h=H(),b=k("button"),C=P("Water Budget bias adjusted"),I=H(),E=k("button"),T=P("Kariba"),V=H(),m=k("button"),_=P("Vaal"),N=H(),O=k("div"),u=k("input"),r=H(),M.c(),l=H(),j&&j.c(),f=K(),this.h()},l(c){e=y(c,"DIV",{class:!0});var g=S(e);t=y(g,"BUTTON",{type:!0,class:!0});var J=S(t);s=W(J,"Water Budget"),J.forEach(d),h=U(g),b=y(g,"BUTTON",{type:!0,class:!0});var R=S(b);C=W(R,"Water Budget bias adjusted"),R.forEach(d),I=U(g),E=y(g,"BUTTON",{type:!0,class:!0});var Q=S(E);T=W(Q,"Kariba"),Q.forEach(d),V=U(g),m=y(g,"BUTTON",{type:!0,class:!0});var X=S(m);_=W(X,"Vaal"),X.forEach(d),g.forEach(d),N=U(c),O=y(c,"DIV",{});var Y=S(O);u=y(Y,"INPUT",{class:!0,type:!0,placeholder:!0}),Y.forEach(d),r=U(c),M.l(c),l=U(c),j&&j.l(c),f=K(),this.h()},h(){p(t,"type","button"),p(t,"class",o="btn variant-filled-tertiary "+n[1]),p(b,"type","button"),p(b,"class",v="btn variant-filled-tertiary "+n[2]),p(E,"type","button"),p(E,"class",D="btn variant-filled-tertiary "+n[2]),p(m,"type","button"),p(m,"class",L="btn variant-filled-tertiary "+n[2]),p(e,"class","btn-group variant-ghost-primary [&>*+*]:border-red-500 h-6"),p(u,"class","input w-full mt-4"),p(u,"type","text"),p(u,"placeholder","Filter filenames...")},m(c,g){B(c,e,g),i(e,t),i(t,s),i(e,h),i(e,b),i(b,C),i(e,I),i(e,E),i(E,T),i(e,V),i(e,m),i(m,_),B(c,N,g),B(c,O,g),i(O,u),Z(u,n[4]),B(c,r,g),M.m(c,g),B(c,l,g),j&&j.m(c,g),B(c,f,g),a||(w=[A(t,"click",n[9]),A(b,"click",n[10]),A(E,"click",n[11]),A(m,"click",n[12]),A(u,"input",n[13])],a=!0)},p(c,[g]){g&2&&o!==(o="btn variant-filled-tertiary "+c[1])&&p(t,"class",o),g&4&&v!==(v="btn variant-filled-tertiary "+c[2])&&p(b,"class",v),g&4&&D!==(D="btn variant-filled-tertiary "+c[2])&&p(E,"class",D),g&4&&L!==(L="btn variant-filled-tertiary "+c[2])&&p(m,"class",L),g&16&&u.value!==c[4]&&Z(u,c[4]),z===(z=x(c))&&M?M.p(c,g):(M.d(1),M=z(c),M&&(M.c(),M.m(l.parentNode,l))),c[5].length>0?j?j.p(c,g):(j=st(c),j.c(),j.m(f.parentNode,f)):j&&(j.d(1),j=null)},i:G,o:G,d(c){c&&(d(e),d(N),d(O),d(r),d(l),d(f)),M.d(c),j&&j.d(c),a=!1,ot(w)}}}let at="-r -H -N --cut-dirs=2";function bt(n,e,t){let s,o,h=[],b="font-bold",C="",v="kariba";rt(()=>{I()});async function I(){const u="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_content?type="+v;try{const r=await fetch(u,{method:"GET"});let l=[];if(!r.ok)throw new Error(`${r.status} ${r.statusText}`);l=await r.json(),t(0,o=l);for(let f=0;f<o.length;f++)h.push(!1);o.content.sort(),console.log("folder_data",o)}catch(r){console.log(r)}}let E="";function T(u){let r=parseInt(u.srcElement.value),l=u.srcElement.checked;h[r]=l}async function D(){const u="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/select_for_wget?type="+v;let r=[];for(let l=0;l<h.length;l++)h[l]&&r.push(o.content[l][0]);console.log("CHECKED: ",r);try{const l=await fetch(u,{method:"POST",body:JSON.stringify(r)});let f=[];if(!l.ok)throw new Error(`${l.status} ${l.statusText}`);f=await l.json(),console.log("RESULT: ",f),t(5,s=f["wget-command"])}catch(l){console.log(l)}}function V(u){u=="water_budget"?(t(2,C=""),t(1,b="font-bold"),t(3,v=u)):(u=="water_budget_bias"||u=="kariba"||u=="vaal")&&(t(1,b=""),t(2,C="font-bold"),t(3,v=u)),I()}const m=()=>V("water_budget"),_=()=>V("water_budget_bias"),L=()=>V("kariba"),N=()=>V("vaal");function O(){E=this.value,t(4,E)}return t(5,s=""),[o,b,C,v,E,s,T,D,V,m,_,L,N,O]}class kt extends dt{constructor(e){super(),ft(this,e,bt,ht,nt,{})}}export{kt as component};
