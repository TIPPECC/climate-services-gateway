import{s as q,a as T,q as N,g as j,i as C,n as D,f as v,y as U,e as m,t as x,c as g,b as y,l as I,d as E,m as b,o as B,h as _,j as A,p as $,z as R,u as z}from"../chunks/scheduler.BDHzqLTT.js";import{e as S}from"../chunks/each.BTXDUsd8.js";import{S as G,i as J}from"../chunks/index.Ds2Lpf0y.js";function M(f,e,s){const a=f.slice();return a[14]=e[s],a[16]=s,a}function K(f){let e,s="<p>Loading...</p>";return{c(){e=m("div"),e.innerHTML=s},l(a){e=g(a,"DIV",{"data-svelte-h":!0}),I(e)!=="svelte-1vs96ti"&&(e.innerHTML=s)},m(a,d){C(a,e,d)},p:D,d(a){a&&v(e)}}}function W(f){let e,s,a,d="Submit",i,r,l=S(Object.values(f[0].content)),o=[];for(let n=0;n<l.length;n+=1)o[n]=V(M(f,l,n));return{c(){e=m("div");for(let n=0;n<o.length;n+=1)o[n].c();s=T(),a=m("button"),a.textContent=d,this.h()},l(n){e=g(n,"DIV",{});var c=y(e);for(let t=0;t<o.length;t+=1)o[t].l(c);s=j(c),a=g(c,"BUTTON",{class:!0,"data-svelte-h":!0}),I(a)!=="svelte-or1byb"&&(a.textContent=d),c.forEach(v),this.h()},h(){b(a,"class","btn variant-ghost-primary m-4")},m(n,c){C(n,e,c);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);_(e,s),_(e,a),i||(r=$(a,"click",R(f[3])),i=!0)},p(n,c){if(c&5){l=S(Object.values(n[0].content));let t;for(t=0;t<l.length;t+=1){const u=M(n,l,t);o[t]?o[t].p(u,c):(o[t]=V(u),o[t].c(),o[t].m(e,s))}for(;t<o.length;t+=1)o[t].d(1);o.length=l.length}},d(n){n&&v(e),z(o,n),i=!1,r()}}}function V(f){let e,s,a,d=f[14]+"",i,r,l,o,n,c,t,u,w;return{c(){e=m("div"),s=m("input"),a=x(`
				 `),i=x(d),r=x(" "),l=m("a"),o=x("download"),c=T(),t=m("br"),this.h()},l(p){e=g(p,"DIV",{class:!0});var h=y(e);s=g(h,"INPUT",{type:!0,id:!0}),a=E(h,`
				 `),i=E(h,d),r=E(h," "),l=g(h,"A",{href:!0,class:!0});var k=y(l);o=E(k,"download"),k.forEach(v),c=j(h),t=g(h,"BR",{}),h.forEach(v),this.h()},h(){b(s,"type","checkbox"),s.value=f[16],b(s,"id","checkbox_"+f[16]),b(l,"href",n="https://leutra.geogr.uni-jena.de/backend_geoportal//climate/get_file?name="+f[14]),b(l,"class","underline"),b(e,"class","pl-4")},m(p,h){C(p,e,h),_(e,s),_(e,a),_(e,i),_(e,r),_(e,l),_(l,o),_(e,c),_(e,t),u||(w=$(s,"change",f[2]),u=!0)},p(p,h){h&1&&d!==(d=p[14]+"")&&A(i,d),h&1&&n!==(n="https://leutra.geogr.uni-jena.de/backend_geoportal//climate/get_file?name="+p[14])&&b(l,"href",n)},d(p){p&&v(e),u=!1,w()}}}function O(f){let e,s,a,d="<span>To download all objects using Wget (this is just a visual showcase and can be ignored):</span>",i,r,l,o,n,c="<span>Additional arguments:</span>",t,u,w;return{c(){e=m("div"),s=m("div"),a=m("div"),a.innerHTML=d,i=T(),r=m("span"),l=x(f[1]),o=T(),n=m("div"),n.innerHTML=c,t=T(),u=m("span"),w=x(P),this.h()},l(p){e=g(p,"DIV",{style:!0});var h=y(e);s=g(h,"DIV",{class:!0});var k=y(s);a=g(k,"DIV",{class:!0,"data-svelte-h":!0}),I(a)!=="svelte-n58jpg"&&(a.innerHTML=d),i=j(k),r=g(k,"SPAN",{class:!0});var H=y(r);l=E(H,f[1]),H.forEach(v),o=j(k),n=g(k,"DIV",{class:!0,"data-svelte-h":!0}),I(n)!=="svelte-1v3dr2a"&&(n.innerHTML=c),t=j(k),u=g(k,"SPAN",{class:!0});var L=y(u);w=E(L,P),L.forEach(v),k.forEach(v),h.forEach(v),this.h()},h(){b(a,"class","mb-2"),b(r,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),b(n,"class","mb-1 mt-2 text-sm"),b(u,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 text-sm [word-spacing:4px]"),b(s,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2"),B(e,"display","flex")},m(p,h){C(p,e,h),_(e,s),_(s,a),_(s,i),_(s,r),_(r,l),_(s,o),_(s,n),_(s,t),_(s,u),_(u,w)},p(p,h){h&2&&A(l,p[1])},d(p){p&&v(e)}}}function F(f){let e,s;function a(l,o){return l[0]!=null?W:K}let d=a(f),i=d(f),r=f[1].length>0&&O(f);return{c(){i.c(),e=T(),r&&r.c(),s=N()},l(l){i.l(l),e=j(l),r&&r.l(l),s=N()},m(l,o){i.m(l,o),C(l,e,o),r&&r.m(l,o),C(l,s,o)},p(l,[o]){d===(d=a(l))&&i?i.p(l,o):(i.d(1),i=d(l),i&&(i.c(),i.m(e.parentNode,e))),l[1].length>0?r?r.p(l,o):(r=O(l),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},i:D,o:D,d(l){l&&(v(e),v(s)),i.d(l),r&&r.d(l)}}}let P="-r -H -N --cut-dirs=2";function Q(f,e,s){let a,d,i=[];U(()=>{r()});async function r(){const n="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_content";try{const c=await fetch(n,{method:"GET"});let t=[];if(!c.ok)throw new Error(`${c.status} ${c.statusText}`);t=await c.json(),s(0,d=t);for(let u=0;u<d.length;u++)i.push(!1);d.content.sort(),console.log("folder_data",d)}catch(c){console.log(c)}}function l(n){let c=parseInt(n.srcElement.value),t=n.srcElement.checked;i[c]=t}async function o(){const n="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/select_for_wget";let c=[];for(let t=0;t<i.length;t++)i[t]&&c.push(d.content[t]);console.log("CHECKED: ",c);try{const t=await fetch(n,{method:"POST",body:JSON.stringify(c)});let u=[];if(!t.ok)throw new Error(`${t.status} ${t.statusText}`);u=await t.json(),console.log("RESULT: ",u),s(1,a=u["wget-command"])}catch(t){console.log(t)}}return s(1,a=""),[d,a,l,o]}class ee extends G{constructor(e){super(),J(this,e,Q,F,q,{})}}export{ee as component};
