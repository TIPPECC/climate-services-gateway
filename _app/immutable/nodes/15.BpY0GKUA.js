import{s as Y,e as w,t as H,a as L,q as W,c as y,b as x,d as B,f as c,g as N,m as k,i as j,h as u,x as F,p as P,n as z,r as Z,y as $,l as O,o as ee,j as U,z as te,u as le}from"../chunks/scheduler.B-RSoUMT.js";import{e as G}from"../chunks/each.CWMSR8JD.js";import{S as se,i as ne}from"../chunks/index.DO6v5rn_.js";function J(d,e,t){const n=d.slice();return n[21]=e[t],n[23]=t,n}function ae(d){let e,t="<p>Loading...</p>";return{c(){e=w("div"),e.innerHTML=t},l(n){e=y(n,"DIV",{"data-svelte-h":!0}),O(e)!=="svelte-1vs96ti"&&(e.innerHTML=t)},m(n,r){j(n,e,r)},p:z,d(n){n&&c(e)}}}function oe(d){let e,t,n="Filename",r,f,v="Filesize",C,b,E="Last modified",I,_,D="Download Link",T,g,h,V="Generate wget link",p,m,i=G(Object.values(d[0].content)),a=[];for(let s=0;s<i.length;s+=1)a[s]=R(J(d,i,s));return{c(){e=w("div"),t=w("div"),t.textContent=n,r=L(),f=w("div"),f.textContent=v,C=L(),b=w("div"),b.textContent=E,I=L(),_=w("div"),_.textContent=D,T=L();for(let s=0;s<a.length;s+=1)a[s].c();g=L(),h=w("button"),h.textContent=V,this.h()},l(s){e=y(s,"DIV",{class:!0});var l=x(e);t=y(l,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-32zc08"&&(t.textContent=n),r=N(l),f=y(l,"DIV",{"data-svelte-h":!0}),O(f)!=="svelte-1er2eqp"&&(f.textContent=v),C=N(l),b=y(l,"DIV",{"data-svelte-h":!0}),O(b)!=="svelte-8z07u1"&&(b.textContent=E),I=N(l),_=y(l,"DIV",{"data-svelte-h":!0}),O(_)!=="svelte-wyo69u"&&(_.textContent=D),T=N(l);for(let o=0;o<a.length;o+=1)a[o].l(l);g=N(l),h=y(l,"BUTTON",{class:!0,"data-svelte-h":!0}),O(h)!=="svelte-1jddpck"&&(h.textContent=V),l.forEach(c),this.h()},h(){k(t,"class","col-span-6"),k(h,"class","btn variant-ghost-primary m-4"),k(e,"class","grid grid-cols-9")},m(s,l){j(s,e,l),u(e,t),u(e,r),u(e,f),u(e,C),u(e,b),u(e,I),u(e,_),u(e,T);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(e,null);u(e,g),u(e,h),p||(m=P(h,"click",te(d[7])),p=!0)},p(s,l){if(l&89){i=G(Object.values(s[0].content));let o;for(o=0;o<i.length;o+=1){const M=J(s,i,o);a[o]?a[o].p(M,l):(a[o]=R(M),a[o].c(),a[o].m(e,g))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}},d(s){s&&c(e),le(a,s),p=!1,m()}}}function K(d){let e,t,n,r=d[21][0]+"",f,v,C,b=d[21][1]+"",E,I,_,D=d[21][2]+"",T,g,h,V,p,m,i,a,s;return{c(){e=w("div"),t=w("input"),n=H(`
					 `),f=H(r),v=L(),C=w("div"),E=H(b),I=L(),_=w("div"),T=H(D),g=L(),h=w("div"),V=H(" "),p=w("a"),m=H("download"),this.h()},l(l){e=y(l,"DIV",{class:!0});var o=x(e);t=y(o,"INPUT",{type:!0,id:!0}),n=B(o,`
					 `),f=B(o,r),o.forEach(c),v=N(l),C=y(l,"DIV",{});var M=x(C);E=B(M,b),M.forEach(c),I=N(l),_=y(l,"DIV",{});var S=x(_);T=B(S,D),S.forEach(c),g=N(l),h=y(l,"DIV",{});var q=x(h);V=B(q," "),p=y(q,"A",{href:!0,class:!0});var A=x(p);m=B(A,"download"),A.forEach(c),q.forEach(c),this.h()},h(){k(t,"type","checkbox"),t.value=d[23],k(t,"id","checkbox_"+d[23]),k(e,"class","col-span-6"),k(p,"href",i="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_file?name="+d[21][0]+"&type="+d[3]),k(p,"class","underline")},m(l,o){j(l,e,o),u(e,t),u(e,n),u(e,f),j(l,v,o),j(l,C,o),u(C,E),j(l,I,o),j(l,_,o),u(_,T),j(l,g,o),j(l,h,o),u(h,V),u(h,p),u(p,m),a||(s=P(t,"change",d[6]),a=!0)},p(l,o){o&1&&r!==(r=l[21][0]+"")&&U(f,r),o&1&&b!==(b=l[21][1]+"")&&U(E,b),o&1&&D!==(D=l[21][2]+"")&&U(T,D),o&9&&i!==(i="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_file?name="+l[21][0]+"&type="+l[3])&&k(p,"href",i)},d(l){l&&(c(e),c(v),c(C),c(I),c(_),c(g),c(h)),a=!1,s()}}}function R(d){let e=d[21][0].toLowerCase().includes(d[4].toLowerCase()),t,n=e&&K(d);return{c(){n&&n.c(),t=W()},l(r){n&&n.l(r),t=W()},m(r,f){n&&n.m(r,f),j(r,t,f)},p(r,f){f&17&&(e=r[21][0].toLowerCase().includes(r[4].toLowerCase())),e?n?n.p(r,f):(n=K(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&c(t),n&&n.d(r)}}}function Q(d){let e,t,n,r="<span>To download all objects using Wget (this is just a visual showcase and can be ignored):</span>",f,v,C,b,E,I="<span>Additional arguments:</span>",_,D,T;return{c(){e=w("div"),t=w("div"),n=w("div"),n.innerHTML=r,f=L(),v=w("span"),C=H(d[5]),b=L(),E=w("div"),E.innerHTML=I,_=L(),D=w("span"),T=H(X),this.h()},l(g){e=y(g,"DIV",{style:!0});var h=x(e);t=y(h,"DIV",{class:!0});var V=x(t);n=y(V,"DIV",{class:!0,"data-svelte-h":!0}),O(n)!=="svelte-n58jpg"&&(n.innerHTML=r),f=N(V),v=y(V,"SPAN",{class:!0});var p=x(v);C=B(p,d[5]),p.forEach(c),b=N(V),E=y(V,"DIV",{class:!0,"data-svelte-h":!0}),O(E)!=="svelte-f7330h"&&(E.innerHTML=I),_=N(V),D=y(V,"SPAN",{class:!0});var m=x(D);T=B(m,X),m.forEach(c),V.forEach(c),h.forEach(c),this.h()},h(){k(n,"class","mb-2"),k(v,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),k(E,"class","mb-1 mt-2 text-sm"),k(D,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 text-sm [word-spacing:4px]"),k(t,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2"),ee(e,"display","flex")},m(g,h){j(g,e,h),u(e,t),u(t,n),u(t,f),u(t,v),u(v,C),u(t,b),u(t,E),u(t,_),u(t,D),u(D,T)},p(g,h){h&32&&U(C,g[5])},d(g){g&&c(e)}}}function ie(d){let e,t,n,r,f,v,C,b,E,I,_,D,T,g,h,V;function p(s,l){return s[0]!=null?oe:ae}let m=p(d),i=m(d),a=d[5].length>0&&Q(d);return{c(){e=w("div"),t=w("button"),n=H("Water Budget"),f=L(),v=w("button"),C=H("Water Budget bias adjusted"),E=L(),I=w("div"),_=w("input"),D=L(),i.c(),T=L(),a&&a.c(),g=W(),this.h()},l(s){e=y(s,"DIV",{class:!0});var l=x(e);t=y(l,"BUTTON",{type:!0,class:!0});var o=x(t);n=B(o,"Water Budget"),o.forEach(c),f=N(l),v=y(l,"BUTTON",{type:!0,class:!0});var M=x(v);C=B(M,"Water Budget bias adjusted"),M.forEach(c),l.forEach(c),E=N(s),I=y(s,"DIV",{});var S=x(I);_=y(S,"INPUT",{class:!0,type:!0,placeholder:!0}),S.forEach(c),D=N(s),i.l(s),T=N(s),a&&a.l(s),g=W(),this.h()},h(){k(t,"type","button"),k(t,"class",r="btn variant-filled-tertiary "+d[1]),k(v,"type","button"),k(v,"class",b="btn variant-filled-tertiary "+d[2]),k(e,"class","btn-group variant-ghost-primary [&>*+*]:border-red-500 h-6"),k(_,"class","input w-full mt-4"),k(_,"type","text"),k(_,"placeholder","Filter filenames...")},m(s,l){j(s,e,l),u(e,t),u(t,n),u(e,f),u(e,v),u(v,C),j(s,E,l),j(s,I,l),u(I,_),F(_,d[4]),j(s,D,l),i.m(s,l),j(s,T,l),a&&a.m(s,l),j(s,g,l),h||(V=[P(t,"click",d[9]),P(v,"click",d[10]),P(_,"input",d[11])],h=!0)},p(s,[l]){l&2&&r!==(r="btn variant-filled-tertiary "+s[1])&&k(t,"class",r),l&4&&b!==(b="btn variant-filled-tertiary "+s[2])&&k(v,"class",b),l&16&&_.value!==s[4]&&F(_,s[4]),m===(m=p(s))&&i?i.p(s,l):(i.d(1),i=m(s),i&&(i.c(),i.m(T.parentNode,T))),s[5].length>0?a?a.p(s,l):(a=Q(s),a.c(),a.m(g.parentNode,g)):a&&(a.d(1),a=null)},i:z,o:z,d(s){s&&(c(e),c(E),c(I),c(D),c(T),c(g)),i.d(s),a&&a.d(s),h=!1,Z(V)}}}let X="-r -H -N --cut-dirs=2";function re(d,e,t){let n,r,f=[],v="font-bold",C="",b="water_budget";$(()=>{E()});async function E(){const p="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_content?type="+b;try{const m=await fetch(p,{method:"GET"});let i=[];if(!m.ok)throw new Error(`${m.status} ${m.statusText}`);i=await m.json(),t(0,r=i);for(let a=0;a<r.length;a++)f.push(!1);r.content.sort(),console.log("folder_data",r)}catch(m){console.log(m)}}let I="";function _(p){let m=parseInt(p.srcElement.value),i=p.srcElement.checked;f[m]=i}async function D(){const p="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/select_for_wget?type="+b;let m=[];for(let i=0;i<f.length;i++)f[i]&&m.push(r.content[i][0]);console.log("CHECKED: ",m);try{const i=await fetch(p,{method:"POST",body:JSON.stringify(m)});let a=[];if(!i.ok)throw new Error(`${i.status} ${i.statusText}`);a=await i.json(),console.log("RESULT: ",a),t(5,n=a["wget-command"])}catch(i){console.log(i)}}function T(p){p=="water_budget"?(t(2,C=""),t(1,v="font-bold"),t(3,b=p)):p=="water_budget_bias"&&(t(1,v=""),t(2,C="font-bold"),t(3,b=p)),E()}const g=()=>T("water_budget"),h=()=>T("water_budget_bias");function V(){I=this.value,t(4,I)}return t(5,n=""),[r,v,C,b,I,n,_,D,T,g,h,V]}class fe extends se{constructor(e){super(),ne(this,e,re,ie,Y,{})}}export{fe as component};
