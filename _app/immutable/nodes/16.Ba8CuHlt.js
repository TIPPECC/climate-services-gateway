import{s as ue,U as Z,V as ee,b as v,f as u,m as i,i as V,h as f,n as F,B as At,e as g,a as M,t as q,c as w,l as _e,g as N,d as U,y as Oe,r as ae,W as Ot,u as st,z as vt,X as gt,j as we,p as zt,q as qt,v as be}from"../chunks/scheduler.LNXBLT3m.js";import{S as me,i as pe,f as Ut,b as X,d as J,m as Y,t as L,c as oe,a as x,e as K,g as ce}from"../chunks/index.DuRI3OYL.js";import{e as qe}from"../chunks/each.D6YF6ztN.js";import{A as Te}from"../chunks/app.config.BO6XNHuD.js";import{F as St,t as wt,_ as Ht,L as Pt,f as Gt}from"../chunks/LoadingRing.VSqF870q.js";import{g as Rt}from"../chunks/entry.COmk27fY.js";function Wt(r){let e,l;return{c(){e=Z("svg"),l=Z("path"),this.h()},l(n){e=ee(n,"svg",{class:!0,xmlns:!0,viewBox:!0,height:!0,width:!0});var t=v(e);l=ee(t,"path",{d:!0}),v(l).forEach(u),t.forEach(u),this.h()},h(){i(l,"d","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32l0 96L0 384c0 35.3 28.7 64 64 64l192 0 0-64L64 384l0-224 192 0 0-64L64 96l0-64zM288 192c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4L409.4 9.4c-6-6-14.1-9.4-22.6-9.4L320 0c-17.7 0-32 14.3-32 32l0 160zm0 288c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4l-13.3-13.3c-6-6-14.1-9.4-22.6-9.4L320 288c-17.7 0-32 14.3-32 32l0 160z"),i(e,"class","fill-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 576 512"),i(e,"height","40px"),i(e,"width","36px")},m(n,t){V(n,e,t),f(e,l)},p:F,i:F,o:F,d(n){n&&u(e)}}}class Xt extends me{constructor(e){super(),pe(this,e,null,Wt,ue,{})}}function Jt(r){let e,l;return{c(){e=Z("svg"),l=Z("path"),this.h()},l(n){e=ee(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=v(e);l=ee(t,"path",{d:!0}),v(l).forEach(u),t.forEach(u),this.h()},h(){i(l,"d","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 38.6C310.1 219.5 256 287.4 256 368c0 59.1 29.1 111.3 73.7 143.3c-3.2 .5-6.4 .7-9.7 .7L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zm48 96a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm0 240a24 24 0 1 0 0-48 24 24 0 1 0 0 48zM368 321.6l0 6.4c0 8.8 7.2 16 16 16s16-7.2 16-16l0-6.4c0-5.3 4.3-9.6 9.6-9.6l40.5 0c7.7 0 13.9 6.2 13.9 13.9c0 5.2-2.9 9.9-7.4 12.3l-32 16.8c-5.3 2.8-8.6 8.2-8.6 14.2l0 14.8c0 8.8 7.2 16 16 16s16-7.2 16-16l0-5.1 23.5-12.3c15.1-7.9 24.5-23.6 24.5-40.6c0-25.4-20.6-45.9-45.9-45.9l-40.5 0c-23 0-41.6 18.6-41.6 41.6z"),i(e,"class","fill-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 576 512"),i(e,"width","28")},m(n,t){V(n,e,t),f(e,l)},p:F,i:F,o:F,d(n){n&&u(e)}}}class Bt extends me{constructor(e){super(),pe(this,e,null,Jt,ue,{})}}function Yt(r){let e,l;return{c(){e=Z("svg"),l=Z("path"),this.h()},l(n){e=ee(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=v(e);l=ee(t,"path",{d:!0}),v(l).forEach(u),t.forEach(u),this.h()},h(){i(l,"d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5l0 39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9l0 39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7l0-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1L257 256c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"),i(e,"class","fill-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 512 512"),i(e,"width","24")},m(n,t){V(n,e,t),f(e,l)},p:F,i:F,o:F,d(n){n&&u(e)}}}class Vt extends me{constructor(e){super(),pe(this,e,null,Yt,ue,{})}}function Kt(r){let e,l;return{c(){e=Z("svg"),l=Z("path"),this.h()},l(n){e=ee(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=v(e);l=ee(t,"path",{d:!0}),v(l).forEach(u),t.forEach(u),this.h()},h(){i(l,"d","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm79 143c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"),i(e,"class","fill-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 448 512"),i(e,"width","28")},m(n,t){V(n,e,t),f(e,l)},p:F,i:F,o:F,d(n){n&&u(e)}}}class it extends me{constructor(e){super(),pe(this,e,null,Kt,ue,{})}}function Qt(r){let e,l;return{c(){e=Z("svg"),l=Z("path"),this.h()},l(n){e=ee(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=v(e);l=ee(t,"path",{d:!0}),v(l).forEach(u),t.forEach(u),this.h()},h(){i(l,"d","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"),i(e,"class","fill-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 448 512"),i(e,"width","22")},m(n,t){V(n,e,t),f(e,l)},p:F,i:F,o:F,d(n){n&&u(e)}}}class Ue extends me{constructor(e){super(),pe(this,e,null,Qt,ue,{})}}function Zt(r){let e,l;return{c(){e=Z("svg"),l=Z("path"),this.h()},l(n){e=ee(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=v(e);l=ee(t,"path",{d:!0}),v(l).forEach(u),t.forEach(u),this.h()},h(){i(l,"d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"),i(e,"class","fill-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 512 512"),i(e,"width","22")},m(n,t){V(n,e,t),f(e,l)},p:F,i:F,o:F,d(n){n&&u(e)}}}class Mt extends me{constructor(e){super(),pe(this,e,null,Zt,ue,{})}}function el(r){let e,l;return{c(){e=Z("svg"),l=Z("path"),this.h()},l(n){e=ee(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var t=v(e);l=ee(t,"path",{d:!0}),v(l).forEach(u),t.forEach(u),this.h()},h(){i(l,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),i(e,"class","pb-1 fill-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 320 512"),i(e,"width",r[1]),i(e,"height",r[0])},m(n,t){V(n,e,t),f(e,l)},p(n,[t]){t&2&&i(e,"width",n[1]),t&1&&i(e,"height",n[0])},i:F,o:F,d(n){n&&u(e)}}}function tl(r,e,l){let{h:n="32px"}=e,{w:t="18px"}=e;return r.$$set=s=>{"h"in s&&l(0,n=s.h),"w"in s&&l(1,t=s.w)},[n,t]}class Nt extends me{constructor(e){super(),pe(this,e,tl,el,ue,{h:0,w:1})}}function ll(r){let e,l;return{c(){e=Z("svg"),l=Z("path"),this.h()},l(n){e=ee(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var t=v(e);l=ee(t,"path",{d:!0}),v(l).forEach(u),t.forEach(u),this.h()},h(){i(l,"d","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"),i(e,"class","fill-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 256 512"),i(e,"width",r[0]),i(e,"height",r[1])},m(n,t){V(n,e,t),f(e,l)},p(n,[t]){t&1&&i(e,"width",n[0]),t&2&&i(e,"height",n[1])},i:F,o:F,d(n){n&&u(e)}}}function nl(r,e,l){let{w:n="14px"}=e,{h:t="28px"}=e;return r.$$set=s=>{"w"in s&&l(0,n=s.w),"h"in s&&l(1,t=s.h)},[n,t]}class Ft extends me{constructor(e){super(),pe(this,e,nl,ll,ue,{w:0,h:1})}}function rl(r){let e,l;return{c(){e=Z("svg"),l=Z("path"),this.h()},l(n){e=ee(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=v(e);l=ee(t,"path",{d:!0}),v(l).forEach(u),t.forEach(u),this.h()},h(){i(l,"d","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"),i(e,"class","fill-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 448 512"),i(e,"width","19")},m(n,t){V(n,e,t),f(e,l)},p:F,i:F,o:F,d(n){n&&u(e)}}}class sl extends me{constructor(e){super(),pe(this,e,null,rl,ue,{})}}function il(r){let e,l;return{c(){e=Z("svg"),l=Z("path"),this.h()},l(n){e=ee(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=v(e);l=ee(t,"path",{d:!0}),v(l).forEach(u),t.forEach(u),this.h()},h(){i(l,"d","M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"),i(e,"class","fill-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 448 512"),i(e,"width","18")},m(n,t){V(n,e,t),f(e,l)},p:F,i:F,o:F,d(n){n&&u(e)}}}class al extends me{constructor(e){super(),pe(this,e,null,il,ue,{})}}function bt(r,e,l){const n=r.slice();return n[38]=e[l][0],n[39]=e[l][1],n[41]=l,n}function $t(r,e,l){const n=r.slice();return n[42]=e[l],n[43]=e,n[44]=l,n}function fl(r){let e,l,n;return l=new Pt({}),{c(){e=g("div"),X(l.$$.fragment),this.h()},l(t){e=w(t,"DIV",{class:!0});var s=v(e);J(l.$$.fragment,s),s.forEach(u),this.h()},h(){i(e,"class","flex-center")},m(t,s){V(t,e,s),Y(l,e,null),n=!0},p:F,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){L(l.$$.fragment,t),n=!1},d(t){t&&u(e),K(l)}}}function ol(r){let e=r[0],l,n,t,s,a=r[2].filter(It).length+"",_,d,o,c,h=r[3]?"Filetype .nc as .tiff":"Filetype .nc as .nc",b,$,C,D,p=Ct(r);return{c(){p.c(),l=M(),n=g("div"),t=g("button"),s=q("Generate Wget link for download ("),_=q(a),d=q(" selected)"),o=M(),c=g("button"),b=q(h),this.h()},l(k){p.l(k),l=N(k),n=w(k,"DIV",{class:!0});var y=v(n);t=w(y,"BUTTON",{type:!0,class:!0});var O=v(t);s=U(O,"Generate Wget link for download ("),_=U(O,a),d=U(O," selected)"),O.forEach(u),o=N(y),c=w(y,"BUTTON",{type:!0,class:!0});var S=v(c);b=U(S,h),S.forEach(u),y.forEach(u),this.h()},h(){i(t,"type","button"),i(t,"class","btn bg-[#D17208] rounded-md"),i(c,"type","button"),i(c,"class","btn bg-tertiary-500 hover:bg-tertiary-900 rounded-md"),i(n,"class","flex gap-x-1")},m(k,y){p.m(k,y),V(k,l,y),V(k,n,y),f(n,t),f(t,s),f(t,_),f(t,d),f(n,o),f(n,c),f(c,b),$=!0,C||(D=[ae(t,"click",gt(r[13])),ae(c,"click",gt(r[17]))],C=!0)},p(k,y){y[0]&1&&ue(e,e=k[0])?(ce(),L(p,1,1,F),oe(),p=Ct(k),p.c(),x(p,1),p.m(l.parentNode,l)):p.p(k,y),(!$||y[0]&4)&&a!==(a=k[2].filter(It).length+"")&&we(_,a),(!$||y[0]&8)&&h!==(h=k[3]?"Filetype .nc as .tiff":"Filetype .nc as .nc")&&we(b,h)},i(k){$||(x(p),$=!0)},o(k){L(p),$=!1},d(k){k&&(u(l),u(n)),p.d(k),C=!1,st(D)}}}function kt(r){let e,l,n,t,s,a,_,d=r[38]+"",o,c,h=r[39].files.filter(r[26]).length+"",b,$,C,D,p,k,y;const O=[ul,cl],S=[];function se(B,A){return B[39].toggled?0:1}t=se(r),s=S[t]=O[t](r);function ne(){return r[27](r[38])}let z=r[39].toggled&&xt(r);return{c(){e=g("div"),l=g("button"),n=g("div"),s.c(),a=M(),_=g("h2"),o=q(d),c=q(" ("),b=q(h),$=q(")"),C=M(),z&&z.c(),D=be(),this.h()},l(B){e=w(B,"DIV",{class:!0});var A=v(e);l=w(A,"BUTTON",{class:!0});var R=v(l);n=w(R,"DIV",{class:!0});var fe=v(n);s.l(fe),fe.forEach(u),a=N(R),_=w(R,"H2",{class:!0});var te=v(_);o=U(te,d),c=U(te," ("),b=U(te,h),$=U(te,")"),te.forEach(u),R.forEach(u),A.forEach(u),C=N(B),z&&z.l(B),D=be(),this.h()},h(){i(n,"class","flex-center w-[18px] h-[28px]"),i(_,"class","text-xl ml-2"),i(l,"class","w-full flex items-left"),i(e,"class","w-full h-[36px] flex items-center rounded-md pl-3 "+(r[41]%2==0?"bg-emerald-700":"bg-emerald-900")+" mb-1")},m(B,A){V(B,e,A),f(e,l),f(l,n),S[t].m(n,null),f(l,a),f(l,_),f(_,o),f(_,c),f(_,b),f(_,$),V(B,C,A),z&&z.m(B,A),V(B,D,A),p=!0,k||(y=ae(l,"click",ne),k=!0)},p(B,A){r=B;let R=t;t=se(r),t!==R&&(ce(),L(S[R],1,1,()=>{S[R]=null}),oe(),s=S[t],s||(s=S[t]=O[t](r),s.c()),x(s,1),s.m(n,null)),(!p||A[0]&2)&&d!==(d=r[38]+"")&&we(o,d),(!p||A[0]&66)&&h!==(h=r[39].files.filter(r[26]).length+"")&&we(b,h),r[39].toggled?z?(z.p(r,A),A[0]&2&&x(z,1)):(z=xt(r),z.c(),x(z,1),z.m(D.parentNode,D)):z&&(ce(),L(z,1,1,()=>{z=null}),oe())},i(B){p||(x(s),x(z),p=!0)},o(B){L(s),L(z),p=!1},d(B){B&&(u(e),u(C),u(D)),S[t].d(),z&&z.d(B),k=!1,y()}}}function cl(r){let e,l;return e=new Ft({props:{h:"24px"}}),{c(){X(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,t){Y(e,n,t),l=!0},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function ul(r){let e,l;return e=new Nt({props:{h:"28px",w:"26px"}}),{c(){X(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,t){Y(e,n,t),l=!0},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function xt(r){let e,l,n='<tr><th class="text-left">Filename</th> <th class="text-left min-w-[80px] max-w-[80px]">Filesize</th> <th class="text-left min-w-[140px] max-w-[140px]">Last modified</th> <th class="text-left min-w-[122px] max-w-[122px]">Download Link</th> <th class="text-left min-w-[86px] max-w-[86px]">Visualize</th></tr>',t,s,a,_,d=qe(r[39].files),o=[];for(let h=0;h<d.length;h+=1)o[h]=Tt($t(r,d,h));const c=h=>L(o[h],1,1,()=>{o[h]=null});return{c(){e=g("table"),l=g("thead"),l.innerHTML=n,t=M(),s=g("tbody");for(let h=0;h<o.length;h+=1)o[h].c();a=M(),this.h()},l(h){e=w(h,"TABLE",{class:!0});var b=v(e);l=w(b,"THEAD",{"data-svelte-h":!0}),_e(l)!=="svelte-1wncf1h"&&(l.innerHTML=n),t=N(b),s=w(b,"TBODY",{});var $=v(s);for(let C=0;C<o.length;C+=1)o[C].l($);$.forEach(u),a=N(b),b.forEach(u),this.h()},h(){i(e,"class","table-fixed mb-1")},m(h,b){V(h,e,b),f(e,l),f(e,t),f(e,s);for(let $=0;$<o.length;$+=1)o[$]&&o[$].m(s,null);f(e,a),_=!0},p(h,b){if(b[0]&49519){d=qe(h[39].files);let $;for($=0;$<d.length;$+=1){const C=$t(h,d,$);o[$]?(o[$].p(C,b),x(o[$],1)):(o[$]=Tt(C),o[$].c(),x(o[$],1),o[$].m(s,null))}for(ce(),$=d.length;$<o.length;$+=1)c($);oe()}},i(h){if(!_){for(let b=0;b<d.length;b+=1)x(o[b]);_=!0}},o(h){o=o.filter(Boolean);for(let b=0;b<o.length;b+=1)L(o[b]);_=!1},d(h){h&&u(e),zt(o,h)}}}function yt(r){let e,l,n,t,s,a,_,d=r[0][r[42].index].filename.replace(r[38],"... ")+"",o,c,h,b,$,C=r[0][r[42].index].filesize+"",D,p,k,y=r[0][r[42].index].creation_date+"",O,S,se,ne,z,B,A,R,fe,te,P,ie,ke;function Le(){r[28].call(t,r[42])}const de=[hl,dl],Q=[];function xe(I,E){return I[0][I[42].index].filesuffix==".nc"?0:1}z=xe(r),B=Q[z]=de[z](r);let m=r[0][r[42].index].filesuffix==".nc"&&Et(r);return{c(){e=g("tr"),l=g("td"),n=g("label"),t=g("input"),_=q(`
														 `),o=q(d),b=M(),$=g("td"),D=q(C),p=M(),k=g("td"),O=q(y),S=M(),se=g("td"),ne=g("div"),B.c(),A=M(),R=g("td"),m&&m.c(),fe=M(),this.h()},l(I){e=w(I,"TR",{class:!0,style:!0});var E=v(e);l=w(E,"TD",{class:!0});var G=v(l);n=w(G,"LABEL",{for:!0,title:!0});var j=v(n);t=w(j,"INPUT",{type:!0,id:!0}),_=U(j,`
														 `),o=U(j,d),j.forEach(u),G.forEach(u),b=N(E),$=w(E,"TD",{});var le=v($);D=U(le,C),le.forEach(u),p=N(E),k=w(E,"TD",{});var re=v(k);O=U(re,y),re.forEach(u),S=N(E),se=w(E,"TD",{class:!0});var W=v(se);ne=w(W,"DIV",{class:!0});var $e=v(ne);B.l($e),$e.forEach(u),W.forEach(u),A=N(E),R=w(E,"TD",{class:!0});var ve=v(R);m&&m.l(ve),ve.forEach(u),fe=N(E),E.forEach(u),this.h()},h(){i(t,"type","checkbox"),t.__value=s=r[42].index,Oe(t,t.__value),i(t,"id",a="checkbox_"+r[42].index),i(n,"for",c="checkbox_"+r[42].index),i(n,"title",h="Select for download: "+r[0][r[42].index].filename),i(l,"class","col-span-6 w-full break-all pl-1"),i(ne,"class","flex"),i(se,"class","min-w-[122px]"),i(R,"class","min-w-[86px] max-w-[86px]"),i(e,"class","hover:bg-slate-400"),i(e,"style",te=r[3]&&r[0][r[42].index].fileinfo&&!r[0][r[42].index].fileinfo.in_size_limit&&r[2][r[42].index]?"background: #000000":"")},m(I,E){V(I,e,E),f(e,l),f(l,n),f(n,t),t.checked=r[2][r[42].index],f(n,_),f(n,o),f(e,b),f(e,$),f($,D),f(e,p),f(e,k),f(k,O),f(e,S),f(e,se),f(se,ne),Q[z].m(ne,null),f(e,A),f(e,R),m&&m.m(R,null),f(e,fe),P=!0,ie||(ke=[ae(t,"change",Le),ae(t,"change",r[8])],ie=!0)},p(I,E){r=I,(!P||E[0]&2&&s!==(s=r[42].index))&&(t.__value=s,Oe(t,t.__value)),(!P||E[0]&2&&a!==(a="checkbox_"+r[42].index))&&i(t,"id",a),E[0]&6&&(t.checked=r[2][r[42].index]),(!P||E[0]&3)&&d!==(d=r[0][r[42].index].filename.replace(r[38],"... ")+"")&&we(o,d),(!P||E[0]&2&&c!==(c="checkbox_"+r[42].index))&&i(n,"for",c),(!P||E[0]&3&&h!==(h="Select for download: "+r[0][r[42].index].filename))&&i(n,"title",h),(!P||E[0]&3)&&C!==(C=r[0][r[42].index].filesize+"")&&we(D,C),(!P||E[0]&3)&&y!==(y=r[0][r[42].index].creation_date+"")&&we(O,y);let G=z;z=xe(r),z===G?Q[z].p(r,E):(ce(),L(Q[G],1,1,()=>{Q[G]=null}),oe(),B=Q[z],B?B.p(r,E):(B=Q[z]=de[z](r),B.c()),x(B,1),B.m(ne,null)),r[0][r[42].index].filesuffix==".nc"?m?(m.p(r,E),E[0]&3&&x(m,1)):(m=Et(r),m.c(),x(m,1),m.m(R,null)):m&&(ce(),L(m,1,1,()=>{m=null}),oe()),(!P||E[0]&15&&te!==(te=r[3]&&r[0][r[42].index].fileinfo&&!r[0][r[42].index].fileinfo.in_size_limit&&r[2][r[42].index]?"background: #000000":""))&&i(e,"style",te)},i(I){P||(x(B),x(m),P=!0)},o(I){L(B),L(m),P=!1},d(I){I&&u(e),Q[z].d(),m&&m.d(),ie=!1,st(ke)}}}function dl(r){let e,l,n,t,s,a=r[0][r[42].index].filesuffix+"",_,d,o;return n=new Ue({}),{c(){e=g("button"),l=g("a"),X(n.$$.fragment),t=M(),s=g("div"),_=q(a),this.h()},l(c){e=w(c,"BUTTON",{class:!0});var h=v(e);l=w(h,"A",{href:!0,class:!0});var b=v(l);J(n.$$.fragment,b),t=N(b),s=w(b,"DIV",{class:!0});var $=v(s);_=U($,a),$.forEach(u),b.forEach(u),h.forEach(u),this.h()},h(){i(s,"class","ml-1 flex place-items-center justify-items-center"),i(l,"href",d=Te+"/climate/get_temp_file?name="+r[0][r[42].index].filename+"&type="+r[5]+"&filetype=dat"),i(l,"class","flex"),i(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(c,h){V(c,e,h),f(e,l),Y(n,l,null),f(l,t),f(l,s),f(s,_),o=!0},p(c,h){(!o||h[0]&3)&&a!==(a=c[0][c[42].index].filesuffix+"")&&we(_,a),(!o||h[0]&35&&d!==(d=Te+"/climate/get_temp_file?name="+c[0][c[42].index].filename+"&type="+c[5]+"&filetype=dat"))&&i(l,"href",d)},i(c){o||(x(n.$$.fragment,c),o=!0)},o(c){L(n.$$.fragment,c),o=!1},d(c){c&&u(e),K(n)}}}function hl(r){let e,l,n,t,s,a=".nc",_,d,o,c,h,b;n=new Ue({});const $=[pl,ml,_l],C=[];function D(p,k){return!p[0][p[42].index].fileinfo||p[0][p[42].index].fileinfo.tif_convertable&&!p[0][p[42].index].fileinfo.tif_cached?0:p[0][p[42].index].fileinfo.tif_cached?1:2}return o=D(r),c=C[o]=$[o](r),{c(){e=g("button"),l=g("a"),X(n.$$.fragment),t=M(),s=g("div"),s.textContent=a,d=M(),c.c(),h=be(),this.h()},l(p){e=w(p,"BUTTON",{class:!0});var k=v(e);l=w(k,"A",{href:!0,class:!0});var y=v(l);J(n.$$.fragment,y),t=N(y),s=w(y,"DIV",{class:!0,"data-svelte-h":!0}),_e(s)!=="svelte-eicnuk"&&(s.textContent=a),y.forEach(u),k.forEach(u),d=N(p),c.l(p),h=be(),this.h()},h(){i(s,"class","ml-1 flex place-items-center justify-items-center"),i(l,"href",_=Te+"/climate/get_temp_file?name="+r[0][r[42].index].filename+"&type="+r[5]+"&filetype=nc"),i(l,"class","flex"),i(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(p,k){V(p,e,k),f(e,l),Y(n,l,null),f(l,t),f(l,s),V(p,d,k),C[o].m(p,k),V(p,h,k),b=!0},p(p,k){(!b||k[0]&35&&_!==(_=Te+"/climate/get_temp_file?name="+p[0][p[42].index].filename+"&type="+p[5]+"&filetype=nc"))&&i(l,"href",_);let y=o;o=D(p),o===y?C[o].p(p,k):(ce(),L(C[y],1,1,()=>{C[y]=null}),oe(),c=C[o],c?c.p(p,k):(c=C[o]=$[o](p),c.c()),x(c,1),c.m(h.parentNode,h))},i(p){b||(x(n.$$.fragment,p),x(c),b=!0)},o(p){L(n.$$.fragment,p),L(c),b=!1},d(p){p&&(u(e),u(d),u(h)),K(n),C[o].d(p)}}}function _l(r){let e,l,n;return l=new it({}),{c(){e=g("div"),X(l.$$.fragment),this.h()},l(t){e=w(t,"DIV",{class:!0});var s=v(e);J(l.$$.fragment,s),s.forEach(u),this.h()},h(){i(e,"class","flex w-full pr-2 items-center justify-center")},m(t,s){V(t,e,s),Y(l,e,null),n=!0},p:F,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){L(l.$$.fragment,t),n=!1},d(t){t&&u(e),K(l)}}}function ml(r){let e,l,n,t,s,a=".tif",_,d;return n=new Ue({}),{c(){e=g("button"),l=g("a"),X(n.$$.fragment),t=M(),s=g("div"),s.textContent=a,this.h()},l(o){e=w(o,"BUTTON",{class:!0});var c=v(e);l=w(c,"A",{href:!0,class:!0});var h=v(l);J(n.$$.fragment,h),t=N(h),s=w(h,"DIV",{class:!0,"data-svelte-h":!0}),_e(s)!=="svelte-jqstkx"&&(s.textContent=a),h.forEach(u),c.forEach(u),this.h()},h(){i(s,"class","ml-1 flex place-items-center justify-center"),i(l,"href",_=Te+"/climate/get_temp_file?name="+r[0][r[42].index].filename+"&type="+r[5]+"&filetype=tif"),i(l,"class","flex"),i(e,"class","max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(o,c){V(o,e,c),f(e,l),Y(n,l,null),f(l,t),f(l,s),d=!0},p(o,c){(!d||c[0]&35&&_!==(_=Te+"/climate/get_temp_file?name="+o[0][o[42].index].filename+"&type="+o[5]+"&filetype=tif"))&&i(l,"href",_)},i(o){d||(x(n.$$.fragment,o),d=!0)},o(o){L(n.$$.fragment,o),d=!1},d(o){o&&u(e),K(n)}}}function pl(r){let e,l,n,t,s=".tif",a,_,d;l=new Mt({});function o(){return r[29](r[42])}return{c(){e=g("button"),X(l.$$.fragment),n=M(),t=g("div"),t.textContent=s,this.h()},l(c){e=w(c,"BUTTON",{class:!0});var h=v(e);J(l.$$.fragment,h),n=N(h),t=w(h,"DIV",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-y01wx6"&&(t.textContent=s),h.forEach(u),this.h()},h(){i(t,"class","ml-1 flex text-white place-items-center justify-items-center"),i(e,"class","max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md")},m(c,h){V(c,e,h),Y(l,e,null),f(e,n),f(e,t),a=!0,_||(d=ae(e,"click",o),_=!0)},p(c,h){r=c},i(c){a||(x(l.$$.fragment,c),a=!0)},o(c){L(l.$$.fragment,c),a=!1},d(c){c&&u(e),K(l),_=!1,d()}}}function Et(r){let e,l,n,t;const s=[wl,gl,vl],a=[];function _(d,o){return!d[0][d[42].index].fileinfo||d[0][d[42].index].fileinfo.tif_convertable&&!d[0][d[42].index].fileinfo.tif_cached?0:d[0][d[42].index].fileinfo.tif_cached?1:2}return e=_(r),l=a[e]=s[e](r),{c(){l.c(),n=be()},l(d){l.l(d),n=be()},m(d,o){a[e].m(d,o),V(d,n,o),t=!0},p(d,o){let c=e;e=_(d),e===c?a[e].p(d,o):(ce(),L(a[c],1,1,()=>{a[c]=null}),oe(),l=a[e],l?l.p(d,o):(l=a[e]=s[e](d),l.c()),x(l,1),l.m(n.parentNode,n))},i(d){t||(x(l),t=!0)},o(d){L(l),t=!1},d(d){d&&u(n),a[e].d(d)}}}function vl(r){let e,l,n;return l=new it({}),{c(){e=g("div"),X(l.$$.fragment),this.h()},l(t){e=w(t,"DIV",{class:!0});var s=v(e);J(l.$$.fragment,s),s.forEach(u),this.h()},h(){i(e,"class","flex w-full pr-2 items-center justify-center")},m(t,s){V(t,e,s),Y(l,e,null),n=!0},p:F,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){L(l.$$.fragment,t),n=!1},d(t){t&&u(e),K(l)}}}function gl(r){let e,l,n,t,s="View",a,_,d;l=new Vt({});function o(){return r[31](r[42])}return{c(){e=g("button"),X(l.$$.fragment),n=M(),t=g("div"),t.textContent=s,this.h()},l(c){e=w(c,"BUTTON",{class:!0});var h=v(e);J(l.$$.fragment,h),n=N(h),t=w(h,"DIV",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-1mb2yda"&&(t.textContent=s),h.forEach(u),this.h()},h(){i(t,"class","ml-1 flex text-white place-items-center justify-items-center"),i(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-primary hover:bg-primary-900 rounded-md")},m(c,h){V(c,e,h),Y(l,e,null),f(e,n),f(e,t),a=!0,_||(d=ae(e,"click",o),_=!0)},p(c,h){r=c},i(c){a||(x(l.$$.fragment,c),a=!0)},o(c){L(l.$$.fragment,c),a=!1},d(c){c&&u(e),K(l),_=!1,d()}}}function wl(r){let e,l,n,t,s="Fetch",a,_,d;l=new Bt({});function o(){return r[30](r[42])}return{c(){e=g("button"),X(l.$$.fragment),n=M(),t=g("div"),t.textContent=s,this.h()},l(c){e=w(c,"BUTTON",{class:!0});var h=v(e);J(l.$$.fragment,h),n=N(h),t=w(h,"DIV",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-1ecfog1"&&(t.textContent=s),h.forEach(u),this.h()},h(){i(t,"class","ml-1 flex text-white place-items-center justify-items-center"),i(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-secondary hover:bg-secondary-900 rounded-md")},m(c,h){V(c,e,h),Y(l,e,null),f(e,n),f(e,t),a=!0,_||(d=ae(e,"click",o),_=!0)},p(c,h){r=c},i(c){a||(x(l.$$.fragment,c),a=!0)},o(c){L(l.$$.fragment,c),a=!1},d(c){c&&u(e),K(l),_=!1,d()}}}function Tt(r){let e=r[0][r[42].index].filename.toLowerCase().includes(r[6].toLowerCase()),l,n,t=e&&yt(r);return{c(){t&&t.c(),l=be()},l(s){t&&t.l(s),l=be()},m(s,a){t&&t.m(s,a),V(s,l,a),n=!0},p(s,a){a[0]&67&&(e=s[0][s[42].index].filename.toLowerCase().includes(s[6].toLowerCase())),e?t?(t.p(s,a),a[0]&67&&x(t,1)):(t=yt(s),t.c(),x(t,1),t.m(l.parentNode,l)):t&&(ce(),L(t,1,1,()=>{t=null}),oe())},i(s){n||(x(t),n=!0)},o(s){L(t),n=!1},d(s){s&&u(l),t&&t.d(s)}}}function Lt(r){let e=r[39]&&r[39].files.filter(r[19]).length>0,l,n,t=e&&kt(r);return{c(){t&&t.c(),l=be()},l(s){t&&t.l(s),l=be()},m(s,a){t&&t.m(s,a),V(s,l,a),n=!0},p(s,a){a[0]&66&&(e=s[39]&&s[39].files.filter(s[19]).length>0),e?t?(t.p(s,a),a[0]&66&&x(t,1)):(t=kt(s),t.c(),x(t,1),t.m(l.parentNode,l)):t&&(ce(),L(t,1,1,()=>{t=null}),oe())},i(s){n||(x(t),n=!0)},o(s){L(t),n=!1},d(s){s&&u(l),t&&t.d(s)}}}function Ct(r){let e,l,n=qe(Object.entries(r[1])),t=[];for(let a=0;a<n.length;a+=1)t[a]=Lt(bt(r,n,a));const s=a=>L(t[a],1,1,()=>{t[a]=null});return{c(){e=g("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=w(a,"DIV",{class:!0});var _=v(e);for(let d=0;d<t.length;d+=1)t[d].l(_);_.forEach(u),this.h()},h(){i(e,"class","p-2")},m(a,_){V(a,e,_);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);l=!0},p(a,_){if(_[0]&311663){n=qe(Object.entries(a[1]));let d;for(d=0;d<n.length;d+=1){const o=bt(a,n,d);t[d]?(t[d].p(o,_),x(t[d],1)):(t[d]=Lt(o),t[d].c(),x(t[d],1),t[d].m(e,null))}for(ce(),d=n.length;d<t.length;d+=1)s(d);oe()}},i(a){if(!l){for(let _=0;_<n.length;_+=1)x(t[_]);l=!0}},o(a){t=t.filter(Boolean);for(let _=0;_<t.length;_+=1)L(t[_]);l=!1},d(a){a&&u(e),zt(t,a)}}}function bl(r){let e,l='<span class="bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]">No files selected or selection has changed. Please select files and click the button again.</span>';return{c(){e=g("div"),e.innerHTML=l,this.h()},l(n){e=w(n,"DIV",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-1llbrq3"&&(e.innerHTML=l),this.h()},h(){i(e,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2")},m(n,t){V(n,e,t)},p:F,d(n){n&&u(e)}}}function $l(r){let e,l,n,t,s="<span>To download all objects using Wget:</span>",a,_,d,o,c,h="<span>How to use Wget on Windows and Linux:</span>",b,$,C="..links",D=r[4]>0&&Dt(r);return{c(){e=g("div"),l=g("div"),D&&D.c(),n=M(),t=g("div"),t.innerHTML=s,a=M(),_=g("span"),d=q(r[7]),o=M(),c=g("div"),c.innerHTML=h,b=M(),$=g("span"),$.textContent=C,this.h()},l(p){e=w(p,"DIV",{style:!0});var k=v(e);l=w(k,"DIV",{class:!0});var y=v(l);D&&D.l(y),n=N(y),t=w(y,"DIV",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-1svjzl2"&&(t.innerHTML=s),a=N(y),_=w(y,"SPAN",{class:!0});var O=v(_);d=U(O,r[7]),O.forEach(u),o=N(y),c=w(y,"DIV",{class:!0,"data-svelte-h":!0}),_e(c)!=="svelte-1dmdx1l"&&(c.innerHTML=h),b=N(y),$=w(y,"SPAN",{class:!0,"data-svelte-h":!0}),_e($)!=="svelte-lnm796"&&($.textContent=C),y.forEach(u),k.forEach(u),this.h()},h(){i(t,"class","mb-2"),i(_,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),i(c,"class","mb-2"),i($,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),i(l,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2"),qt(e,"display","flex")},m(p,k){V(p,e,k),f(e,l),D&&D.m(l,null),f(l,n),f(l,t),f(l,a),f(l,_),f(_,d),f(l,o),f(l,c),f(l,b),f(l,$)},p(p,k){p[4]>0?D?D.p(p,k):(D=Dt(p),D.c(),D.m(l,n)):D&&(D.d(1),D=null),k[0]&128&&we(d,p[7])},d(p){p&&u(e),D&&D.d()}}}function Dt(r){let e,l,n;return{c(){e=q("("),l=q(r[4]),n=q(`) of your selected files were too big and are thus dropped from the
					download.`)},l(t){e=U(t,"("),l=U(t,r[4]),n=U(t,`) of your selected files were too big and are thus dropped from the
					download.`)},m(t,s){V(t,e,s),V(t,l,s),V(t,n,s)},p(t,s){s[0]&16&&we(l,t[4])},d(t){t&&(u(e),u(l),u(n))}}}function kl(r){let e,l,n,t="Available Collections",s,a,_,d,o,c,h,b,$,C,D,p,k,y,O,S,se,ne,z,B,A,R,fe,te,P,ie,ke,Le,de,Q,xe,m,I,E,G,j,le,re,W,$e,ve,Ce,Se,He,De,Ie,Pe,Ge,ze,Be,Re,We,Ve,Me,Xe,je,Je,at;_=new Xt({});function jt(T){r[20](T)}let ft={};r[5]!==void 0&&(ft.foldertype=r[5]),o=new St({props:ft}),At.push(()=>Ut(o,"foldertype",jt)),o.$on("foldertype_changed",r[16]),D=new Ft({}),S=new Nt({}),A=new sl({}),ie=new al({});const ot=[ol,fl],ye=[];function ct(T,H){return T[0].length>0?0:1}m=ct(r),I=ye[m]=ot[m](r);function ut(T,H){return T[7].length>0?$l:bl}let Ae=ut(r),he=Ae(r);return re=new Ue({}),Ce=new Vt({}),Ie=new Bt({}),Be=new Mt({}),Me=new it({}),{c(){e=g("div"),l=g("div"),n=g("h1"),n.textContent=t,s=M(),a=g("div"),X(_.$$.fragment),d=M(),X(o.$$.fragment),h=M(),b=g("div"),$=g("div"),C=g("button"),X(D.$$.fragment),p=q("   Expand All"),k=M(),y=g("div"),O=g("button"),X(S.$$.fragment),se=q("   Close All"),ne=M(),z=g("div"),B=g("button"),X(A.$$.fragment),R=q("   Select All"),fe=M(),te=g("div"),P=g("button"),X(ie.$$.fragment),ke=q("   Unselect All"),Le=M(),de=g("div"),Q=g("input"),xe=M(),I.c(),E=M(),he.c(),G=M(),j=g("div"),le=g("div"),X(re.$$.fragment),W=q("  Download file in .[format]"),$e=M(),ve=g("div"),X(Ce.$$.fragment),Se=q("  View file on map"),He=M(),De=g("div"),X(Ie.$$.fragment),Pe=q("  Generate TIFF file and visualize (might fail)"),Ge=M(),ze=g("div"),X(Be.$$.fragment),Re=q("  Generate TIFF file and download (might fail)"),We=M(),Ve=g("div"),X(Me.$$.fragment),Xe=q("  TIFF file not creatable (no download/visualization)"),this.h()},l(T){e=w(T,"DIV",{class:!0});var H=v(e);l=w(H,"DIV",{class:!0});var Ne=v(l);n=w(Ne,"H1",{class:!0,"data-svelte-h":!0}),_e(n)!=="svelte-1fwzelh"&&(n.textContent=t),s=N(Ne),a=w(Ne,"DIV",{class:!0});var Fe=v(a);J(_.$$.fragment,Fe),Fe.forEach(u),Ne.forEach(u),d=N(H),J(o.$$.fragment,H),h=N(H),b=w(H,"DIV",{class:!0});var Ee=v(b);$=w(Ee,"DIV",{});var dt=v($);C=w(dt,"BUTTON",{class:!0});var Ye=v(C);J(D.$$.fragment,Ye),p=U(Ye,"   Expand All"),Ye.forEach(u),dt.forEach(u),k=N(Ee),y=w(Ee,"DIV",{});var ht=v(y);O=w(ht,"BUTTON",{class:!0});var Ke=v(O);J(S.$$.fragment,Ke),se=U(Ke,"   Close All"),Ke.forEach(u),ht.forEach(u),ne=N(Ee),z=w(Ee,"DIV",{});var _t=v(z);B=w(_t,"BUTTON",{class:!0});var Qe=v(B);J(A.$$.fragment,Qe),R=U(Qe,"   Select All"),Qe.forEach(u),_t.forEach(u),fe=N(Ee),te=w(Ee,"DIV",{});var mt=v(te);P=w(mt,"BUTTON",{class:!0});var Ze=v(P);J(ie.$$.fragment,Ze),ke=U(Ze,"   Unselect All"),Ze.forEach(u),mt.forEach(u),Ee.forEach(u),Le=N(H),de=w(H,"DIV",{class:!0});var pt=v(de);Q=w(pt,"INPUT",{class:!0,type:!0,placeholder:!0}),pt.forEach(u),xe=N(H),I.l(H),E=N(H),he.l(H),G=N(H),j=w(H,"DIV",{class:!0});var ge=v(j);le=w(ge,"DIV",{class:!0});var et=v(le);J(re.$$.fragment,et),W=U(et,"  Download file in .[format]"),et.forEach(u),$e=N(ge),ve=w(ge,"DIV",{class:!0});var tt=v(ve);J(Ce.$$.fragment,tt),Se=U(tt,"  View file on map"),tt.forEach(u),He=N(ge),De=w(ge,"DIV",{class:!0});var lt=v(De);J(Ie.$$.fragment,lt),Pe=U(lt,"  Generate TIFF file and visualize (might fail)"),lt.forEach(u),Ge=N(ge),ze=w(ge,"DIV",{class:!0});var nt=v(ze);J(Be.$$.fragment,nt),Re=U(nt,"  Generate TIFF file and download (might fail)"),nt.forEach(u),We=N(ge),Ve=w(ge,"DIV",{class:!0});var rt=v(Ve);J(Me.$$.fragment,rt),Xe=U(rt,"  TIFF file not creatable (no download/visualization)"),rt.forEach(u),ge.forEach(u),H.forEach(u),this.h()},h(){i(n,"class","content-heading"),i(a,"class","flex-center"),i(l,"class","flex"),i(C,"class","w-[120px] h-[30px] flex-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md"),i(O,"class","w-[120px] h-[30px] flex-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md"),i(B,"class","w-[120px] h-[30px] flex-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md"),i(P,"class","w-[120px] h-[30px] flex-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md"),i(b,"class","flex gap-4 mt-2 p-2"),i(Q,"class","input w-full mt-4 p-2"),i(Q,"type","text"),i(Q,"placeholder","Type to filter filenames..."),i(de,"class","p-2"),i(le,"class","flex items-center mb-2"),i(ve,"class","flex items-center mb-2"),i(De,"class","flex items-center mb-2"),i(ze,"class","flex items-center mb-2"),i(Ve,"class","flex items-center"),i(j,"class","p-4"),i(e,"class","content-div")},m(T,H){V(T,e,H),f(e,l),f(l,n),f(l,s),f(l,a),Y(_,a,null),f(e,d),Y(o,e,null),f(e,h),f(e,b),f(b,$),f($,C),Y(D,C,null),f(C,p),f(b,k),f(b,y),f(y,O),Y(S,O,null),f(O,se),f(b,ne),f(b,z),f(z,B),Y(A,B,null),f(B,R),f(b,fe),f(b,te),f(te,P),Y(ie,P,null),f(P,ke),f(e,Le),f(e,de),f(de,Q),Oe(Q,r[6]),f(e,xe),ye[m].m(e,null),f(e,E),he.m(e,null),f(e,G),f(e,j),f(j,le),Y(re,le,null),f(le,W),f(j,$e),f(j,ve),Y(Ce,ve,null),f(ve,Se),f(j,He),f(j,De),Y(Ie,De,null),f(De,Pe),f(j,Ge),f(j,ze),Y(Be,ze,null),f(ze,Re),f(j,We),f(j,Ve),Y(Me,Ve,null),f(Ve,Xe),je=!0,Je||(at=[ae(C,"click",r[21]),ae(O,"click",r[22]),ae(B,"click",r[23]),ae(P,"click",r[24]),ae(Q,"input",r[25])],Je=!0)},p(T,H){const Ne={};!c&&H[0]&32&&(c=!0,Ne.foldertype=T[5],Ot(()=>c=!1)),o.$set(Ne),H[0]&64&&Q.value!==T[6]&&Oe(Q,T[6]);let Fe=m;m=ct(T),m===Fe?ye[m].p(T,H):(ce(),L(ye[Fe],1,1,()=>{ye[Fe]=null}),oe(),I=ye[m],I?I.p(T,H):(I=ye[m]=ot[m](T),I.c()),x(I,1),I.m(e,E)),Ae===(Ae=ut(T))&&he?he.p(T,H):(he.d(1),he=Ae(T),he&&(he.c(),he.m(e,G)))},i(T){je||(x(_.$$.fragment,T),x(o.$$.fragment,T),x(D.$$.fragment,T),x(S.$$.fragment,T),x(A.$$.fragment,T),x(ie.$$.fragment,T),x(I),x(re.$$.fragment,T),x(Ce.$$.fragment,T),x(Ie.$$.fragment,T),x(Be.$$.fragment,T),x(Me.$$.fragment,T),je=!0)},o(T){L(_.$$.fragment,T),L(o.$$.fragment,T),L(D.$$.fragment,T),L(S.$$.fragment,T),L(A.$$.fragment,T),L(ie.$$.fragment,T),L(I),L(re.$$.fragment,T),L(Ce.$$.fragment,T),L(Ie.$$.fragment,T),L(Be.$$.fragment,T),L(Me.$$.fragment,T),je=!1},d(T){T&&u(e),K(_),K(o),K(D),K(S),K(A),K(ie),ye[m].d(),he.d(),K(re),K(Ce),K(Ie),K(Be),K(Me),Je=!1,st(at)}}}const It=r=>r==!0;function xl(r,e,l){let n,t=[],s={},a,_=!1,d=0,o="water_budget";vt(()=>{wt.subscribe(m=>{})}),vt(()=>{S()});let c="";function h(m){l(7,n="")}function b(){for(var m=0;m<a.length;m++)l(2,a[m]=!0,a)}function $(){for(var m=0;m<a.length;m++)l(2,a[m]=!1,a)}function C(){console.log("expand_all_categories");for(const[m,I]of Object.entries(s))l(1,s[m].toggled=!0,s)}function D(){for(const[m,I]of Object.entries(s))l(1,s[m].toggled=!1,s)}async function p(){const m=Te+"/climate/select_temp_urls?type="+o;let I=[];l(4,d=0);for(let W=0;W<a.length;W++)if(a[W]){var E=t[W].filesuffix,G=t[W].filename.split(".").pop(),j=t[W].filename,le=t[W].fileinfo;if(_&&E==".nc"){if(le&&!le.in_size_limit){l(4,d+=1);continue}G="tif"}I.push([j,G])}try{const W=await fetch(m,{method:"POST",body:JSON.stringify(I)});let $e=[];if(!W.ok){var re=await W.text();throw new Error(`${W.status} ${W.statusText}
Reason: ${re}`)}$e=await W.json(),l(7,n=$e["wget-command"])}catch(W){console.log(W)}}async function k(m,I){var E=Te+"/climate/access_tif?type="+o+"&name="+m;const G=await fetch(E,{method:"GET"});if(G.ok)t[I].fileinfo||l(0,t[I].fileinfo={},t),l(0,t[I].fileinfo.tif_cached=!0,t),l(0,t=[...t]);else{t[I].fileinfo||l(0,t[I].fileinfo={},t),l(0,t[I].fileinfo.tif_cached=!1,t),l(0,t[I].fileinfo.tif_convertable=!1,t),l(0,t=[...t]);var j=await G.text();throw new Error(`${G.status} ${G.statusText}
Reason: ${j}`)}}function y(m){wt.set({filename:m,foldertype:o}),Rt("/view_geotiff")}function O(){let m=/(^(.+)_v(\d+)_([^_]+))|^((.+)_day_([^_]+)|^(.+))/;const I=Gt.find(j=>j.key==o);I&&I.header_regex.length>2?m=new RegExp(I.header_regex.replace(/\\/g,"\\")):console.error(`Folder type ${o} not found.`),console.log("filePattern",m),l(1,s={});let E={};E["No Category"]={files:[],toggled:!1};for(let j=0;j<t.length;j++){var G=t[j].filename;const le=G.match(m);if(le&&le.length>=3){const re=le[0];E[re]||(E[re]={files:[],toggled:!1}),E[re].files.push({filename:G,index:j})}else E["No Category"].files.push({filename:G,index:j})}E["No Category"].files.length==0&&delete E["No Category"],l(1,s=E)}async function S(){l(0,t={});try{var m=await Ht(o,!1);l(0,t=m.content),O(),l(2,a=t.map(()=>!1)),console.log(t,`
`,s,`
`,a)}catch{console.log("Refreshing foldercontent failed.")}}function se(m){l(3,_=!_)}function ne(m){l(1,s[m].toggled=!s[m].toggled,s)}const z=m=>m.filename.toLowerCase().includes(c.toLowerCase());function B(m){o=m,l(5,o)}const A=()=>C(),R=()=>D(),fe=()=>b(),te=()=>$();function P(){c=this.value,l(6,c)}const ie=m=>m.filename.toLowerCase().includes(c.toLowerCase()),ke=m=>ne(m);function Le(m){a[m.index]=this.checked,l(2,a)}const de=m=>k(t[m.index].filename,m.index),Q=m=>k(t[m.index].filename,m.index),xe=m=>y(t[m.index].filename);return l(7,n=""),[t,s,a,_,d,o,c,n,h,b,$,C,D,p,k,y,S,se,ne,z,B,A,R,fe,te,P,ie,ke,Le,de,Q,xe]}class Il extends me{constructor(e){super(),pe(this,e,xl,kl,ue,{},null,[-1,-1])}}export{Il as component};
