import{s as W,f as E,l as g,a as w,g as O,h as y,m as v,c as j,d as p,i as b,u as h,n as P,D as R,e as k,E as B,Q as X,R as Y,j as V,S as C,v as L,O as Z}from"../chunks/scheduler.a6588247.js";import{e as S}from"../chunks/each.4266363b.js";import{S as $,i as x}from"../chunks/index.c4ed5061.js";function M(s,l,t){const e=s.slice();return e[7]=l[t][0],e[8]=l[t][1],e}function U(s,l,t){const e=s.slice();return e[11]=l[t],e}function z(s,l,t){const e=s.slice();return e[14]=l[t],e}function A(s){let l,t=S(s[1].hits),e=[];for(let i=0;i<t.length;i+=1)e[i]=F(z(s,t,i));return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=k()},l(i){for(let o=0;o<e.length;o+=1)e[o].l(i);l=k()},m(i,o){for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(i,o);b(i,l,o)},p(i,o){if(o&2){t=S(i[1].hits);let n;for(n=0;n<t.length;n+=1){const f=z(i,t,n);e[n]?e[n].p(f,o):(e[n]=F(f),e[n].c(),e[n].m(l.parentNode,l))}for(;n<e.length;n+=1)e[n].d(1);e.length=t.length}},d(i){i&&p(l),B(e,i)}}}function F(s){let l,t,e=s[14].title+"",i,o,n=s[14].score+"",f,c;return{c(){l=E("li"),t=g("Title: "),i=g(e),o=g(" Score: "),f=g(n),c=w()},l(r){l=O(r,"LI",{});var a=y(l);t=v(a,"Title: "),i=v(a,e),o=v(a," Score: "),f=v(a,n),c=j(a),a.forEach(p)},m(r,a){b(r,l,a),h(l,t),h(l,i),h(l,o),h(l,f),h(l,c)},p(r,a){a&2&&e!==(e=r[14].title+"")&&P(i,e),a&2&&n!==(n=r[14].score+"")&&P(f,n)},d(r){r&&p(l)}}}function G(s){let l,t=S(Object.entries(s[1].facets)),e=[];for(let i=0;i<t.length;i+=1)e[i]=K(M(s,t,i));return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=k()},l(i){for(let o=0;o<e.length;o+=1)e[o].l(i);l=k()},m(i,o){for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(i,o);b(i,l,o)},p(i,o){if(o&7){t=S(Object.entries(i[1].facets));let n;for(n=0;n<t.length;n+=1){const f=M(i,t,n);e[n]?e[n].p(f,o):(e[n]=K(f),e[n].c(),e[n].m(l.parentNode,l))}for(;n<e.length;n+=1)e[n].d(1);e.length=t.length}},d(i){i&&p(l),B(e,i)}}}function H(s){let l,t=s[7]+"",e,i,o,n,f,c=S(s[8]),r=[];for(let a=0;a<c.length;a+=1)r[a]=J(U(s,c,a));return{c(){l=E("b"),e=g(t),i=w(),o=E("br"),n=w();for(let a=0;a<r.length;a+=1)r[a].c();f=k()},l(a){l=O(a,"B",{});var _=y(l);e=v(_,t),_.forEach(p),i=j(a),o=O(a,"BR",{}),n=j(a);for(let u=0;u<r.length;u+=1)r[u].l(a);f=k()},m(a,_){b(a,l,_),h(l,e),b(a,i,_),b(a,o,_),b(a,n,_);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,_);b(a,f,_)},p(a,_){if(_&2&&t!==(t=a[7]+"")&&P(e,t),_&7){c=S(a[8]);let u;for(u=0;u<c.length;u+=1){const N=U(a,c,u);r[u]?r[u].p(N,_):(r[u]=J(N),r[u].c(),r[u].m(f.parentNode,f))}for(;u<r.length;u+=1)r[u].d(1);r.length=c.length}},d(a){a&&(p(l),p(i),p(o),p(n),p(f)),B(r,a)}}}function J(s){let l,t,e,i=!1,o,n=s[11].name+"",f,c,r,a,_=s[11].count+"",u,N,T,D,q,Q;return D=Y(s[4][0]),{c(){l=E("div"),t=E("input"),o=g("   "),f=g(n),c=w(),r=E("em"),a=g("("),u=g(_),N=g(")"),T=w(),this.h()},l(m){l=O(m,"DIV",{class:!0});var d=y(l);t=O(d,"INPUT",{type:!0}),o=v(d,"   "),f=v(d,n),c=j(d),r=O(d,"EM",{});var I=y(r);a=v(I,"("),u=v(I,_),N=v(I,")"),I.forEach(p),T=j(d),d.forEach(p),this.h()},h(){V(t,"type","checkbox"),t.__value=e=s[7]+"%"+s[11].name,C(t,t.__value),V(l,"class","pl-4"),D.p(t)},m(m,d){b(m,l,d),h(l,t),t.checked=~(s[0]||[]).indexOf(t.__value),h(l,o),h(l,f),h(l,c),h(l,r),h(r,a),h(r,u),h(r,N),h(l,T),q||(Q=[L(t,"change",s[3]),L(t,"change",s[2])],q=!0)},p(m,d){d&2&&e!==(e=m[7]+"%"+m[11].name)&&(t.__value=e,C(t,t.__value),i=!0),(i||d&3)&&(t.checked=~(m[0]||[]).indexOf(t.__value)),d&2&&n!==(n=m[11].name+"")&&P(f,n),d&2&&_!==(_=m[11].count+"")&&P(u,_)},d(m){m&&p(l),D.r(),q=!1,Z(Q)}}}function K(s){let l,t=s[7]!="file_id"&&H(s);return{c(){t&&t.c(),l=k()},l(e){t&&t.l(e),l=k()},m(e,i){t&&t.m(e,i),b(e,l,i)},p(e,i){e[7]!="file_id"?t?t.p(e,i):(t=H(e),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(e){e&&p(l),t&&t.d(e)}}}function ee(s){let l,t,e,i,o=s[1].hits&&A(s),n=s[1].facets&&G(s);return{c(){l=E("div"),t=g(s[1]),e=w(),o&&o.c(),i=w(),n&&n.c()},l(f){l=O(f,"DIV",{});var c=y(l);t=v(c,s[1]),e=j(c),o&&o.l(c),i=j(c),n&&n.l(c),c.forEach(p)},m(f,c){b(f,l,c),h(l,t),h(l,e),o&&o.m(l,null),h(l,i),n&&n.m(l,null)},p(f,[c]){c&2&&P(t,f[1]),f[1].hits?o?o.p(f,c):(o=A(f),o.c(),o.m(l,i)):o&&(o.d(1),o=null),f[1].facets?n?n.p(f,c):(n=G(f),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},i:R,o:R,d(f){f&&p(l),o&&o.d(),n&&n.d()}}}function te(s,l,t){let e=[],i=[],o="";n();async function n(){o="";for(let a=0;a<e.length;a++)o=o+"&"+e[a].replace("%","=");let r="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/search_indicator?"+o;try{const a=await fetch(r);console.log(a);let _=[];if(!a.ok)throw new Error(`${a.status} ${a.statusText}`);return _=await a.json(),console.log("result",_),_.hasOwnProperty("hits")&&t(1,i.hits=_.hits,i),_.hasOwnProperty("facets")&&t(1,i.facets=_.facets,i),_.hasOwnProperty("facets_ordered")&&t(1,i.facets_ordered=_.facets_ordered,i),t(1,i),console.log("geo_data",i),_}catch(a){return console.log(a),[]}}const f=[[]];function c(){e=X(f[0],this.__value,this.checked),t(0,e)}return[e,i,n,c,f]}class ae extends ${constructor(l){super(),x(this,l,te,ee,W,{})}}export{ae as component};
