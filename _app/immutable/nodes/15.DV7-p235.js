import{s as W,a as T,q as U,g as V,i as I,n as A,f as m,y as Q,e as k,t as N,c as x,b as L,l as M,d as S,m as E,o as X,h as c,j as P,p as R,z as Y,u as Z}from"../chunks/scheduler.BDHzqLTT.js";import{e as F}from"../chunks/each.BTXDUsd8.js";import{S as ee,i as te}from"../chunks/index.Ds2Lpf0y.js";function B(u,e,t){const r=u.slice();return r[14]=e[t],r[16]=t,r}function le(u){let e,t="<p>Loading...</p>";return{c(){e=k("div"),e.innerHTML=t},l(r){e=x(r,"DIV",{"data-svelte-h":!0}),M(e)!=="svelte-1vs96ti"&&(e.innerHTML=t)},m(r,f){I(r,e,f)},p:A,d(r){r&&m(e)}}}function se(u){let e,t,r="Filename",f,i,o="Filesize",s,d,p="Last modified",_,a,v="Download Link",D,w,h,C="Submit",y,H,j=F(Object.values(u[0].content)),g=[];for(let b=0;b<j.length;b+=1)g[b]=G(B(u,j,b));return{c(){e=k("div"),t=k("div"),t.textContent=r,f=T(),i=k("div"),i.textContent=o,s=T(),d=k("div"),d.textContent=p,_=T(),a=k("div"),a.textContent=v,D=T();for(let b=0;b<g.length;b+=1)g[b].c();w=T(),h=k("button"),h.textContent=C,this.h()},l(b){e=x(b,"DIV",{class:!0});var l=L(e);t=x(l,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-19725up"&&(t.textContent=r),f=V(l),i=x(l,"DIV",{"data-svelte-h":!0}),M(i)!=="svelte-1l0qgfa"&&(i.textContent=o),s=V(l),d=x(l,"DIV",{"data-svelte-h":!0}),M(d)!=="svelte-yzwk3m"&&(d.textContent=p),_=V(l),a=x(l,"DIV",{"data-svelte-h":!0}),M(a)!=="svelte-yy6sl9"&&(a.textContent=v),D=V(l);for(let n=0;n<g.length;n+=1)g[n].l(l);w=V(l),h=x(l,"BUTTON",{class:!0,"data-svelte-h":!0}),M(h)!=="svelte-1wifjay"&&(h.textContent=C),l.forEach(m),this.h()},h(){E(t,"class","col-span-6"),E(h,"class","btn variant-ghost-primary m-4"),E(e,"class","grid grid-cols-9")},m(b,l){I(b,e,l),c(e,t),c(e,f),c(e,i),c(e,s),c(e,d),c(e,_),c(e,a),c(e,D);for(let n=0;n<g.length;n+=1)g[n]&&g[n].m(e,null);c(e,w),c(e,h),y||(H=R(h,"click",Y(u[3])),y=!0)},p(b,l){if(l&5){j=F(Object.values(b[0].content));let n;for(n=0;n<j.length;n+=1){const O=B(b,j,n);g[n]?g[n].p(O,l):(g[n]=G(O),g[n].c(),g[n].m(e,w))}for(;n<g.length;n+=1)g[n].d(1);g.length=j.length}},d(b){b&&m(e),Z(g,b),y=!1,H()}}}function G(u){let e,t,r,f=u[14][0]+"",i,o,s,d=u[14][1]+"",p,_,a,v=u[14][2]+"",D,w,h,C,y,H,j,g,b;return{c(){e=k("div"),t=k("input"),r=N(`
				 `),i=N(f),o=T(),s=k("div"),p=N(d),_=T(),a=k("div"),D=N(v),w=T(),h=k("div"),C=N(" "),y=k("a"),H=N("download"),this.h()},l(l){e=x(l,"DIV",{class:!0});var n=L(e);t=x(n,"INPUT",{type:!0,id:!0}),r=S(n,`
				 `),i=S(n,f),n.forEach(m),o=V(l),s=x(l,"DIV",{});var O=L(s);p=S(O,d),O.forEach(m),_=V(l),a=x(l,"DIV",{});var $=L(a);D=S($,v),$.forEach(m),w=V(l),h=x(l,"DIV",{});var q=L(h);C=S(q," "),y=x(q,"A",{href:!0,class:!0});var z=L(y);H=S(z,"download"),z.forEach(m),q.forEach(m),this.h()},h(){E(t,"type","checkbox"),t.value=u[16],E(t,"id","checkbox_"+u[16]),E(e,"class","col-span-6"),E(y,"href",j="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_file?name="+u[14][0]),E(y,"class","underline")},m(l,n){I(l,e,n),c(e,t),c(e,r),c(e,i),I(l,o,n),I(l,s,n),c(s,p),I(l,_,n),I(l,a,n),c(a,D),I(l,w,n),I(l,h,n),c(h,C),c(h,y),c(y,H),g||(b=R(t,"change",u[2]),g=!0)},p(l,n){n&1&&f!==(f=l[14][0]+"")&&P(i,f),n&1&&d!==(d=l[14][1]+"")&&P(p,d),n&1&&v!==(v=l[14][2]+"")&&P(D,v),n&1&&j!==(j="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_file?name="+l[14][0])&&E(y,"href",j)},d(l){l&&(m(e),m(o),m(s),m(_),m(a),m(w),m(h)),g=!1,b()}}}function J(u){let e,t,r,f="<span>To download all objects using Wget (this is just a visual showcase and can be ignored):</span>",i,o,s,d,p,_="<span>Additional arguments:</span>",a,v,D;return{c(){e=k("div"),t=k("div"),r=k("div"),r.innerHTML=f,i=T(),o=k("span"),s=N(u[1]),d=T(),p=k("div"),p.innerHTML=_,a=T(),v=k("span"),D=N(K),this.h()},l(w){e=x(w,"DIV",{style:!0});var h=L(e);t=x(h,"DIV",{class:!0});var C=L(t);r=x(C,"DIV",{class:!0,"data-svelte-h":!0}),M(r)!=="svelte-n58jpg"&&(r.innerHTML=f),i=V(C),o=x(C,"SPAN",{class:!0});var y=L(o);s=S(y,u[1]),y.forEach(m),d=V(C),p=x(C,"DIV",{class:!0,"data-svelte-h":!0}),M(p)!=="svelte-f7330h"&&(p.innerHTML=_),a=V(C),v=x(C,"SPAN",{class:!0});var H=L(v);D=S(H,K),H.forEach(m),C.forEach(m),h.forEach(m),this.h()},h(){E(r,"class","mb-2"),E(o,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),E(p,"class","mb-1 mt-2 text-sm"),E(v,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 text-sm [word-spacing:4px]"),E(t,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2"),X(e,"display","flex")},m(w,h){I(w,e,h),c(e,t),c(t,r),c(t,i),c(t,o),c(o,s),c(t,d),c(t,p),c(t,a),c(t,v),c(v,D)},p(w,h){h&2&&P(s,w[1])},d(w){w&&m(e)}}}function ne(u){let e,t;function r(s,d){return s[0]!=null?se:le}let f=r(u),i=f(u),o=u[1].length>0&&J(u);return{c(){i.c(),e=T(),o&&o.c(),t=U()},l(s){i.l(s),e=V(s),o&&o.l(s),t=U()},m(s,d){i.m(s,d),I(s,e,d),o&&o.m(s,d),I(s,t,d)},p(s,[d]){f===(f=r(s))&&i?i.p(s,d):(i.d(1),i=f(s),i&&(i.c(),i.m(e.parentNode,e))),s[1].length>0?o?o.p(s,d):(o=J(s),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},i:A,o:A,d(s){s&&(m(e),m(t)),i.d(s),o&&o.d(s)}}}let K="-r -H -N --cut-dirs=2";function ae(u,e,t){let r,f,i=[];Q(()=>{o()});async function o(){const p="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_content";try{const _=await fetch(p,{method:"GET"});let a=[];if(!_.ok)throw new Error(`${_.status} ${_.statusText}`);a=await _.json(),t(0,f=a);for(let v=0;v<f.length;v++)i.push(!1);f.content.sort(),console.log("folder_data",f)}catch(_){console.log(_)}}function s(p){let _=parseInt(p.srcElement.value),a=p.srcElement.checked;i[_]=a}async function d(){const p="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/select_for_wget";let _=[];for(let a=0;a<i.length;a++)i[a]&&_.push(f.content[a][0]);console.log("CHECKED: ",_);try{const a=await fetch(p,{method:"POST",body:JSON.stringify(_)});let v=[];if(!a.ok)throw new Error(`${a.status} ${a.statusText}`);v=await a.json(),console.log("RESULT: ",v),t(1,r=v["wget-command"])}catch(a){console.log(a)}}return t(1,r=""),[f,r,s,d]}class ce extends ee{constructor(e){super(),te(this,e,ae,ne,W,{})}}export{ce as component};
