import{s as Z,e as y,t as B,a as N,q,c as w,b as H,d as M,f as u,g as x,m as k,i as j,h as c,x as G,p as P,n as z,r as $,y as ee,l as O,o as te,j as W,z as le,u as se}from"../chunks/scheduler.DbvQfQVF.js";import{e as J}from"../chunks/each.pp9rRlcr.js";import{S as ne,i as ae}from"../chunks/index.DGby9ZBm.js";function K(d,t,e){const s=d.slice();return s[21]=t[e],s[23]=e,s}function oe(d){let t,e="<p>Loading...</p>";return{c(){t=y("div"),t.innerHTML=e},l(s){t=w(s,"DIV",{"data-svelte-h":!0}),O(t)!=="svelte-1vs96ti"&&(t.innerHTML=e)},m(s,r){j(s,t,r)},p:z,d(s){s&&u(t)}}}function ie(d){let t,e,s="Filename",r,_,v="Filesize",C,b,E="Last modified",D,p,V="Download Link",T,g,f,L="Generate Wget link for download",h,m,i=J(Object.values(d[0].content)),a=[];for(let l=0;l<i.length;l+=1)a[l]=Q(K(d,i,l));return{c(){t=y("div"),e=y("div"),e.textContent=s,r=N(),_=y("div"),_.textContent=v,C=N(),b=y("div"),b.textContent=E,D=N(),p=y("div"),p.textContent=V,T=N();for(let l=0;l<a.length;l+=1)a[l].c();g=N(),f=y("button"),f.textContent=L,this.h()},l(l){t=w(l,"DIV",{class:!0});var o=H(t);e=w(o,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-32zc08"&&(e.textContent=s),r=x(o),_=w(o,"DIV",{"data-svelte-h":!0}),O(_)!=="svelte-1er2eqp"&&(_.textContent=v),C=x(o),b=w(o,"DIV",{"data-svelte-h":!0}),O(b)!=="svelte-8z07u1"&&(b.textContent=E),D=x(o),p=w(o,"DIV",{"data-svelte-h":!0}),O(p)!=="svelte-wyo69u"&&(p.textContent=V),T=x(o);for(let n=0;n<a.length;n+=1)a[n].l(o);o.forEach(u),g=x(l),f=w(l,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(f)!=="svelte-1qte3xu"&&(f.textContent=L),this.h()},h(){k(e,"class","col-span-6"),k(t,"class","grid grid-cols-9"),k(f,"type","button"),k(f,"class","btn variant-ghost-primary")},m(l,o){j(l,t,o),c(t,e),c(t,r),c(t,_),c(t,C),c(t,b),c(t,D),c(t,p),c(t,T);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(t,null);j(l,g,o),j(l,f,o),h||(m=P(f,"click",le(d[7])),h=!0)},p(l,o){if(o&89){i=J(Object.values(l[0].content));let n;for(n=0;n<i.length;n+=1){const I=K(l,i,n);a[n]?a[n].p(I,o):(a[n]=Q(I),a[n].c(),a[n].m(t,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=i.length}},d(l){l&&(u(t),u(g),u(f)),se(a,l),h=!1,m()}}}function R(d){let t,e,s,r=d[21][0]+"",_,v,C,b=d[21][1]+"",E,D,p,V=d[21][2]+"",T,g,f,L,h,m,i,a,l,o;return{c(){t=y("div"),e=y("input"),s=B(`
					 `),_=B(r),v=N(),C=y("div"),E=B(b),D=N(),p=y("div"),T=B(V),g=N(),f=y("div"),L=B(" "),h=y("a"),m=B("download"),a=N(),this.h()},l(n){t=w(n,"DIV",{class:!0});var I=H(t);e=w(I,"INPUT",{type:!0,id:!0}),s=M(I,`
					 `),_=M(I,r),I.forEach(u),v=x(n),C=w(n,"DIV",{});var S=H(C);E=M(S,b),S.forEach(u),D=x(n),p=w(n,"DIV",{});var A=H(p);T=M(A,V),A.forEach(u),g=x(n),f=w(n,"DIV",{});var U=H(f);L=M(U," "),h=w(U,"A",{href:!0,class:!0});var F=H(h);m=M(F,"download"),F.forEach(u),a=x(U),U.forEach(u),this.h()},h(){k(e,"type","checkbox"),e.value=d[23],k(e,"id","checkbox_"+d[23]),k(t,"class","col-span-6"),k(h,"href",i="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_file?name="+d[21][0]+"&type="+d[3]),k(h,"class","underline")},m(n,I){j(n,t,I),c(t,e),c(t,s),c(t,_),j(n,v,I),j(n,C,I),c(C,E),j(n,D,I),j(n,p,I),c(p,T),j(n,g,I),j(n,f,I),c(f,L),c(f,h),c(h,m),c(f,a),l||(o=P(e,"change",d[6]),l=!0)},p(n,I){I&1&&r!==(r=n[21][0]+"")&&W(_,r),I&1&&b!==(b=n[21][1]+"")&&W(E,b),I&1&&V!==(V=n[21][2]+"")&&W(T,V),I&9&&i!==(i="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_file?name="+n[21][0]+"&type="+n[3])&&k(h,"href",i)},d(n){n&&(u(t),u(v),u(C),u(D),u(p),u(g),u(f)),l=!1,o()}}}function Q(d){let t=d[21][0].toLowerCase().includes(d[4].toLowerCase()),e,s=t&&R(d);return{c(){s&&s.c(),e=q()},l(r){s&&s.l(r),e=q()},m(r,_){s&&s.m(r,_),j(r,e,_)},p(r,_){_&17&&(t=r[21][0].toLowerCase().includes(r[4].toLowerCase())),t?s?s.p(r,_):(s=R(r),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(r){r&&u(e),s&&s.d(r)}}}function X(d){let t,e,s,r="<span>To download all objects using Wget:</span>",_,v,C,b,E,D="<span>Additional arguments:</span>",p,V,T;return{c(){t=y("div"),e=y("div"),s=y("div"),s.innerHTML=r,_=N(),v=y("span"),C=B(d[5]),b=N(),E=y("div"),E.innerHTML=D,p=N(),V=y("span"),T=B(Y),this.h()},l(g){t=w(g,"DIV",{style:!0});var f=H(t);e=w(f,"DIV",{class:!0});var L=H(e);s=w(L,"DIV",{class:!0,"data-svelte-h":!0}),O(s)!=="svelte-1lrbjg3"&&(s.innerHTML=r),_=x(L),v=w(L,"SPAN",{class:!0});var h=H(v);C=M(h,d[5]),h.forEach(u),b=x(L),E=w(L,"DIV",{class:!0,"data-svelte-h":!0}),O(E)!=="svelte-f7330h"&&(E.innerHTML=D),p=x(L),V=w(L,"SPAN",{class:!0});var m=H(V);T=M(m,Y),m.forEach(u),L.forEach(u),f.forEach(u),this.h()},h(){k(s,"class","mb-2"),k(v,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),k(E,"class","mb-1 mt-2 text-sm"),k(V,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 text-sm [word-spacing:4px]"),k(e,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2"),te(t,"display","flex")},m(g,f){j(g,t,f),c(t,e),c(e,s),c(e,_),c(e,v),c(v,C),c(e,b),c(e,E),c(e,p),c(e,V),c(V,T)},p(g,f){f&32&&W(C,g[5])},d(g){g&&u(t)}}}function re(d){let t,e,s,r,_,v,C,b,E,D,p,V,T,g,f,L;function h(l,o){return l[0]!=null?ie:oe}let m=h(d),i=m(d),a=d[5].length>0&&X(d);return{c(){t=y("div"),e=y("button"),s=B("Water Budget"),_=N(),v=y("button"),C=B("Water Budget bias adjusted"),E=N(),D=y("div"),p=y("input"),V=N(),i.c(),T=N(),a&&a.c(),g=q(),this.h()},l(l){t=w(l,"DIV",{class:!0});var o=H(t);e=w(o,"BUTTON",{type:!0,class:!0});var n=H(e);s=M(n,"Water Budget"),n.forEach(u),_=x(o),v=w(o,"BUTTON",{type:!0,class:!0});var I=H(v);C=M(I,"Water Budget bias adjusted"),I.forEach(u),o.forEach(u),E=x(l),D=w(l,"DIV",{});var S=H(D);p=w(S,"INPUT",{class:!0,type:!0,placeholder:!0}),S.forEach(u),V=x(l),i.l(l),T=x(l),a&&a.l(l),g=q(),this.h()},h(){k(e,"type","button"),k(e,"class",r="btn variant-filled-tertiary "+d[1]),k(v,"type","button"),k(v,"class",b="btn variant-filled-tertiary "+d[2]),k(t,"class","btn-group variant-ghost-primary [&>*+*]:border-red-500 h-6"),k(p,"class","input w-full mt-4"),k(p,"type","text"),k(p,"placeholder","Filter filenames...")},m(l,o){j(l,t,o),c(t,e),c(e,s),c(t,_),c(t,v),c(v,C),j(l,E,o),j(l,D,o),c(D,p),G(p,d[4]),j(l,V,o),i.m(l,o),j(l,T,o),a&&a.m(l,o),j(l,g,o),f||(L=[P(e,"click",d[9]),P(v,"click",d[10]),P(p,"input",d[11])],f=!0)},p(l,[o]){o&2&&r!==(r="btn variant-filled-tertiary "+l[1])&&k(e,"class",r),o&4&&b!==(b="btn variant-filled-tertiary "+l[2])&&k(v,"class",b),o&16&&p.value!==l[4]&&G(p,l[4]),m===(m=h(l))&&i?i.p(l,o):(i.d(1),i=m(l),i&&(i.c(),i.m(T.parentNode,T))),l[5].length>0?a?a.p(l,o):(a=X(l),a.c(),a.m(g.parentNode,g)):a&&(a.d(1),a=null)},i:z,o:z,d(l){l&&(u(t),u(E),u(D),u(V),u(T),u(g)),i.d(l),a&&a.d(l),f=!1,$(L)}}}let Y="-r -H -N --cut-dirs=2";function de(d,t,e){let s,r,_=[],v="font-bold",C="",b="water_budget";ee(()=>{E()});async function E(){const h="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/get_content?type="+b;try{const m=await fetch(h,{method:"GET"});let i=[];if(!m.ok)throw new Error(`${m.status} ${m.statusText}`);i=await m.json(),e(0,r=i);for(let a=0;a<r.length;a++)_.push(!1);r.content.sort(),console.log("folder_data",r)}catch(m){console.log(m)}}let D="";function p(h){let m=parseInt(h.srcElement.value),i=h.srcElement.checked;_[m]=i}async function V(){const h="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/select_for_wget?type="+b;let m=[];for(let i=0;i<_.length;i++)_[i]&&m.push(r.content[i][0]);console.log("CHECKED: ",m);try{const i=await fetch(h,{method:"POST",body:JSON.stringify(m)});let a=[];if(!i.ok)throw new Error(`${i.status} ${i.statusText}`);a=await i.json(),console.log("RESULT: ",a),e(5,s=a["wget-command"])}catch(i){console.log(i)}}function T(h){h=="water_budget"?(e(2,C=""),e(1,v="font-bold"),e(3,b=h)):h=="water_budget_bias"&&(e(1,v=""),e(2,C="font-bold"),e(3,b=h)),E()}const g=()=>T("water_budget"),f=()=>T("water_budget_bias");function L(){D=this.value,e(4,D)}return e(5,s=""),[r,v,C,b,D,s,p,V,T,g,f,L]}class _e extends ne{constructor(t){super(),ae(this,t,de,re,Z,{})}}export{_e as component};
