import{s as de,n as Y,d as h,r as K,l as L,i as b,b as p,q as H,u as pe,c as y,e as V,m as ve,g as P,f as q,h as I,j as B,t as S,o as A,v as U,w as Z,a as R,x as he,y as J}from"../chunks/B37NePj7.js";import{e as M}from"../chunks/D6YF6ztN.js";import{S as me,i as be}from"../chunks/B835D2GP.js";function $(o,l,e){const t=o.slice();return t[13]=l[e],t}function x(o,l,e){const t=o.slice();return t[16]=l[e][0],t[17]=l[e][1],t}function ee(o,l,e){const t=o.slice();return t[20]=l[e],t}function te(o,l,e){const t=o.slice();return t[16]=l[e][0],t[17]=l[e][1],t}function le(o,l,e){const t=o.slice();return t[20]=l[e],t}function ie(o){let l,e=M(Object.entries(o[1].facets)),t=[];for(let i=0;i<e.length;i+=1)t[i]=oe(te(o,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=U()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);l=U()},m(i,f){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(i,f);b(i,l,f)},p(i,f){if(f&35){e=M(Object.entries(i[1].facets));let n;for(n=0;n<e.length;n+=1){const s=te(i,e,n);t[n]?t[n].p(s,f):(t[n]=oe(s),t[n].c(),t[n].m(l.parentNode,l))}for(;n<t.length;n+=1)t[n].d(1);t.length=e.length}},d(i){i&&h(l),A(t,i)}}}function ne(o){let l,e=o[16]+"",t,i,f,n,s,v=M(o[17]),r=[];for(let a=0;a<v.length;a+=1)r[a]=ae(le(o,v,a));return{c(){l=I("b"),t=S(e),i=B(),f=I("br"),n=B();for(let a=0;a<r.length;a+=1)r[a].c();s=U()},l(a){l=y(a,"B",{});var _=V(l);t=q(_,e),_.forEach(h),i=P(a),f=y(a,"BR",{}),n=P(a);for(let c=0;c<r.length;c+=1)r[c].l(a);s=U()},m(a,_){b(a,l,_),p(l,t),b(a,i,_),b(a,f,_),b(a,n,_);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(a,_);b(a,s,_)},p(a,_){if(_&2&&e!==(e=a[16]+"")&&R(t,e),_&35){v=M(a[17]);let c;for(c=0;c<v.length;c+=1){const g=le(a,v,c);r[c]?r[c].p(g,_):(r[c]=ae(g),r[c].c(),r[c].m(s.parentNode,s))}for(;c<r.length;c+=1)r[c].d(1);r.length=v.length}},d(a){a&&(h(l),h(i),h(f),h(n),h(s)),A(r,a)}}}function ae(o){let l,e,t,i=!1,f,n=o[20].name+"",s,v,r,a,_=o[20].count+"",c,g,k,w,d,u;return w=he(o[9][0]),{c(){l=I("div"),e=I("input"),f=S(`
							  `),s=S(n),v=B(),r=I("em"),a=S("("),c=S(_),g=S(")"),k=B(),this.h()},l(E){l=y(E,"DIV",{class:!0});var O=V(l);e=y(O,"INPUT",{type:!0}),f=q(O,`
							  `),s=q(O,n),v=P(O),r=y(O,"EM",{});var C=V(r);a=q(C,"("),c=q(C,_),g=q(C,")"),C.forEach(h),k=P(O),O.forEach(h),this.h()},h(){L(e,"type","checkbox"),e.__value=t=o[16]+"%"+o[20].name,J(e,e.__value),L(l,"class","pl-4"),w.p(e)},m(E,O){b(E,l,O),p(l,e),e.checked=~(o[0]||[]).indexOf(e.__value),p(l,f),p(l,s),p(l,v),p(l,r),p(r,a),p(r,c),p(r,g),p(l,k),d||(u=[H(e,"change",o[8]),H(e,"change",o[5])],d=!0)},p(E,O){O&2&&t!==(t=E[16]+"%"+E[20].name)&&(e.__value=t,J(e,e.__value),i=!0),(i||O&3)&&(e.checked=~(E[0]||[]).indexOf(e.__value)),O&2&&n!==(n=E[20].name+"")&&R(s,n),O&2&&_!==(_=E[20].count+"")&&R(c,_)},d(E){E&&h(l),w.r(),d=!1,K(u)}}}function oe(o){let l,e=o[16]!="file_id"&&o[16]!="title"&&ne(o);return{c(){e&&e.c(),l=U()},l(t){e&&e.l(t),l=U()},m(t,i){e&&e.m(t,i),b(t,l,i)},p(t,i){t[16]!="file_id"&&t[16]!="title"?e?e.p(t,i):(e=ne(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){t&&h(l),e&&e.d(t)}}}function fe(o){let l,e=M(Object.entries(o[1].facets)),t=[];for(let i=0;i<e.length;i+=1)t[i]=se(x(o,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=U()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);l=U()},m(i,f){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(i,f);b(i,l,f)},p(i,f){if(f&35){e=M(Object.entries(i[1].facets));let n;for(n=0;n<e.length;n+=1){const s=x(i,e,n);t[n]?t[n].p(s,f):(t[n]=se(s),t[n].c(),t[n].m(l.parentNode,l))}for(;n<t.length;n+=1)t[n].d(1);t.length=e.length}},d(i){i&&h(l),A(t,i)}}}function re(o){let l,e=o[16]+"",t,i,f,n,s,v=M(o[17]),r=[];for(let a=0;a<v.length;a+=1)r[a]=ce(ee(o,v,a));return{c(){l=I("b"),t=S(e),i=B(),f=I("br"),n=B();for(let a=0;a<r.length;a+=1)r[a].c();s=U()},l(a){l=y(a,"B",{});var _=V(l);t=q(_,e),_.forEach(h),i=P(a),f=y(a,"BR",{}),n=P(a);for(let c=0;c<r.length;c+=1)r[c].l(a);s=U()},m(a,_){b(a,l,_),p(l,t),b(a,i,_),b(a,f,_),b(a,n,_);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(a,_);b(a,s,_)},p(a,_){if(_&2&&e!==(e=a[16]+"")&&R(t,e),_&35){v=M(a[17]);let c;for(c=0;c<v.length;c+=1){const g=ee(a,v,c);r[c]?r[c].p(g,_):(r[c]=ce(g),r[c].c(),r[c].m(s.parentNode,s))}for(;c<r.length;c+=1)r[c].d(1);r.length=v.length}},d(a){a&&(h(l),h(i),h(f),h(n),h(s)),A(r,a)}}}function ce(o){let l,e,t,i=!1,f,n=o[20].name+"",s,v,r,a,_,c,g,k,w;return g=he(o[9][0]),{c(){l=I("div"),e=I("input"),f=S(`
							  `),s=S(n),v=B(),r=I("a"),a=S("Download"),c=B(),this.h()},l(d){l=y(d,"DIV",{class:!0});var u=V(l);e=y(u,"INPUT",{type:!0}),f=q(u,`
							  `),s=q(u,n),v=P(u),r=y(u,"A",{href:!0});var E=V(r);a=q(E,"Download"),E.forEach(h),c=P(u),u.forEach(h),this.h()},h(){e.disabled=!0,L(e,"type","checkbox"),e.__value=t=o[16]+"%"+o[20].name,J(e,e.__value),L(r,"href",_="https://leutra.geogr.uni-jena.de/tippec_data/"+o[20].name.split("/")),L(l,"class","pl-4"),g.p(e)},m(d,u){b(d,l,u),p(l,e),e.checked=~(o[0]||[]).indexOf(e.__value),p(l,f),p(l,s),p(l,v),p(l,r),p(r,a),p(l,c),k||(w=[H(e,"change",o[10]),H(e,"change",o[5])],k=!0)},p(d,u){u&2&&t!==(t=d[16]+"%"+d[20].name)&&(e.__value=t,J(e,e.__value),i=!0),(i||u&3)&&(e.checked=~(d[0]||[]).indexOf(e.__value)),u&2&&n!==(n=d[20].name+"")&&R(s,n),u&2&&_!==(_="https://leutra.geogr.uni-jena.de/tippec_data/"+d[20].name.split("/"))&&L(r,"href",_)},d(d){d&&h(l),g.r(),k=!1,K(w)}}}function se(o){let l,e=o[16]=="title"&&re(o);return{c(){e&&e.c(),l=U()},l(t){e&&e.l(t),l=U()},m(t,i){e&&e.m(t,i),b(t,l,i)},p(t,i){t[16]=="title"?e?e.p(t,i):(e=re(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){t&&h(l),e&&e.d(t)}}}function _e(o){let l,e=M(o[1].hits),t=[];for(let i=0;i<e.length;i+=1)t[i]=ue($(o,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=U()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);l=U()},m(i,f){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(i,f);b(i,l,f)},p(i,f){if(f&2){e=M(i[1].hits);let n;for(n=0;n<e.length;n+=1){const s=$(i,e,n);t[n]?t[n].p(s,f):(t[n]=ue(s),t[n].c(),t[n].m(l.parentNode,l))}for(;n<t.length;n+=1)t[n].d(1);t.length=e.length}},d(i){i&&h(l),A(t,i)}}}function ue(o){let l,e,t=o[13].title+"",i,f;return{c(){l=I("li"),e=S("Title: "),i=S(t),f=B()},l(n){l=y(n,"LI",{});var s=V(l);e=q(s,"Title: "),i=q(s,t),f=P(s),s.forEach(h)},m(n,s){b(n,l,s),p(l,e),p(l,i),p(l,f)},p(n,s){s&2&&t!==(t=n[13].title+"")&&R(i,t)},d(n){n&&h(l)}}}function ge(o){let l,e,t="<h1>Test Search Page</h1>",i,f,n,s,v,r,a,_,c,g,k,w,d,u,E,O,C,T=o[1].facets&&ie(o),N=o[1].facets&&fe(o),j=o[1].hits&&_e(o);return{c(){l=I("div"),e=I("div"),e.innerHTML=t,i=B(),f=I("div"),n=I("button"),s=S("Search"),r=B(),a=I("button"),_=S("Indicator"),g=B(),k=I("div"),w=I("div"),T&&T.c(),d=B(),u=I("div"),N&&N.c(),E=B(),j&&j.c(),this.h()},l(m){l=y(m,"DIV",{});var D=V(l);e=y(D,"DIV",{"data-svelte-h":!0}),ve(e)!=="svelte-1gym4mq"&&(e.innerHTML=t),i=P(D),f=y(D,"DIV",{class:!0});var z=V(f);n=y(z,"BUTTON",{type:!0,class:!0});var Q=V(n);s=q(Q,"Search"),Q.forEach(h),r=P(z),a=y(z,"BUTTON",{type:!0,class:!0});var W=V(a);_=q(W,"Indicator"),W.forEach(h),z.forEach(h),D.forEach(h),g=P(m),k=y(m,"DIV",{style:!0});var F=V(k);w=y(F,"DIV",{});var X=V(w);T&&T.l(X),X.forEach(h),d=P(F),u=y(F,"DIV",{});var G=V(u);N&&N.l(G),E=P(G),j&&j.l(G),G.forEach(h),F.forEach(h),this.h()},h(){L(n,"type","button"),L(n,"class",v="btn variant-filled-tertiary "+o[2]),L(a,"type","button"),L(a,"class",c="btn variant-filled-tertiary "+o[3]),L(f,"class","btn-group variant-ghost-primary [&>*+*]:border-red-500 h-6"),pe(k,"display","flex")},m(m,D){b(m,l,D),p(l,e),p(l,i),p(l,f),p(f,n),p(n,s),p(f,r),p(f,a),p(a,_),b(m,g,D),b(m,k,D),p(k,w),T&&T.m(w,null),p(k,d),p(k,u),N&&N.m(u,null),p(u,E),j&&j.m(u,null),O||(C=[H(n,"click",o[6]),H(a,"click",o[7])],O=!0)},p(m,[D]){D&4&&v!==(v="btn variant-filled-tertiary "+m[2])&&L(n,"class",v),D&8&&c!==(c="btn variant-filled-tertiary "+m[3])&&L(a,"class",c),m[1].facets?T?T.p(m,D):(T=ie(m),T.c(),T.m(w,null)):T&&(T.d(1),T=null),m[1].facets?N?N.p(m,D):(N=fe(m),N.c(),N.m(u,E)):N&&(N.d(1),N=null),m[1].hits?j?j.p(m,D):(j=_e(m),j.c(),j.m(u,null)):j&&(j.d(1),j=null)},i:Y,o:Y,d(m){m&&(h(l),h(g),h(k)),T&&T.d(),N&&N.d(),j&&j.d(),O=!1,K(C)}}}function ke(o,l,e){let t=[],i=[],f="",n="font-bold",s="",v="";r("collection"),a();function r(d){d=="collection"?(v="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/search_collection?",e(3,s=""),e(2,n="font-bold"),e(0,t=[]),a()):d=="indicator"&&(v="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/search_indicator?",e(2,n=""),e(3,s="font-bold"),e(0,t=[]),a())}async function a(){f="";for(let d=0;d<t.length;d++)f=f+"&"+t[d].replace("%","=");try{const d=await fetch(v+f);console.log(d);let u=[];if(!d.ok)throw new Error(`${d.status} ${d.statusText}`);return u=await d.json(),console.log("result",u),u.hasOwnProperty("hits")&&e(1,i.hits=u.hits,i),u.hasOwnProperty("facets")&&e(1,i.facets=u.facets,i),u.hasOwnProperty("facets_ordered")&&e(1,i.facets_ordered=u.facets_ordered,i),e(1,i),console.log("geo_data",i),u}catch(d){return console.log(d),[]}}const _=[[]],c=()=>r("collection"),g=()=>r("indicator");function k(){t=Z(_[0],this.__value,this.checked),e(0,t)}function w(){t=Z(_[0],this.__value,this.checked),e(0,t)}return[t,i,n,s,r,a,c,g,k,_,w]}class Oe extends me{constructor(l){super(),be(this,l,ke,ge,de,{})}}export{Oe as component};
