import{s as Je,n as ee,d as _,i as E,b as m,l as u,G as Oe,e as y,H as je,c as b,h as g,F as Se,I as Pe,g as A,v as de,j as O,m as ke,f as ne,t as ie,u as nt,r as bt,y as We,q as oe,z as gt,o as lt,x as ml,a as Be,Z as pl,M as vl}from"./B37NePj7.js";import{S as Ye,i as Ze,d as fe,t as V,a as T,m as ue,c as ce,b as _e,f as ze,g as Ee,e as Te}from"./B835D2GP.js";import{e as Ve}from"./D6YF6ztN.js";import{A as $e}from"./BO6XNHuD.js";import{T as bl,z as gl,_ as wl}from"./BBG1gXoa.js";import{F as kl,t as yl,L as $l,f as El}from"./DQL43UPK.js";import"./CBF9MC4y.js";import{T as Tl,a as ft,D as Re,P as pt,C as Cl,M as Dl,b as Il}from"./Cl5EdBGo.js";import"./CdvI_gxk.js";const Ll=!0,Nl=Ll;function Vl(n){let e,t;return{c(){e=je("svg"),t=je("path"),this.h()},l(l){e=Oe(l,"svg",{class:!0,xmlns:!0,viewBox:!0,height:!0,width:!0});var i=y(e);t=Oe(i,"path",{d:!0}),y(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32l0 96L0 384c0 35.3 28.7 64 64 64l192 0 0-64L64 384l0-224 192 0 0-64L64 96l0-64zM288 192c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4L409.4 9.4c-6-6-14.1-9.4-22.6-9.4L320 0c-17.7 0-32 14.3-32 32l0 160zm0 288c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4l-13.3-13.3c-6-6-14.1-9.4-22.6-9.4L320 288c-17.7 0-32 14.3-32 32l0 160z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 576 512"),u(e,"height","40px"),u(e,"width","36px")},m(l,i){E(l,e,i),m(e,t)},p:ee,i:ee,o:ee,d(l){l&&_(e)}}}class Bl extends Ye{constructor(e){super(),Ze(this,e,null,Vl,Je,{})}}function Ul(n){let e,t;return{c(){e=je("svg"),t=je("path"),this.h()},l(l){e=Oe(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=Oe(i,"path",{d:!0}),y(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5l0 39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9l0 39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7l0-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1L257 256c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 512 512"),u(e,"width","24")},m(l,i){E(l,e,i),m(e,t)},p:ee,i:ee,o:ee,d(l){l&&_(e)}}}class Al extends Ye{constructor(e){super(),Ze(this,e,null,Ul,Je,{})}}function Ol(n){let e,t;return{c(){e=je("svg"),t=je("path"),this.h()},l(l){e=Oe(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var i=y(e);t=Oe(i,"path",{d:!0}),y(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),u(e,"class","pb-1 fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 320 512"),u(e,"width",n[1]),u(e,"height",n[0])},m(l,i){E(l,e,i),m(e,t)},p(l,[i]){i&2&&u(e,"width",l[1]),i&1&&u(e,"height",l[0])},i:ee,o:ee,d(l){l&&_(e)}}}function jl(n,e,t){let{h:l="32px"}=e,{w:i="18px"}=e;return n.$$set=r=>{"h"in r&&t(0,l=r.h),"w"in r&&t(1,i=r.w)},[l,i]}class ul extends Ye{constructor(e){super(),Ze(this,e,jl,Ol,Je,{h:0,w:1})}}function Ml(n){let e,t;return{c(){e=je("svg"),t=je("path"),this.h()},l(l){e=Oe(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var i=y(e);t=Oe(i,"path",{d:!0}),y(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 256 512"),u(e,"width",n[0]),u(e,"height",n[1])},m(l,i){E(l,e,i),m(e,t)},p(l,[i]){i&1&&u(e,"width",l[0]),i&2&&u(e,"height",l[1])},i:ee,o:ee,d(l){l&&_(e)}}}function Sl(n,e,t){let{w:l="14px"}=e,{h:i="28px"}=e;return n.$$set=r=>{"w"in r&&t(0,l=r.w),"h"in r&&t(1,i=r.h)},[l,i]}class cl extends Ye{constructor(e){super(),Ze(this,e,Sl,Ml,Je,{w:0,h:1})}}function Pl(n){let e,t;return{c(){e=je("svg"),t=je("path"),this.h()},l(l){e=Oe(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=Oe(i,"path",{d:!0}),y(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","19")},m(l,i){E(l,e,i),m(e,t)},p:ee,i:ee,o:ee,d(l){l&&_(e)}}}class zl extends Ye{constructor(e){super(),Ze(this,e,null,Pl,Je,{})}}function Fl(n){let e,t;return{c(){e=je("svg"),t=je("path"),this.h()},l(l){e=Oe(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=Oe(i,"path",{d:!0}),y(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","18")},m(l,i){E(l,e,i),m(e,t)},p:ee,i:ee,o:ee,d(l){l&&_(e)}}}class Hl extends Ye{constructor(e){super(),Ze(this,e,null,Fl,Je,{})}}function Rl(n){let e,t="Metadata";return{c(){e=g("span"),e.textContent=t},l(l){e=b(l,"SPAN",{"data-svelte-h":!0}),ke(e)!=="svelte-myby7z"&&(e.textContent=t)},m(l,i){E(l,e,i)},p:ee,d(l){l&&_(e)}}}function ql(n){let e;return{c(){e=ie("Related Datasets")},l(t){e=ne(t,"Related Datasets")},m(t,l){E(t,e,l)},d(t){t&&_(e)}}}function Gl(n){let e;return{c(){e=ie("Provenance")},l(t){e=ne(t,"Provenance")},m(t,l){E(t,e,l)},d(t){t&&_(e)}}}function Wl(n){let e;return{c(){e=ie("Citation")},l(t){e=ne(t,"Citation")},m(t,l){E(t,e,l)},d(t){t&&_(e)}}}function wt(n){let e,t,l;function i(s){n[13](s)}let r={name:"tab4",value:4,$$slots:{default:[Jl]},$$scope:{ctx:n}};return n[3]!==void 0&&(r.group=n[3]),e=new ft({props:r}),Se.push(()=>ze(e,"group",i)),{c(){_e(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,f){ue(e,s,f),l=!0},p(s,f){const a={};f&16384&&(a.$$scope={dirty:f,ctx:s}),!t&&f&8&&(t=!0,a.group=s[3],Pe(()=>t=!1)),e.$set(a)},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),l=!1},d(s){fe(e,s)}}}function Jl(n){let e;return{c(){e=ie("Map")},l(t){e=ne(t,"Map")},m(t,l){E(t,e,l)},d(t){t&&_(e)}}}function kt(n){let e,t,l,i;return{c(){e=g("div"),t=g("a"),l=ie("File Information View"),this.h()},l(r){e=b(r,"DIV",{class:!0});var s=y(e);t=b(s,"A",{href:!0,class:!0,style:!0});var f=y(t);l=ne(f,"File Information View"),f.forEach(_),s.forEach(_),this.h()},h(){u(t,"href",i="/climate_services_gateway/file_info?type="+n[2]+"&filename="+n[4]),u(t,"class","px-3 p-1 py-1 bg-blue-500 text-white rounded hover:bg-blue-600"),nt(t,"margin-top","5px"),nt(t,"margin-right","2px"),nt(t,"margin-left","auto"),nt(t,"display","block"),nt(t,"width","max-content"),u(e,"class","ml-auto")},m(r,s){E(r,e,s),m(e,t),m(t,l)},p(r,s){s&20&&i!==(i="/climate_services_gateway/file_info?type="+r[2]+"&filename="+r[4])&&u(t,"href",i)},d(r){r&&_(e)}}}function Kl(n){let e,t,l,i,r,s,f,a,o,c,h,v,$,j,q;function J(d){n[9](d)}let D={name:"tab1",value:0,$$slots:{default:[Rl]},$$scope:{ctx:n}};n[3]!==void 0&&(D.group=n[3]),e=new ft({props:D}),Se.push(()=>ze(e,"group",J));function C(d){n[10](d)}let M={name:"tab1",value:1,$$slots:{default:[ql]},$$scope:{ctx:n}};n[3]!==void 0&&(M.group=n[3]),i=new ft({props:M}),Se.push(()=>ze(i,"group",C));function U(d){n[11](d)}let re={name:"tab2",value:2,$$slots:{default:[Gl]},$$scope:{ctx:n}};n[3]!==void 0&&(re.group=n[3]),f=new ft({props:re}),Se.push(()=>ze(f,"group",U));function I(d){n[12](d)}let Y={name:"tab3",value:3,$$slots:{default:[Wl]},$$scope:{ctx:n}};n[3]!==void 0&&(Y.group=n[3]),c=new ft({props:Y}),Se.push(()=>ze(c,"group",I));let B=n[0][n[1].index].tif_convertable&&wt(n),N=n[0][n[1].index].metadata_exists&&kt(n);return{c(){_e(e.$$.fragment),l=O(),_e(i.$$.fragment),s=O(),_e(f.$$.fragment),o=O(),_e(c.$$.fragment),v=O(),B&&B.c(),$=O(),N&&N.c(),j=de()},l(d){ce(e.$$.fragment,d),l=A(d),ce(i.$$.fragment,d),s=A(d),ce(f.$$.fragment,d),o=A(d),ce(c.$$.fragment,d),v=A(d),B&&B.l(d),$=A(d),N&&N.l(d),j=de()},m(d,L){ue(e,d,L),E(d,l,L),ue(i,d,L),E(d,s,L),ue(f,d,L),E(d,o,L),ue(c,d,L),E(d,v,L),B&&B.m(d,L),E(d,$,L),N&&N.m(d,L),E(d,j,L),q=!0},p(d,L){const F={};L&16384&&(F.$$scope={dirty:L,ctx:d}),!t&&L&8&&(t=!0,F.group=d[3],Pe(()=>t=!1)),e.$set(F);const H={};L&16384&&(H.$$scope={dirty:L,ctx:d}),!r&&L&8&&(r=!0,H.group=d[3],Pe(()=>r=!1)),i.$set(H);const Q={};L&16384&&(Q.$$scope={dirty:L,ctx:d}),!a&&L&8&&(a=!0,Q.group=d[3],Pe(()=>a=!1)),f.$set(Q);const k={};L&16384&&(k.$$scope={dirty:L,ctx:d}),!h&&L&8&&(h=!0,k.group=d[3],Pe(()=>h=!1)),c.$set(k),d[0][d[1].index].tif_convertable?B?(B.p(d,L),L&3&&T(B,1)):(B=wt(d),B.c(),T(B,1),B.m($.parentNode,$)):B&&(Ee(),V(B,1,1,()=>{B=null}),Te()),d[0][d[1].index].metadata_exists?N?N.p(d,L):(N=kt(d),N.c(),N.m(j.parentNode,j)):N&&(N.d(1),N=null)},i(d){q||(T(e.$$.fragment,d),T(i.$$.fragment,d),T(f.$$.fragment,d),T(c.$$.fragment,d),T(B),q=!0)},o(d){V(e.$$.fragment,d),V(i.$$.fragment,d),V(f.$$.fragment,d),V(c.$$.fragment,d),V(B),q=!1},d(d){d&&(_(l),_(s),_(o),_(v),_($),_(j)),fe(e,d),fe(i,d),fe(f,d),fe(c,d),B&&B.d(d),N&&N.d(d)}}}function Yl(n){let e,t,l=n[4]&&n[4]!=""&&yt(n);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,r){l&&l.m(i,r),E(i,e,r),t=!0},p(i,r){i[4]&&i[4]!=""?l?(l.p(i,r),r&16&&T(l,1)):(l=yt(i),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(Ee(),V(l,1,1,()=>{l=null}),Te())},i(i){t||(T(l),t=!0)},o(i){V(l),t=!1},d(i){i&&_(e),l&&l.d(i)}}}function Zl(n){let e,t,l=n[0][n[1].index].metadata&&n[0][n[1].index].metadata.file&&n[0][n[1].index].metadata_show&&Et(n);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,r){l&&l.m(i,r),E(i,e,r),t=!0},p(i,r){i[0][i[1].index].metadata&&i[0][i[1].index].metadata.file&&i[0][i[1].index].metadata_show?l?(l.p(i,r),r&3&&T(l,1)):(l=Et(i),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(Ee(),V(l,1,1,()=>{l=null}),Te())},i(i){t||(T(l),t=!0)},o(i){V(l),t=!1},d(i){i&&_(e),l&&l.d(i)}}}function Ql(n){let e,t,l,i;const r=[tn,en],s=[];function f(a,o){return a[0][a[1].index].metadata_prov_exists&&a[0][a[1].index].metadata_show?0:1}return e=f(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,o){s[e].m(a,o),E(a,l,o),i=!0},p(a,o){let c=e;e=f(a),e===c?s[e].p(a,o):(Ee(),V(s[c],1,1,()=>{s[c]=null}),Te(),t=s[e],t?t.p(a,o):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){V(t),i=!1},d(a){a&&_(l),s[e].d(a)}}}function Xl(n){let e,t,l,i;const r=[nn,ln],s=[];function f(a,o){return a[0][a[1].index].metadata_prov_stats?0:1}return e=f(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,o){s[e].m(a,o),E(a,l,o),i=!0},p(a,o){let c=e;e=f(a),e===c?s[e].p(a,o):(Ee(),V(s[c],1,1,()=>{s[c]=null}),Te(),t=s[e],t?t.p(a,o):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){V(t),i=!1},d(a){a&&_(l),s[e].d(a)}}}function xl(n){let e,t,l,i;const r=[an,rn],s=[];function f(a,o){return a[0][a[1].index].metadata_exists?0:1}return e=f(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,o){s[e].m(a,o),E(a,l,o),i=!0},p(a,o){let c=e;e=f(a),e===c?s[e].p(a,o):(Ee(),V(s[c],1,1,()=>{s[c]=null}),Te(),t=s[e],t?t.p(a,o):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){V(t),i=!1},d(a){a&&_(l),s[e].d(a)}}}function yt(n){let e=n[4],t,l,i=$t(n);return{c(){i.c(),t=de()},l(r){i.l(r),t=de()},m(r,s){i.m(r,s),E(r,t,s),l=!0},p(r,s){s&16&&Je(e,e=r[4])?(Ee(),V(i,1,1,ee),Te(),i=$t(r),i.c(),T(i,1),i.m(t.parentNode,t)):i.p(r,s)},i(r){l||(T(i),l=!0)},o(r){V(i),l=!1},d(r){r&&_(t),i.d(r)}}}function $t(n){let e,t,l;function i(s){n[8](s)}let r={foldertype:n[2],show_varinfos:!1};return n[4]!==void 0&&(r.selected_file=n[4]),e=new bl({props:r}),Se.push(()=>ze(e,"selected_file",i)),{c(){_e(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,f){ue(e,s,f),l=!0},p(s,f){const a={};f&4&&(a.foldertype=s[2]),!t&&f&16&&(t=!0,a.selected_file=s[4],Pe(()=>t=!1)),e.$set(a)},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),l=!1},d(s){fe(e,s)}}}function Et(n){let e,t;return e=new Cl({props:{file:n[0][n[1].index].metadata.file}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i&3&&(r.file=l[0][l[1].index].metadata.file),e.$set(r)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function en(n){let e;return{c(){e=ie("currently no provenance data available")},l(t){e=ne(t,"currently no provenance data available")},m(t,l){E(t,e,l)},p:ee,i:ee,o:ee,d(t){t&&_(e)}}}function tn(n){let e,t,l,i,r,s="provenance",f,a,o,c;l=new Re({});let h=n[0][n[1].index].metadata_prov_stats&&Tt(n);return{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=O(),r=g("div"),r.textContent=s,a=O(),h&&h.c(),o=de(),this.h()},l(v){e=b(v,"BUTTON",{class:!0});var $=y(e);t=b($,"A",{href:!0,class:!0,title:!0});var j=y(t);ce(l.$$.fragment,j),i=A(j),r=b(j,"DIV",{class:!0,"data-svelte-h":!0}),ke(r)!=="svelte-19tiklx"&&(r.textContent=s),j.forEach(_),$.forEach(_),a=A(v),h&&h.l(v),o=de(),this.h()},h(){u(r,"class","ml-1 flex place-items-center justify-items-center"),u(t,"href",f=$e+"/climate/get_temp_file?name="+n[0][n[1].index].filename+"&type="+n[2]+"&filetype=prov"),u(t,"class","flex"),u(t,"title","Download metadata file"),u(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(v,$){E(v,e,$),m(e,t),ue(l,t,null),m(t,i),m(t,r),E(v,a,$),h&&h.m(v,$),E(v,o,$),c=!0},p(v,$){(!c||$&7&&f!==(f=$e+"/climate/get_temp_file?name="+v[0][v[1].index].filename+"&type="+v[2]+"&filetype=prov"))&&u(t,"href",f),v[0][v[1].index].metadata_prov_stats?h?(h.p(v,$),$&3&&T(h,1)):(h=Tt(v),h.c(),T(h,1),h.m(o.parentNode,o)):h&&(Ee(),V(h,1,1,()=>{h=null}),Te())},i(v){c||(T(l.$$.fragment,v),T(h),c=!0)},o(v){V(l.$$.fragment,v),V(h),c=!1},d(v){v&&(_(e),_(a),_(o)),fe(l),h&&h.d(v)}}}function Tt(n){let e,t,l,i;function r(a){n[6](a)}function s(a){n[7](a)}let f={};return n[0][n[1].index].metadata_prov!==void 0&&(f.metadata_prov=n[0][n[1].index].metadata_prov),n[0][n[1].index].metadata_prov_stats!==void 0&&(f.metadata_prov_stats=n[0][n[1].index].metadata_prov_stats),e=new Il({props:f}),Se.push(()=>ze(e,"metadata_prov",r)),Se.push(()=>ze(e,"metadata_prov_stats",s)),{c(){_e(e.$$.fragment)},l(a){ce(e.$$.fragment,a)},m(a,o){ue(e,a,o),i=!0},p(a,o){const c={};!t&&o&3&&(t=!0,c.metadata_prov=a[0][a[1].index].metadata_prov,Pe(()=>t=!1)),!l&&o&3&&(l=!0,c.metadata_prov_stats=a[0][a[1].index].metadata_prov_stats,Pe(()=>l=!1)),e.$set(c)},i(a){i||(T(e.$$.fragment,a),i=!0)},o(a){V(e.$$.fragment,a),i=!1},d(a){fe(e,a)}}}function ln(n){let e;return{c(){e=ie("currently no related datasets available")},l(t){e=ne(t,"currently no related datasets available")},m(t,l){E(t,e,l)},p:ee,i:ee,o:ee,d(t){t&&_(e)}}}function nn(n){var q,J,D;let e,t,l="ℹ️ Available files based on this file",i,r,s,f,a,o="ℹ️ Available files used to create this file",c,h,v,$,j;return r=new pt({props:{data:(q=n[0][n[1].index].metadata_prov_stats)==null?void 0:q.base_for_entities,only_links:!0}}),h=new pt({props:{data:(J=n[0][n[1].index].metadata_prov_stats)==null?void 0:J.source_entities,only_links:!0}}),$=new pt({props:{data:(D=n[0][n[1].index].metadata_prov_stats)==null?void 0:D.result_entities,only_links:!0}}),{c(){e=g("div"),t=g("h2"),t.textContent=l,i=O(),_e(r.$$.fragment),s=O(),f=g("div"),a=g("h2"),a.textContent=o,c=O(),_e(h.$$.fragment),v=O(),_e($.$$.fragment),this.h()},l(C){e=b(C,"DIV",{class:!0,id:!0});var M=y(e);t=b(M,"H2",{class:!0,"data-svelte-h":!0}),ke(t)!=="svelte-n9z7mk"&&(t.textContent=l),i=A(M),ce(r.$$.fragment,M),M.forEach(_),s=A(C),f=b(C,"DIV",{class:!0,id:!0});var U=y(f);a=b(U,"H2",{class:!0,"data-svelte-h":!0}),ke(a)!=="svelte-1bmg2za"&&(a.textContent=o),c=A(U),ce(h.$$.fragment,U),v=A(U),ce($.$$.fragment,U),U.forEach(_),this.h()},h(){u(t,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),u(e,"class","bg-box svelte-184ua4x"),u(e,"id","base_for_entities_"+n[5]),u(a,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),u(f,"class","bg-box svelte-184ua4x"),u(f,"id","base_for_entities_"+n[5])},m(C,M){E(C,e,M),m(e,t),m(e,i),ue(r,e,null),E(C,s,M),E(C,f,M),m(f,a),m(f,c),ue(h,f,null),m(f,v),ue($,f,null),j=!0},p(C,M){var Y,B,N;const U={};M&3&&(U.data=(Y=C[0][C[1].index].metadata_prov_stats)==null?void 0:Y.base_for_entities),r.$set(U);const re={};M&3&&(re.data=(B=C[0][C[1].index].metadata_prov_stats)==null?void 0:B.source_entities),h.$set(re);const I={};M&3&&(I.data=(N=C[0][C[1].index].metadata_prov_stats)==null?void 0:N.result_entities),$.$set(I)},i(C){j||(T(r.$$.fragment,C),T(h.$$.fragment,C),T($.$$.fragment,C),j=!0)},o(C){V(r.$$.fragment,C),V(h.$$.fragment,C),V($.$$.fragment,C),j=!1},d(C){C&&(_(e),_(s),_(f)),fe(r),fe(h),fe($)}}}function rn(n){let e;return{c(){e=ie("currently no metadata available")},l(t){e=ne(t,"currently no metadata available")},m(t,l){E(t,e,l)},p:ee,i:ee,o:ee,d(t){t&&_(e)}}}function an(n){let e,t,l,i,r,s="metadata",f,a,o,c;l=new Re({});let h=n[0][n[1].index].metadata&&n[0][n[1].index].metadata_show&&Ct(n);return{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=O(),r=g("div"),r.textContent=s,a=O(),h&&h.c(),o=de(),this.h()},l(v){e=b(v,"BUTTON",{class:!0});var $=y(e);t=b($,"A",{href:!0,class:!0,title:!0});var j=y(t);ce(l.$$.fragment,j),i=A(j),r=b(j,"DIV",{class:!0,"data-svelte-h":!0}),ke(r)!=="svelte-xp3lgr"&&(r.textContent=s),j.forEach(_),$.forEach(_),a=A(v),h&&h.l(v),o=de(),this.h()},h(){u(r,"class","ml-1 flex place-items-center justify-items-center"),u(t,"href",f=$e+"/climate/get_temp_file?name="+n[0][n[1].index].filename+"&type="+n[2]+"&filetype=meta"),u(t,"class","flex"),u(t,"title","Download metadata file"),u(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(v,$){E(v,e,$),m(e,t),ue(l,t,null),m(t,i),m(t,r),E(v,a,$),h&&h.m(v,$),E(v,o,$),c=!0},p(v,$){(!c||$&7&&f!==(f=$e+"/climate/get_temp_file?name="+v[0][v[1].index].filename+"&type="+v[2]+"&filetype=meta"))&&u(t,"href",f),v[0][v[1].index].metadata&&v[0][v[1].index].metadata_show?h?(h.p(v,$),$&3&&T(h,1)):(h=Ct(v),h.c(),T(h,1),h.m(o.parentNode,o)):h&&(Ee(),V(h,1,1,()=>{h=null}),Te())},i(v){c||(T(l.$$.fragment,v),T(h),c=!0)},o(v){V(l.$$.fragment,v),V(h),c=!1},d(v){v&&(_(e),_(a),_(o)),fe(l),h&&h.d(v)}}}function Ct(n){let e,t;return e=new Dl({props:{data:n[0][n[1].index].metadata}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i&3&&(r.data=l[0][l[1].index].metadata),e.$set(r)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function sn(n){let e,t,l,i;const r=[xl,Xl,Ql,Zl,Yl],s=[];function f(a,o){return a[3]===0?0:a[3]===1?1:a[3]===2?2:a[3]===3?3:a[3]===4?4:-1}return~(e=f(n))&&(t=s[e]=r[e](n)),{c(){t&&t.c(),l=de()},l(a){t&&t.l(a),l=de()},m(a,o){~e&&s[e].m(a,o),E(a,l,o),i=!0},p(a,o){let c=e;e=f(a),e===c?~e&&s[e].p(a,o):(t&&(Ee(),V(s[c],1,1,()=>{s[c]=null}),Te()),~e?(t=s[e],t?t.p(a,o):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l)):t=null)},i(a){i||(T(t),i=!0)},o(a){V(t),i=!1},d(a){a&&_(l),~e&&s[e].d(a)}}}function on(n){let e,t,l;return t=new Tl({props:{$$slots:{panel:[sn],default:[Kl]},$$scope:{ctx:n}}}),{c(){e=g("div"),_e(t.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var r=y(e);ce(t.$$.fragment,r),r.forEach(_),this.h()},h(){u(e,"class","bg-surface-700")},m(i,r){E(i,e,r),ue(t,e,null),l=!0},p(i,[r]){const s={};r&16415&&(s.$$scope={dirty:r,ctx:i}),t.$set(s)},i(i){l||(T(t.$$.fragment,i),l=!0)},o(i){V(t.$$.fragment,i),l=!1},d(i){i&&_(e),fe(t)}}}function fn(n,e,t){let l,{folder_data:i}=e,{file_obj:r}=e,{foldertype:s}=e,f=i[r.index].tabset,a=Math.random().toString(36).substring(2,15);function o(D){n.$$.not_equal(i[r.index].metadata_prov,D)&&(i[r.index].metadata_prov=D,t(0,i))}function c(D){n.$$.not_equal(i[r.index].metadata_prov_stats,D)&&(i[r.index].metadata_prov_stats=D,t(0,i))}function h(D){l=D,t(4,l),t(0,i),t(1,r)}function v(D){f=D,t(3,f)}function $(D){f=D,t(3,f)}function j(D){f=D,t(3,f)}function q(D){f=D,t(3,f)}function J(D){f=D,t(3,f)}return n.$$set=D=>{"folder_data"in D&&t(0,i=D.folder_data),"file_obj"in D&&t(1,r=D.file_obj),"foldertype"in D&&t(2,s=D.foldertype)},n.$$.update=()=>{n.$$.dirty&3&&t(4,l=i[r.index].filename)},[i,r,s,f,l,a,o,c,h,v,$,j,q,J]}class un extends Ye{constructor(e){super(),Ze(this,e,fn,on,Je,{folder_data:0,file_obj:1,foldertype:2})}}function Dt(n,e,t){const l=n.slice();return l[86]=e[t][0],l[87]=e[t][1],l[89]=t,l}function It(n,e,t){const l=n.slice();return l[90]=e[t],l[91]=e,l[92]=t,l}function Lt(n,e,t){const l=n.slice();return l[93]=e[t],l}function Nt(n,e,t){const l=n.slice();return l[93]=e[t],l}function Vt(n,e,t){const l=n.slice();return l[93]=e[t],l}function Bt(n,e,t){const l=n.slice();return l[93]=e[t],l}function Ut(n,e,t){const l=n.slice();return l[93]=e[t],l}function At(n){let e,t,l="Force Update",i,r;return{c(){e=g("div"),t=g("button"),t.textContent=l,this.h()},l(s){e=b(s,"DIV",{class:!0});var f=y(e);t=b(f,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(t)!=="svelte-c1ydu0"&&(t.textContent=l),f.forEach(_),this.h()},h(){u(t,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(e,"class","ml-10 mt-4")},m(s,f){E(s,e,f),m(e,t),i||(r=oe(t,"click",n[37]),i=!0)},p:ee,d(s){s&&_(e),i=!1,r()}}}function Ot(n){let e,t,l,i,r=n[9].some(ol),s,f,a,o=n[10].some(sl),c,h,v,$=n[11].some(al),j,q,J,D=n[12].some(rl),C=Ve(n[8]),M=[];for(let k=0;k<C.length;k+=1)M[k]=jt(Ut(n,C,k));let U=r&&Mt(),re=Ve(n[9]),I=[];for(let k=0;k<re.length;k+=1)I[k]=Pt(Bt(n,re,k));let Y=o&&zt(n),B=Ve(n[10]),N=[];for(let k=0;k<B.length;k+=1)N[k]=Ht(Vt(n,B,k));let d=$&&Rt(n),L=Ve(n[11]),F=[];for(let k=0;k<L.length;k+=1)F[k]=Gt(Nt(n,L,k));let H=n[14]!=="_"&&Wt(n),Q=D&&Jt(n);return{c(){e=g("div"),t=g("div");for(let k=0;k<M.length;k+=1)M[k].c();l=O(),i=g("div"),U&&U.c(),s=O();for(let k=0;k<I.length;k+=1)I[k].c();f=O(),a=g("div"),Y&&Y.c(),c=O();for(let k=0;k<N.length;k+=1)N[k].c();h=O(),v=g("div"),d&&d.c(),j=O();for(let k=0;k<F.length;k+=1)F[k].c();q=O(),H&&H.c(),J=O(),Q&&Q.c(),this.h()},l(k){e=b(k,"DIV",{});var S=y(e);t=b(S,"DIV",{class:!0});var p=y(t);for(let x=0;x<M.length;x+=1)M[x].l(p);p.forEach(_),l=A(S),i=b(S,"DIV",{class:!0});var le=y(i);U&&U.l(le),s=A(le);for(let x=0;x<I.length;x+=1)I[x].l(le);le.forEach(_),f=A(S),a=b(S,"DIV",{class:!0});var G=y(a);Y&&Y.l(G),c=A(G);for(let x=0;x<N.length;x+=1)N[x].l(G);G.forEach(_),h=A(S),v=b(S,"DIV",{class:!0});var R=y(v);d&&d.l(R),j=A(R);for(let x=0;x<F.length;x+=1)F[x].l(R);R.forEach(_),q=A(S),H&&H.l(S),J=A(S),Q&&Q.l(S),S.forEach(_),this.h()},h(){u(t,"class","flow gap-2 items-center ml-2"),u(i,"class","flow gap-2 items-center ml-2"),u(a,"class","flow gap-2 items-center ml-2"),u(v,"class","flow gap-2 items-center ml-2")},m(k,S){E(k,e,S),m(e,t);for(let p=0;p<M.length;p+=1)M[p]&&M[p].m(t,null);m(e,l),m(e,i),U&&U.m(i,null),m(i,s);for(let p=0;p<I.length;p+=1)I[p]&&I[p].m(i,null);m(e,f),m(e,a),Y&&Y.m(a,null),m(a,c);for(let p=0;p<N.length;p+=1)N[p]&&N[p].m(a,null);m(e,h),m(e,v),d&&d.m(v,null),m(v,j);for(let p=0;p<F.length;p+=1)F[p]&&F[p].m(v,null);m(e,q),H&&H.m(e,null),m(e,J),Q&&Q.m(e,null)},p(k,S){if(S[0]&536871168){C=Ve(k[8]);let p;for(p=0;p<C.length;p+=1){const le=Ut(k,C,p);M[p]?M[p].p(le,S):(M[p]=jt(le),M[p].c(),M[p].m(t,null))}for(;p<M.length;p+=1)M[p].d(1);M.length=C.length}if(S[0]&512&&(r=k[9].some(ol)),r?U||(U=Mt(),U.c(),U.m(i,s)):U&&(U.d(1),U=null),S[0]&1073758720){re=Ve(k[9]);let p;for(p=0;p<re.length;p+=1){const le=Bt(k,re,p);I[p]?I[p].p(le,S):(I[p]=Pt(le),I[p].c(),I[p].m(i,null))}for(;p<I.length;p+=1)I[p].d(1);I.length=re.length}if(S[0]&1024&&(o=k[10].some(sl)),o?Y?Y.p(k,S):(Y=zt(k),Y.c(),Y.m(a,c)):Y&&(Y.d(1),Y=null),S[0]&1073759232){B=Ve(k[10]);let p;for(p=0;p<B.length;p+=1){const le=Vt(k,B,p);N[p]?N[p].p(le,S):(N[p]=Ht(le),N[p].c(),N[p].m(a,null))}for(;p<N.length;p+=1)N[p].d(1);N.length=B.length}if(S[0]&2048&&($=k[11].some(al)),$?d?d.p(k,S):(d=Rt(k),d.c(),d.m(v,j)):d&&(d.d(1),d=null),S[0]&1073760256){L=Ve(k[11]);let p;for(p=0;p<L.length;p+=1){const le=Nt(k,L,p);F[p]?F[p].p(le,S):(F[p]=Gt(le),F[p].c(),F[p].m(v,null))}for(;p<F.length;p+=1)F[p].d(1);F.length=L.length}k[14]!=="_"?H?H.p(k,S):(H=Wt(k),H.c(),H.m(e,J)):H&&(H.d(1),H=null),S[0]&4096&&(D=k[12].some(rl)),D?Q?Q.p(k,S):(Q=Jt(k),Q.c(),Q.m(e,null)):Q&&(Q.d(1),Q=null)},d(k){k&&_(e),lt(M,k),U&&U.d(),lt(I,k),Y&&Y.d(),lt(N,k),d&&d.d(),lt(F,k),H&&H.d(),Q&&Q.d()}}}function jt(n){let e,t=il(n[93])+"",l,i,r;return{c(){e=g("button"),l=ie(t),this.h()},l(s){e=b(s,"BUTTON",{class:!0});var f=y(e);l=ne(f,t),f.forEach(_),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(s,f){E(s,e,f),m(e,l),i||(r=oe(e,"click",function(){vl(n[29](n[93]))&&n[29](n[93]).apply(this,arguments)}),i=!0)},p(s,f){n=s,f[0]&256&&t!==(t=il(n[93])+"")&&Be(l,t)},d(s){s&&_(e),i=!1,r()}}}function Mt(n){let e,t="⏳ Δ- ⟶⌛:";return{c(){e=g("span"),e.textContent=t,this.h()},l(l){e=b(l,"SPAN",{class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-1e3ro3x"&&(e.textContent=t),this.h()},h(){u(e,"class","mr-3")},m(l,i){E(l,e,i)},d(l){l&&_(e)}}}function St(n){let e,t=n[93].time+"",l,i,r,s;function f(){return n[39](n[93])}return{c(){e=g("button"),l=ie(t),this.h()},l(a){e=b(a,"BUTTON",{class:!0});var o=y(e);l=ne(o,t),o.forEach(_),this.h()},h(){u(e,"class",i="w-[220px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,o){E(a,e,o),m(e,l),r||(s=oe(e,"click",f),r=!0)},p(a,o){n=a,o[0]&512&&t!==(t=n[93].time+"")&&Be(l,t),o[0]&16896&&i!==(i="w-[220px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&_(e),r=!1,s()}}}function Pt(n){let e,t=n[93].show=="true"&&St(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=St(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&_(e),t&&t.d(l)}}}function zt(n){let e,t,l,i,r,s;return{c(){e=ie(`⏳ 20y ⟶ ⌛:
					`),t=g("button"),l=ie("all 20y"),this.h()},l(f){e=ne(f,`⏳ 20y ⟶ ⌛:
					`),t=b(f,"BUTTON",{class:!0});var a=y(t);l=ne(a,"all 20y"),a.forEach(_),this.h()},h(){u(t,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]==="20y"?"font-bold":""))},m(f,a){E(f,e,a),E(f,t,a),m(t,l),r||(s=oe(t,"click",n[40]),r=!0)},p(f,a){a[0]&16384&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(f[14]==="20y"?"font-bold":""))&&u(t,"class",i)},d(f){f&&(_(e),_(t)),r=!1,s()}}}function Ft(n){let e,t=n[93].time+"",l,i,r,s;function f(){return n[41](n[93])}return{c(){e=g("button"),l=ie(t),this.h()},l(a){e=b(a,"BUTTON",{class:!0});var o=y(e);l=ne(o,t),o.forEach(_),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,o){E(a,e,o),m(e,l),r||(s=oe(e,"click",f),r=!0)},p(a,o){n=a,o[0]&1024&&t!==(t=n[93].time+"")&&Be(l,t),o[0]&17408&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&_(e),r=!1,s()}}}function Ht(n){let e,t=n[93].show=="true"&&Ft(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=Ft(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&_(e),t&&t.d(l)}}}function Rt(n){let e,t,l,i,r,s;return{c(){e=ie(`⏳ 30y ⟶ ⌛:
					`),t=g("button"),l=ie("all 30y"),this.h()},l(f){e=ne(f,`⏳ 30y ⟶ ⌛:
					`),t=b(f,"BUTTON",{class:!0});var a=y(t);l=ne(a,"all 30y"),a.forEach(_),this.h()},h(){u(t,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]==="30y"?"font-bold":""))},m(f,a){E(f,e,a),E(f,t,a),m(t,l),r||(s=oe(t,"click",n[42]),r=!0)},p(f,a){a[0]&16384&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(f[14]==="30y"?"font-bold":""))&&u(t,"class",i)},d(f){f&&(_(e),_(t)),r=!1,s()}}}function qt(n){let e,t=n[93].time+"",l,i,r,s;function f(){return n[43](n[93])}return{c(){e=g("button"),l=ie(t),this.h()},l(a){e=b(a,"BUTTON",{class:!0});var o=y(e);l=ne(o,t),o.forEach(_),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,o){E(a,e,o),m(e,l),r||(s=oe(e,"click",f),r=!0)},p(a,o){n=a,o[0]&2048&&t!==(t=n[93].time+"")&&Be(l,t),o[0]&18432&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&_(e),r=!1,s()}}}function Gt(n){let e,t=n[93].show=="true"&&qt(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=qt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&_(e),t&&t.d(l)}}}function Wt(n){let e,t="reset ⏳",l,i;return{c(){e=g("button"),e.textContent=t,this.h()},l(r){e=b(r,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-krixl6"&&(e.textContent=t),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(r,s){E(r,e,s),l||(i=oe(e,"click",n[44]),l=!0)},p:ee,d(r){r&&_(e),l=!1,i()}}}function Jt(n){let e,t,l,i=Ve(n[12]),r=[];for(let f=0;f<i.length;f+=1)r[f]=Yt(Lt(n,i,f));let s=n[15]!=="_"&&Zt(n);return{c(){e=g("div"),t=ie(`Σ Sum / Avg:
					`);for(let f=0;f<r.length;f+=1)r[f].c();l=O(),s&&s.c(),this.h()},l(f){e=b(f,"DIV",{class:!0});var a=y(e);t=ne(a,`Σ Sum / Avg:
					`);for(let o=0;o<r.length;o+=1)r[o].l(a);l=A(a),s&&s.l(a),a.forEach(_),this.h()},h(){u(e,"class","flow gap-2 items-center ml-2")},m(f,a){E(f,e,a),m(e,t);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);m(e,l),s&&s.m(e,null)},p(f,a){if(a[0]&36864|a[1]&1){i=Ve(f[12]);let o;for(o=0;o<i.length;o+=1){const c=Lt(f,i,o);r[o]?r[o].p(c,a):(r[o]=Yt(c),r[o].c(),r[o].m(e,l))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}f[15]!=="_"?s?s.p(f,a):(s=Zt(f),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(f){f&&_(e),lt(r,f),s&&s.d()}}}function Kt(n){let e,t=n[93].time+"",l,i,r,s;function f(){return n[45](n[93])}return{c(){e=g("button"),l=ie(t),this.h()},l(a){e=b(a,"BUTTON",{class:!0});var o=y(e);l=ne(o,t),o.forEach(_),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[93].time?"font-bold":""))},m(a,o){E(a,e,o),m(e,l),r||(s=oe(e,"click",f),r=!0)},p(a,o){n=a,o[0]&4096&&t!==(t=n[93].time+"")&&Be(l,t),o[0]&36864&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&_(e),r=!1,s()}}}function Yt(n){let e,t=n[93].show=="true"&&Kt(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=Kt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&_(e),t&&t.d(l)}}}function Zt(n){let e,t="reset Σ",l,i;return{c(){e=g("button"),e.textContent=t,this.h()},l(r){e=b(r,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-1c6s5cf"&&(e.textContent=t),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(r,s){E(r,e,s),l||(i=oe(e,"click",n[46]),l=!0)},p:ee,d(r){r&&_(e),l=!1,i()}}}function cn(n){let e,t,l;return t=new $l({}),{c(){e=g("div"),_e(t.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var r=y(e);ce(t.$$.fragment,r),r.forEach(_),this.h()},h(){u(e,"class","flex-center")},m(i,r){E(i,e,r),ue(t,e,null),l=!0},p:ee,i(i){l||(T(t.$$.fragment,i),l=!0)},o(i){V(t.$$.fragment,i),l=!1},d(i){i&&_(e),fe(t)}}}function _n(n){let e,t,l,i,r,s=n[3].filter(fl).length+"",f,a,o,c,h,v,$,j,q,J,D,C,M,U,re,I,Y,B,N,d,L,F,H,Q,k,S,p,le,G,R,x=Ve(Object.entries(n[2])),P=[];for(let K=0;K<x.length;K+=1)P[K]=ll(Dt(n,x,K));const De=K=>V(P[K],1,1,()=>{P[K]=null});return le=ml(n[63][0]),{c(){e=g("div");for(let K=0;K<P.length;K+=1)P[K].c();t=O(),l=g("div"),i=g("button"),r=ie("Generate Wget link for download ("),f=ie(s),a=ie(" selected)"),o=O(),c=g("div"),h=g("div"),v=g("label"),$=g("input"),j=ie(`
						Filetype .nc`),q=O(),J=g("label"),D=g("input"),C=ie(`
						Filetype .nc (clipped)`),M=O(),U=g("div"),re=g("label"),I=g("input"),Y=ie(`
						Filetype .dat`),B=O(),N=g("label"),d=g("input"),L=ie(`
						Filetype .dat (clipped)`),F=O(),H=g("div"),Q=g("label"),k=g("input"),S=ie(`
						Filetype .tiff`),this.h()},l(K){e=b(K,"DIV",{class:!0});var Z=y(e);for(let we=0;we<P.length;we+=1)P[we].l(Z);Z.forEach(_),t=A(K),l=b(K,"DIV",{class:!0});var X=y(l);i=b(X,"BUTTON",{type:!0,class:!0});var ve=y(i);r=ne(ve,"Generate Wget link for download ("),f=ne(ve,s),a=ne(ve," selected)"),ve.forEach(_),o=A(X),c=b(X,"DIV",{class:!0});var ae=y(c);h=b(ae,"DIV",{});var Ne=y(h);v=b(Ne,"LABEL",{});var he=y(v);$=b(he,"INPUT",{type:!0,name:!0}),j=ne(he,`
						Filetype .nc`),he.forEach(_),q=A(Ne),J=b(Ne,"LABEL",{});var Ae=y(J);D=b(Ae,"INPUT",{type:!0,name:!0}),C=ne(Ae,`
						Filetype .nc (clipped)`),Ae.forEach(_),Ne.forEach(_),M=A(ae),U=b(ae,"DIV",{});var pe=y(U);re=b(pe,"LABEL",{});var Fe=y(re);I=b(Fe,"INPUT",{type:!0,name:!0}),Y=ne(Fe,`
						Filetype .dat`),Fe.forEach(_),B=A(pe),N=b(pe,"LABEL",{});var me=y(N);d=b(me,"INPUT",{type:!0,name:!0}),L=ne(me,`
						Filetype .dat (clipped)`),me.forEach(_),pe.forEach(_),F=A(ae),H=b(ae,"DIV",{});var te=y(H);Q=b(te,"LABEL",{});var Ie=y(Q);k=b(Ie,"INPUT",{type:!0,name:!0}),S=ne(Ie,`
						Filetype .tiff`),Ie.forEach(_),te.forEach(_),ae.forEach(_),X.forEach(_),this.h()},h(){u(e,"class","p-2"),u(i,"type","button"),u(i,"class","btn bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u($,"type","radio"),u($,"name","filetype"),$.__value="nc",We($,$.__value),u(D,"type","radio"),u(D,"name","filetype"),D.__value="nc_clipped",We(D,D.__value),u(I,"type","radio"),u(I,"name","filetype"),I.__value="dat",We(I,I.__value),u(d,"type","radio"),u(d,"name","filetype"),d.__value="dat_clipped",We(d,d.__value),u(k,"type","radio"),u(k,"name","filetype"),k.__value="tif",We(k,k.__value),u(c,"class","filetype-selector flex"),u(l,"class","flex gap-x-1 pl-2"),le.p($,D,I,d,k)},m(K,Z){E(K,e,Z);for(let X=0;X<P.length;X+=1)P[X]&&P[X].m(e,null);E(K,t,Z),E(K,l,Z),m(l,i),m(i,r),m(i,f),m(i,a),m(l,o),m(l,c),m(c,h),m(h,v),m(v,$),$.checked=$.__value===n[16],m(v,j),m(h,q),m(h,J),m(J,D),D.checked=D.__value===n[16],m(J,C),m(c,M),m(c,U),m(U,re),m(re,I),I.checked=I.__value===n[16],m(re,Y),m(U,B),m(U,N),m(N,d),d.checked=d.__value===n[16],m(N,L),m(c,F),m(c,H),m(H,Q),m(Q,k),k.checked=k.__value===n[16],m(Q,S),p=!0,G||(R=[oe(i,"click",pl(n[24])),oe($,"change",n[62]),oe($,"change",n[32]),oe(D,"change",n[64]),oe(D,"change",n[32]),oe(I,"change",n[65]),oe(I,"change",n[32]),oe(d,"change",n[66]),oe(d,"change",n[32]),oe(k,"change",n[67]),oe(k,"change",n[32])],G=!0)},p(K,Z){if(Z[0]&369942623){x=Ve(Object.entries(K[2]));let X;for(X=0;X<x.length;X+=1){const ve=Dt(K,x,X);P[X]?(P[X].p(ve,Z),T(P[X],1)):(P[X]=ll(ve),P[X].c(),T(P[X],1),P[X].m(e,null))}for(Ee(),X=x.length;X<P.length;X+=1)De(X);Te()}(!p||Z[0]&8)&&s!==(s=K[3].filter(fl).length+"")&&Be(f,s),Z[0]&65536&&($.checked=$.__value===K[16]),Z[0]&65536&&(D.checked=D.__value===K[16]),Z[0]&65536&&(I.checked=I.__value===K[16]),Z[0]&65536&&(d.checked=d.__value===K[16]),Z[0]&65536&&(k.checked=k.__value===K[16])},i(K){if(!p){for(let Z=0;Z<x.length;Z+=1)T(P[Z]);p=!0}},o(K){P=P.filter(Boolean);for(let Z=0;Z<P.length;Z+=1)V(P[Z]);p=!1},d(K){K&&(_(e),_(t),_(l)),lt(P,K),le.r(),G=!1,bt(R)}}}function dn(n){let e,t;return e=new cl({props:{h:"24px"}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function hn(n){let e,t;return e=new ul({props:{h:"28px",w:"26px"}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function mn(n){let e,t="Hide",l,i;function r(){return n[55](n[90])}return{c(){e=g("button"),e.textContent=t,this.h()},l(s){e=b(s,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ke(e)!=="svelte-nqhp4m"&&(e.textContent=t),this.h()},h(){u(e,"class","ml-5 max-h-[33px] p-1 flex items-center justify-center variant-filled-surface hover:bg-tertiary-900 rounded-md"),u(e,"title","Show metadata and provenance information")},m(s,f){E(s,e,f),l||(i=oe(e,"click",r),l=!0)},p(s,f){n=s},d(s){s&&_(e),l=!1,i()}}}function pn(n){let e,t="Show",l,i;function r(){return n[54](n[90])}return{c(){e=g("button"),e.textContent=t,this.h()},l(s){e=b(s,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ke(e)!=="svelte-1od4l2q"&&(e.textContent=t),this.h()},h(){u(e,"class","ml-5 max-h-[33px] p-1 flex items-center justify-center variant-filled-surface hover:bg-tertiary-900 rounded-md"),u(e,"title","Show metadata and provenance information")},m(s,f){E(s,e,f),l||(i=oe(e,"click",r),l=!0)},p(s,f){n=s},d(s){s&&_(e),l=!1,i()}}}function vn(n){let e,t,l,i,r,s=n[1][n[90].index].filesuffix+"",f,a,o;return l=new Re({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=O(),r=g("div"),f=ie(s),this.h()},l(c){e=b(c,"BUTTON",{class:!0});var h=y(e);t=b(h,"A",{href:!0,class:!0});var v=y(t);ce(l.$$.fragment,v),i=A(v),r=b(v,"DIV",{class:!0});var $=y(r);f=ne($,s),$.forEach(_),v.forEach(_),h.forEach(_),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",a=$e+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat"),u(t,"class","flex"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(c,h){E(c,e,h),m(e,t),ue(l,t,null),m(t,i),m(t,r),m(r,f),o=!0},p(c,h){(!o||h[0]&6)&&s!==(s=c[1][c[90].index].filesuffix+"")&&Be(f,s),(!o||h[0]&70&&a!==(a=$e+"/climate/get_temp_file?name="+c[1][c[90].index].filename+"&type="+c[6]+"&filetype=dat"))&&u(t,"href",a)},i(c){o||(T(l.$$.fragment,c),o=!0)},o(c){V(l.$$.fragment,c),o=!1},d(c){c&&_(e),fe(l)}}}function bn(n){let e,t,l,i,r,s=".nc",f,a,o,c,h,v,$,j,q,J,D;l=new Re({});let C=n[1][n[90].index].nc_clipped_exists&&Qt(n);const M=[kn,wn,gn],U=[];function re(d,L){return d[1][d[90].index].dat_exists?0:d[1][d[90].index].in_limit_conversion?1:2}c=re(n),h=U[c]=M[c](n);let I=n[1][n[90].index].dat_clipped_exists&&Xt(n);const Y=[En,$n,yn],B=[];function N(d,L){return d[1][d[90].index].tif_convertable&&!d[1][d[90].index].tif_exists?0:d[1][d[90].index].tif_exists?1:2}return j=N(n),q=B[j]=Y[j](n),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=O(),r=g("div"),r.textContent=s,a=O(),C&&C.c(),o=O(),h.c(),v=O(),I&&I.c(),$=O(),q.c(),J=de(),this.h()},l(d){e=b(d,"BUTTON",{class:!0});var L=y(e);t=b(L,"A",{href:!0,class:!0,title:!0});var F=y(t);ce(l.$$.fragment,F),i=A(F),r=b(F,"DIV",{class:!0,"data-svelte-h":!0}),ke(r)!=="svelte-1g3y8ic"&&(r.textContent=s),F.forEach(_),L.forEach(_),a=A(d),C&&C.l(d),o=A(d),h.l(d),v=A(d),I&&I.l(d),$=A(d),q.l(d),J=de(),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",f=$e+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=nc"),u(t,"class","flex"),u(t,"title","Download .nc file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center variant-filled-primary hover:bg-tertiary-900 justify-center rounded-md")},m(d,L){E(d,e,L),m(e,t),ue(l,t,null),m(t,i),m(t,r),E(d,a,L),C&&C.m(d,L),E(d,o,L),U[c].m(d,L),E(d,v,L),I&&I.m(d,L),E(d,$,L),B[j].m(d,L),E(d,J,L),D=!0},p(d,L){(!D||L[0]&70&&f!==(f=$e+"/climate/get_temp_file?name="+d[1][d[90].index].filename+"&type="+d[6]+"&filetype=nc"))&&u(t,"href",f),d[1][d[90].index].nc_clipped_exists?C?(C.p(d,L),L[0]&6&&T(C,1)):(C=Qt(d),C.c(),T(C,1),C.m(o.parentNode,o)):C&&(Ee(),V(C,1,1,()=>{C=null}),Te());let F=c;c=re(d),c===F?U[c].p(d,L):(Ee(),V(U[F],1,1,()=>{U[F]=null}),Te(),h=U[c],h?h.p(d,L):(h=U[c]=M[c](d),h.c()),T(h,1),h.m(v.parentNode,v)),d[1][d[90].index].dat_clipped_exists?I?(I.p(d,L),L[0]&6&&T(I,1)):(I=Xt(d),I.c(),T(I,1),I.m($.parentNode,$)):I&&(Ee(),V(I,1,1,()=>{I=null}),Te());let H=j;j=N(d),j===H?B[j].p(d,L):(Ee(),V(B[H],1,1,()=>{B[H]=null}),Te(),q=B[j],q?q.p(d,L):(q=B[j]=Y[j](d),q.c()),T(q,1),q.m(J.parentNode,J))},i(d){D||(T(l.$$.fragment,d),T(C),T(h),T(I),T(q),D=!0)},o(d){V(l.$$.fragment,d),V(C),V(h),V(I),V(q),D=!1},d(d){d&&(_(e),_(a),_(o),_(v),_($),_(J)),fe(l),C&&C.d(d),U[c].d(d),I&&I.d(d),B[j].d(d)}}}function Qt(n){let e,t,l,i,r,s=".nc(c)",f,a;return l=new Re({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=O(),r=g("div"),r.textContent=s,this.h()},l(o){e=b(o,"BUTTON",{class:!0});var c=y(e);t=b(c,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=A(h),r=b(h,"DIV",{class:!0,"data-svelte-h":!0}),ke(r)!=="svelte-1jbdvqs"&&(r.textContent=s),h.forEach(_),c.forEach(_),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",f=$e+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=nc_clipped"),u(t,"class","flex"),u(t,"title","Download clipped .nc file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(o,c){E(o,e,c),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(o,c){(!a||c[0]&70&&f!==(f=$e+"/climate/get_temp_file?name="+o[1][o[90].index].filename+"&type="+o[6]+"&filetype=nc_clipped"))&&u(t,"href",f)},i(o){a||(T(l.$$.fragment,o),a=!0)},o(o){V(l.$$.fragment,o),a=!1},d(o){o&&_(e),fe(l)}}}function gn(n){let e,t="";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-qcdn79"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){E(l,e,i)},p:ee,i:ee,o:ee,d(l){l&&_(e)}}}function wn(n){let e,t,l,i,r=".dat",s,f,a;t=new Re({});function o(){return n[56](n[90])}return{c(){e=g("button"),_e(t.$$.fragment),l=O(),i=g("div"),i.textContent=r,this.h()},l(c){e=b(c,"BUTTON",{class:!0,title:!0});var h=y(e);ce(t.$$.fragment,h),l=A(h),i=b(h,"DIV",{class:!0,"data-svelte-h":!0}),ke(i)!=="svelte-1uzok2n"&&(i.textContent=r),h.forEach(_),this.h()},h(){u(i,"class","ml-1 flex place-items-center justify-items-center"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md"),u(e,"title","Generate .dat file for download")},m(c,h){E(c,e,h),ue(t,e,null),m(e,l),m(e,i),s=!0,f||(a=oe(e,"click",o),f=!0)},p(c,h){n=c},i(c){s||(T(t.$$.fragment,c),s=!0)},o(c){V(t.$$.fragment,c),s=!1},d(c){c&&_(e),fe(t),f=!1,a()}}}function kn(n){let e,t,l,i,r,s=".dat",f,a;return l=new Re({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=O(),r=g("div"),r.textContent=s,this.h()},l(o){e=b(o,"BUTTON",{class:!0});var c=y(e);t=b(c,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=A(h),r=b(h,"DIV",{class:!0,"data-svelte-h":!0}),ke(r)!=="svelte-xhf5go"&&(r.textContent=s),h.forEach(_),c.forEach(_),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",f=$e+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat"),u(t,"class","flex"),u(t,"title","Download .dat file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(o,c){E(o,e,c),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(o,c){(!a||c[0]&70&&f!==(f=$e+"/climate/get_temp_file?name="+o[1][o[90].index].filename+"&type="+o[6]+"&filetype=dat"))&&u(t,"href",f)},i(o){a||(T(l.$$.fragment,o),a=!0)},o(o){V(l.$$.fragment,o),a=!1},d(o){o&&_(e),fe(l)}}}function Xt(n){let e,t,l,i,r,s=".dat(c)",f,a;return l=new Re({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=O(),r=g("div"),r.textContent=s,this.h()},l(o){e=b(o,"BUTTON",{class:!0});var c=y(e);t=b(c,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=A(h),r=b(h,"DIV",{class:!0,"data-svelte-h":!0}),ke(r)!=="svelte-484fei"&&(r.textContent=s),h.forEach(_),c.forEach(_),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",f=$e+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat_clipped"),u(t,"class","flex"),u(t,"title","Download clipped .dat file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(o,c){E(o,e,c),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(o,c){(!a||c[0]&70&&f!==(f=$e+"/climate/get_temp_file?name="+o[1][o[90].index].filename+"&type="+o[6]+"&filetype=dat_clipped"))&&u(t,"href",f)},i(o){a||(T(l.$$.fragment,o),a=!0)},o(o){V(l.$$.fragment,o),a=!1},d(o){o&&_(e),fe(l)}}}function yn(n){let e,t="";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-qcdn79"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){E(l,e,i)},p:ee,i:ee,o:ee,d(l){l&&_(e)}}}function $n(n){let e,t,l,i,r,s=".tif",f,a;return l=new Re({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=O(),r=g("div"),r.textContent=s,this.h()},l(o){e=b(o,"BUTTON",{class:!0});var c=y(e);t=b(c,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=A(h),r=b(h,"DIV",{class:!0,"data-svelte-h":!0}),ke(r)!=="svelte-1jouijs"&&(r.textContent=s),h.forEach(_),c.forEach(_),this.h()},h(){u(r,"class","ml-1 text-white flex place-items-center justify-center"),u(t,"href",f=$e+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=tif"),u(t,"class","flex"),u(t,"title","Download TIFF file"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(o,c){E(o,e,c),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(o,c){(!a||c[0]&70&&f!==(f=$e+"/climate/get_temp_file?name="+o[1][o[90].index].filename+"&type="+o[6]+"&filetype=tif"))&&u(t,"href",f)},i(o){a||(T(l.$$.fragment,o),a=!0)},o(o){V(l.$$.fragment,o),a=!1},d(o){o&&_(e),fe(l)}}}function En(n){let e,t,l,i,r=".tif",s,f,a;t=new Re({});function o(){return n[57](n[90])}return{c(){e=g("button"),_e(t.$$.fragment),l=O(),i=g("div"),i.textContent=r,this.h()},l(c){e=b(c,"BUTTON",{class:!0,title:!0});var h=y(e);ce(t.$$.fragment,h),l=A(h),i=b(h,"DIV",{class:!0,"data-svelte-h":!0}),ke(i)!=="svelte-17agyo6"&&(i.textContent=r),h.forEach(_),this.h()},h(){u(i,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md"),u(e,"title","Generate TIFF file for download (might fail)")},m(c,h){E(c,e,h),ue(t,e,null),m(e,l),m(e,i),s=!0,f||(a=oe(e,"click",o),f=!0)},p(c,h){n=c},i(c){s||(T(t.$$.fragment,c),s=!0)},o(c){V(t.$$.fragment,c),s=!1},d(c){c&&_(e),fe(t),f=!1,a()}}}function xt(n){let e,t,l,i;const r=[Cn,Tn],s=[];function f(a,o){return a[1][a[90].index].tif_convertable?0:1}return e=f(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,o){s[e].m(a,o),E(a,l,o),i=!0},p(a,o){let c=e;e=f(a),e===c?s[e].p(a,o):(Ee(),V(s[c],1,1,()=>{s[c]=null}),Te(),t=s[e],t?t.p(a,o):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){V(t),i=!1},d(a){a&&_(l),s[e].d(a)}}}function Tn(n){let e,t="";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-rfwxo5"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){E(l,e,i)},p:ee,i:ee,o:ee,d(l){l&&_(e)}}}function Cn(n){let e,t,l,i,r="View",s,f,a;t=new Al({});function o(){return n[58](n[90])}return{c(){e=g("button"),_e(t.$$.fragment),l=O(),i=g("div"),i.textContent=r,this.h()},l(c){e=b(c,"BUTTON",{class:!0});var h=y(e);ce(t.$$.fragment,h),l=A(h),i=b(h,"DIV",{class:!0,"data-svelte-h":!0}),ke(i)!=="svelte-4n39fu"&&(i.textContent=r),h.forEach(_),this.h()},h(){u(i,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-primary hover:bg-primary-900 rounded-md")},m(c,h){E(c,e,h),ue(t,e,null),m(e,l),m(e,i),s=!0,f||(a=oe(e,"click",o),f=!0)},p(c,h){n=c},i(c){s||(T(t.$$.fragment,c),s=!0)},o(c){V(t.$$.fragment,c),s=!1},d(c){c&&_(e),fe(t),f=!1,a()}}}function el(n){let e,t;return e=new un({props:{folder_data:n[1],file_obj:n[90],foldertype:n[6]}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i[0]&2&&(r.folder_data=l[1]),i[0]&4&&(r.file_obj=l[90]),i[0]&64&&(r.foldertype=l[6]),e.$set(r)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function tl(n){let e,t,l,i,r,s,f,a=n[1][n[90].index].filename.replace(n[86],"").replace(/^_+/,"")+"",o,c,h,v,$,j,q,J=n[1][n[90].index].filesize+"",D,C,M,U=(n[0]=="internal"?n[1][n[90].index].creation_date:n[1][n[90].index].creation_date.split(" ")[0])+"",re,I,Y,B,N,d,L,F,H,Q,k,S,p,le,G,R,x,P;function De(){n[53].call(i,n[90])}function K(me,te){return me[1][me[90].index].metadata_show?mn:pn}let Z=K(n),X=Z(n);const ve=[bn,vn],ae=[];function Ne(me,te){return me[1][me[90].index].filesuffix==".nc"?0:1}N=Ne(n),d=ae[N]=ve[N](n);let he=n[1][n[90].index].filesuffix==".nc"&&xt(n);function Ae(...me){return n[59](n[90],...me)}let pe=n[1][n[90].index].metadata&&n[1][n[90].index].metadata_show&&el(n);function Fe(...me){return n[60](n[90],...me)}return{c(){e=g("tr"),t=g("td"),l=g("label"),i=g("input"),f=ie(`
												  ... `),o=ie(a),v=O(),$=g("td"),X.c(),j=O(),q=g("td"),D=ie(J),C=O(),M=g("td"),re=ie(U),I=O(),Y=g("td"),B=g("div"),d.c(),L=O(),F=g("td"),he&&he.c(),k=O(),S=g("tr"),p=g("td"),pe&&pe.c(),le=O(),this.h()},l(me){e=b(me,"TR",{class:!0,style:!0});var te=y(e);t=b(te,"TD",{class:!0});var Ie=y(t);l=b(Ie,"LABEL",{for:!0,title:!0});var we=y(l);i=b(we,"INPUT",{type:!0,id:!0}),f=ne(we,`
												  ... `),o=ne(we,a),we.forEach(_),Ie.forEach(_),v=A(te),$=b(te,"TD",{});var Ce=y($);X.l(Ce),Ce.forEach(_),j=A(te),q=b(te,"TD",{});var Qe=y(q);D=ne(Qe,J),Qe.forEach(_),C=A(te),M=b(te,"TD",{});var Ue=y(M);re=ne(Ue,U),Ue.forEach(_),I=A(te),Y=b(te,"TD",{class:!0});var Xe=y(Y);B=b(Xe,"DIV",{class:!0});var xe=y(B);d.l(xe),xe.forEach(_),Xe.forEach(_),L=A(te),F=b(te,"TD",{class:!0});var qe=y(F);he&&he.l(qe),qe.forEach(_),te.forEach(_),k=A(me),S=b(me,"TR",{class:!0});var Le=y(S);p=b(Le,"TD",{colspan:!0,class:!0});var W=y(p);pe&&pe.l(W),W.forEach(_),le=A(Le),Le.forEach(_),this.h()},h(){u(i,"type","checkbox"),i.__value=r=n[90].index,We(i,i.__value),u(i,"id",s="checkbox_"+n[90].index),u(l,"for",c="checkbox_"+n[90].index),u(l,"title",h="Select for download: "+n[1][n[90].index].filename),u(t,"class","col-span-7 w-full break-all pl-1"),u(B,"class","flex"),u(Y,"class","min-w-[122px]"),u(F,"class","min-w-[86px] max-w-[86px]"),u(e,"class",H="hover:bg-slate-400 "+([n[13].toLowerCase(),n[14],n[15]].every(Ae)?"visible":"hidden")),u(e,"style",Q=n[4]&&!n[1][n[90].index].in_limit_conversion&&n[3][n[90].index]?"background: #000000":""),u(p,"colspan","7"),u(p,"class","p-2"),u(S,"class",G=[n[13].toLowerCase(),n[14],n[15]].every(Fe)?"visible":"hidden")},m(me,te){E(me,e,te),m(e,t),m(t,l),m(l,i),i.checked=n[3][n[90].index],m(l,f),m(l,o),m(e,v),m(e,$),X.m($,null),m(e,j),m(e,q),m(q,D),m(e,C),m(e,M),m(M,re),m(e,I),m(e,Y),m(Y,B),ae[N].m(B,null),m(e,L),m(e,F),he&&he.m(F,null),E(me,k,te),E(me,S,te),m(S,p),pe&&pe.m(p,null),m(S,le),R=!0,x||(P=[oe(i,"change",De),oe(i,"change",n[19])],x=!0)},p(me,te){n=me,(!R||te[0]&4&&r!==(r=n[90].index))&&(i.__value=r,We(i,i.__value)),(!R||te[0]&4&&s!==(s="checkbox_"+n[90].index))&&u(i,"id",s),te[0]&12&&(i.checked=n[3][n[90].index]),(!R||te[0]&6)&&a!==(a=n[1][n[90].index].filename.replace(n[86],"").replace(/^_+/,"")+"")&&Be(o,a),(!R||te[0]&4&&c!==(c="checkbox_"+n[90].index))&&u(l,"for",c),(!R||te[0]&6&&h!==(h="Select for download: "+n[1][n[90].index].filename))&&u(l,"title",h),Z===(Z=K(n))&&X?X.p(n,te):(X.d(1),X=Z(n),X&&(X.c(),X.m($,null))),(!R||te[0]&6)&&J!==(J=n[1][n[90].index].filesize+"")&&Be(D,J),(!R||te[0]&7)&&U!==(U=(n[0]=="internal"?n[1][n[90].index].creation_date:n[1][n[90].index].creation_date.split(" ")[0])+"")&&Be(re,U);let Ie=N;N=Ne(n),N===Ie?ae[N].p(n,te):(Ee(),V(ae[Ie],1,1,()=>{ae[Ie]=null}),Te(),d=ae[N],d?d.p(n,te):(d=ae[N]=ve[N](n),d.c()),T(d,1),d.m(B,null)),n[1][n[90].index].filesuffix==".nc"?he?(he.p(n,te),te[0]&6&&T(he,1)):(he=xt(n),he.c(),T(he,1),he.m(F,null)):he&&(Ee(),V(he,1,1,()=>{he=null}),Te()),(!R||te[0]&57350&&H!==(H="hover:bg-slate-400 "+([n[13].toLowerCase(),n[14],n[15]].every(Ae)?"visible":"hidden")))&&u(e,"class",H),(!R||te[0]&30&&Q!==(Q=n[4]&&!n[1][n[90].index].in_limit_conversion&&n[3][n[90].index]?"background: #000000":""))&&u(e,"style",Q),n[1][n[90].index].metadata&&n[1][n[90].index].metadata_show?pe?(pe.p(n,te),te[0]&6&&T(pe,1)):(pe=el(n),pe.c(),T(pe,1),pe.m(p,null)):pe&&(Ee(),V(pe,1,1,()=>{pe=null}),Te()),(!R||te[0]&57350&&G!==(G=[n[13].toLowerCase(),n[14],n[15]].every(Fe)?"visible":"hidden"))&&u(S,"class",G)},i(me){R||(T(d),T(he),T(pe),R=!0)},o(me){V(d),V(he),V(pe),R=!1},d(me){me&&(_(e),_(k),_(S)),X.d(),ae[N].d(),he&&he.d(),pe&&pe.d(),x=!1,bt(P)}}}function ll(n){let e,t,l,i,r,s,f,a,o=n[86]+"",c,h,v=n[87].files.filter(n[51]).length+"",$,j,q,J,D,C,M='<tr><th class="text-left">Filename</th> <th class="text-left min-w-[80px] max-w-[80px]">Metadata</th> <th class="text-left min-w-[80px] max-w-[80px]">Filesize</th> <th class="text-left min-w-[140px] max-w-[140px]">Last modified</th> <th class="text-left min-w-[122px] max-w-[122px]">Download Link</th> <th class="text-left min-w-[86px] max-w-[86px]">Visualize</th></tr>',U,re,I,Y,B,N,d,L;const F=[hn,dn],H=[];function Q(G,R){return G[87].toggled?0:1}r=Q(n),s=H[r]=F[r](n);function k(){return n[52](n[86])}let S=Ve(n[87].files),p=[];for(let G=0;G<S.length;G+=1)p[G]=tl(It(n,S,G));const le=G=>V(p[G],1,1,()=>{p[G]=null});return{c(){e=g("div"),t=g("div"),l=g("button"),i=g("div"),s.c(),f=O(),a=g("h2"),c=ie(o),h=ie(" ("),$=ie(v),j=ie(")"),q=O(),J=g("div"),D=g("table"),C=g("thead"),C.innerHTML=M,U=O(),re=g("tbody");for(let G=0;G<p.length;G+=1)p[G].c();Y=O(),this.h()},l(G){e=b(G,"DIV",{class:!0});var R=y(e);t=b(R,"DIV",{class:!0});var x=y(t);l=b(x,"BUTTON",{class:!0});var P=y(l);i=b(P,"DIV",{class:!0});var De=y(i);s.l(De),De.forEach(_),f=A(P),a=b(P,"H2",{class:!0});var K=y(a);c=ne(K,o),h=ne(K," ("),$=ne(K,v),j=ne(K,")"),K.forEach(_),P.forEach(_),x.forEach(_),q=A(R),J=b(R,"DIV",{class:!0});var Z=y(J);D=b(Z,"TABLE",{class:!0});var X=y(D);C=b(X,"THEAD",{"data-svelte-h":!0}),ke(C)!=="svelte-6vbf8e"&&(C.innerHTML=M),U=A(X),re=b(X,"TBODY",{});var ve=y(re);for(let ae=0;ae<p.length;ae+=1)p[ae].l(ve);ve.forEach(_),X.forEach(_),Z.forEach(_),Y=A(R),R.forEach(_),this.h()},h(){u(i,"class","flex-center w-[18px] h-[28px]"),u(a,"class","text-xl ml-2"),u(l,"class","w-full flex items-left"),u(t,"class","w-full h-[36px] flex items-center rounded-md pl-3 "+(n[89]%2==0?"bg-emerald-700":"bg-emerald-900")+" mb-1"),u(D,"class","table-fixed mb-1"),u(J,"class",I=n[87].toggled?"visible":"hidden"),u(e,"class",B=n[87].files.filter(n[61]).length>0?"visible":"hidden")},m(G,R){E(G,e,R),m(e,t),m(t,l),m(l,i),H[r].m(i,null),m(l,f),m(l,a),m(a,c),m(a,h),m(a,$),m(a,j),m(e,q),m(e,J),m(J,D),m(D,C),m(D,U),m(D,re);for(let x=0;x<p.length;x+=1)p[x]&&p[x].m(re,null);m(e,Y),N=!0,d||(L=oe(l,"click",k),d=!0)},p(G,R){n=G;let x=r;if(r=Q(n),r!==x&&(Ee(),V(H[x],1,1,()=>{H[x]=null}),Te(),s=H[r],s||(s=H[r]=F[r](n),s.c()),T(s,1),s.m(i,null)),(!N||R[0]&4)&&o!==(o=n[86]+"")&&Be(c,o),(!N||R[0]&57348)&&v!==(v=n[87].files.filter(n[51]).length+"")&&Be($,v),R[0]&101507167){S=Ve(n[87].files);let P;for(P=0;P<S.length;P+=1){const De=It(n,S,P);p[P]?(p[P].p(De,R),T(p[P],1)):(p[P]=tl(De),p[P].c(),T(p[P],1),p[P].m(re,null))}for(Ee(),P=S.length;P<p.length;P+=1)le(P);Te()}(!N||R[0]&4&&I!==(I=n[87].toggled?"visible":"hidden"))&&u(J,"class",I),(!N||R[0]&57348&&B!==(B=n[87].files.filter(n[61]).length>0?"visible":"hidden"))&&u(e,"class",B)},i(G){if(!N){T(s);for(let R=0;R<S.length;R+=1)T(p[R]);N=!0}},o(G){V(s),p=p.filter(Boolean);for(let R=0;R<p.length;R+=1)V(p[R]);N=!1},d(G){G&&_(e),H[r].d(),lt(p,G),d=!1,L()}}}function Dn(n){return{c:ee,l:ee,m:ee,p:ee,d:ee}}function In(n){let e,t,l,i,r="<span>To download all selected files using Wget:</span>",s,f,a,o=n[5]>0&&nl(n);return{c(){e=g("div"),t=g("div"),o&&o.c(),l=O(),i=g("div"),i.innerHTML=r,s=O(),f=g("div"),a=ie(n[17]),this.h()},l(c){e=b(c,"DIV",{style:!0});var h=y(e);t=b(h,"DIV",{class:!0});var v=y(t);o&&o.l(v),l=A(v),i=b(v,"DIV",{class:!0,"data-svelte-h":!0}),ke(i)!=="svelte-7lv1vm"&&(i.innerHTML=r),s=A(v),f=b(v,"DIV",{class:!0});var $=y(f);a=ne($,n[17]),$.forEach(_),v.forEach(_),h.forEach(_),this.h()},h(){u(i,"class","mb-2"),u(f,"class","p-[3px] bg-surface-900 [word-spacing:6px]"),u(t,"class","bg-surface-700 border-2 rounded-md p-4 m-2"),nt(e,"display","flex")},m(c,h){E(c,e,h),m(e,t),o&&o.m(t,null),m(t,l),m(t,i),m(t,s),m(t,f),m(f,a)},p(c,h){c[5]>0?o?o.p(c,h):(o=nl(c),o.c(),o.m(t,l)):o&&(o.d(1),o=null),h[0]&131072&&Be(a,c[17])},d(c){c&&_(e),o&&o.d()}}}function nl(n){let e,t,l;return{c(){e=ie("("),t=ie(n[5]),l=ie(`) of your selected files were too big and are thus dropped from the
					download.`)},l(i){e=ne(i,"("),t=ne(i,n[5]),l=ne(i,`) of your selected files were too big and are thus dropped from the
					download.`)},m(i,r){E(i,e,r),E(i,t,r),E(i,l,r)},p(i,r){r[0]&32&&Be(t,i[5])},d(i){i&&(_(e),_(t),_(l))}}}function Ln(n){let e,t,l,i="Available Collections",r,s,f,a,o,c=`The Climate Services Gateway (CSG) is a platform that provides access to high resolution climate
		projections and analysis ready data for the southern African region. The Gateway development is
		still ongoing as well as the processing of datasets. Here you can explore the available
		collections of datasets by model family or region.<br/> <br/>Please report issues and feedback
		<span class="text-bold underline"><a href="https://github.com/TIPPECC/tippecc.github.io/issues" target="_blank">here</a></span>.`,h,v,$,j,q,J,D,C,M,U,re,I,Y,B,N,d,L,F,H,Q,k,S,p,le,G,R,x,P,De,K,Z,X,ve,ae,Ne,he,Ae,pe;f=new Bl({});function Fe(W){n[33](W)}function me(W){n[34](W)}function te(W){n[35](W)}let Ie={};n[6]!==void 0&&(Ie.foldertype=n[6]),n[7]!==void 0&&(Ie.filter=n[7]),n[0]!==void 0&&(Ie.filter_by_status=n[0]),v=new kl({props:Ie}),Se.push(()=>ze(v,"foldertype",Fe)),Se.push(()=>ze(v,"filter",me)),Se.push(()=>ze(v,"filter_by_status",te)),v.$on("foldertype_changed",n[36]);let we=n[0]=="internal"&&At(n),Ce=n[8].length>0&&Ot(n);N=new cl({}),Q=new ul({}),G=new zl({}),K=new Hl({});const Qe=[_n,cn],Ue=[];function Xe(W,se){return W[1].length>0?0:1}ve=Xe(n),ae=Ue[ve]=Qe[ve](n);function xe(W,se){return W[17].length>0?In:Dn}let qe=xe(n),Le=qe(n);return{c(){e=g("div"),t=g("div"),l=g("h1"),l.textContent=i,r=O(),s=g("div"),_e(f.$$.fragment),a=O(),o=g("div"),o.innerHTML=c,h=O(),_e(v.$$.fragment),J=O(),we&&we.c(),D=O(),C=g("div"),M=g("input"),U=O(),Ce&&Ce.c(),re=O(),I=g("div"),Y=g("div"),B=g("button"),_e(N.$$.fragment),d=ie("   Expand All"),L=O(),F=g("div"),H=g("button"),_e(Q.$$.fragment),k=ie("   Close All"),S=O(),p=g("div"),le=g("button"),_e(G.$$.fragment),R=ie("   Select All"),x=O(),P=g("div"),De=g("button"),_e(K.$$.fragment),Z=ie("   Unselect All"),X=O(),ae.c(),Ne=O(),Le.c(),this.h()},l(W){e=b(W,"DIV",{class:!0});var se=y(e);t=b(se,"DIV",{class:!0});var Me=y(t);l=b(Me,"H1",{class:!0,"data-svelte-h":!0}),ke(l)!=="svelte-1fwzelh"&&(l.textContent=i),r=A(Me),s=b(Me,"DIV",{class:!0});var Ke=y(s);ce(f.$$.fragment,Ke),Ke.forEach(_),Me.forEach(_),a=A(se),o=b(se,"DIV",{class:!0,"data-svelte-h":!0}),ke(o)!=="svelte-126b7zc"&&(o.innerHTML=c),h=A(se),ce(v.$$.fragment,se),J=A(se),we&&we.l(se),D=A(se),C=b(se,"DIV",{class:!0});var ut=y(C);M=b(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),ut.forEach(_),U=A(se),Ce&&Ce.l(se),re=A(se),I=b(se,"DIV",{class:!0});var He=y(I);Y=b(He,"DIV",{});var ct=y(Y);B=b(ct,"BUTTON",{class:!0});var it=y(B);ce(N.$$.fragment,it),d=ne(it,"   Expand All"),it.forEach(_),ct.forEach(_),L=A(He),F=b(He,"DIV",{});var _t=y(F);H=b(_t,"BUTTON",{class:!0});var rt=y(H);ce(Q.$$.fragment,rt),k=ne(rt,"   Close All"),rt.forEach(_),_t.forEach(_),S=A(He),p=b(He,"DIV",{});var dt=y(p);le=b(dt,"BUTTON",{class:!0});var at=y(le);ce(G.$$.fragment,at),R=ne(at,"   Select All"),at.forEach(_),dt.forEach(_),x=A(He),P=b(He,"DIV",{});var ht=y(P);De=b(ht,"BUTTON",{class:!0});var st=y(De);ce(K.$$.fragment,st),Z=ne(st,"   Unselect All"),st.forEach(_),ht.forEach(_),He.forEach(_),X=A(se),ae.l(se),Ne=A(se),Le.l(se),se.forEach(_),this.h()},h(){u(l,"class","content-heading"),u(s,"class","flex-center"),u(t,"class","flex"),u(o,"class","p-2 mb-2 ml-2"),u(M,"class","input w-full mt-4 p-2 rounded-md placeholder-gray-200"),u(M,"type","text"),u(M,"placeholder","Type to filter filenames..."),u(C,"class","p-2"),u(B,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(H,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(le,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(De,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(I,"class","flex gap-4 mt-2 p-2"),u(e,"class","content-div")},m(W,se){E(W,e,se),m(e,t),m(t,l),m(t,r),m(t,s),ue(f,s,null),m(e,a),m(e,o),m(e,h),ue(v,e,null),m(e,J),we&&we.m(e,null),m(e,D),m(e,C),m(C,M),We(M,n[13]),m(e,U),Ce&&Ce.m(e,null),m(e,re),m(e,I),m(I,Y),m(Y,B),ue(N,B,null),m(B,d),m(I,L),m(I,F),m(F,H),ue(Q,H,null),m(H,k),m(I,S),m(I,p),m(p,le),ue(G,le,null),m(le,R),m(I,x),m(I,P),m(P,De),ue(K,De,null),m(De,Z),m(e,X),Ue[ve].m(e,null),m(e,Ne),Le.m(e,null),he=!0,Ae||(pe=[oe(M,"input",n[38]),oe(B,"click",n[47]),oe(H,"click",n[48]),oe(le,"click",n[49]),oe(De,"click",n[50])],Ae=!0)},p(W,se){const Me={};!$&&se[0]&64&&($=!0,Me.foldertype=W[6],Pe(()=>$=!1)),!j&&se[0]&128&&(j=!0,Me.filter=W[7],Pe(()=>j=!1)),!q&&se[0]&1&&(q=!0,Me.filter_by_status=W[0],Pe(()=>q=!1)),v.$set(Me),W[0]=="internal"?we?we.p(W,se):(we=At(W),we.c(),we.m(e,D)):we&&(we.d(1),we=null),se[0]&8192&&M.value!==W[13]&&We(M,W[13]),W[8].length>0?Ce?Ce.p(W,se):(Ce=Ot(W),Ce.c(),Ce.m(e,re)):Ce&&(Ce.d(1),Ce=null);let Ke=ve;ve=Xe(W),ve===Ke?Ue[ve].p(W,se):(Ee(),V(Ue[Ke],1,1,()=>{Ue[Ke]=null}),Te(),ae=Ue[ve],ae?ae.p(W,se):(ae=Ue[ve]=Qe[ve](W),ae.c()),T(ae,1),ae.m(e,Ne)),qe===(qe=xe(W))&&Le?Le.p(W,se):(Le.d(1),Le=qe(W),Le&&(Le.c(),Le.m(e,null)))},i(W){he||(T(f.$$.fragment,W),T(v.$$.fragment,W),T(N.$$.fragment,W),T(Q.$$.fragment,W),T(G.$$.fragment,W),T(K.$$.fragment,W),T(ae),he=!0)},o(W){V(f.$$.fragment,W),V(v.$$.fragment,W),V(N.$$.fragment,W),V(Q.$$.fragment,W),V(G.$$.fragment,W),V(K.$$.fragment,W),V(ae),he=!1},d(W){W&&_(e),fe(f),fe(v),we&&we.d(),Ce&&Ce.d(),fe(N),fe(Q),fe(G),fe(K),Ue[ve].d(),Le.d(),Ae=!1,bt(pe)}}}async function vt({url:n,key:e,folder_data:t,file_obj:l}){const i=await fetch(n);t[l.index][e]=i.ok?await i.json():{[`currently no ${e} available`]:"for this file"},t[l.index][`${e}_exists`]=i.ok}function Nn(n){const e=document.getElementById("checkbox_"+n);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}function il(n){const e={ai:"Aridity Index",evspsblpot:"PET",evspsbl:"Actual Evaporation",pr:"Precipitation",tas:"Air Temp",tasmax:"Max Air Temp",tasmin:"Min Air Temp",sfcWind:"Wind Speed",water_budget:"Water Budget",kbdi:"KBDI",hurs:"Rel. Humidity",rlds:"D. Long Rad.",rsds:"D. Short Rad.",rsus:"Up Short Rad.",rlus:"Up Long Rad.",spi:"SPI",spei:"SPEI"};for(const[t,l]of Object.entries(e))if(n==t)return n.replace(t,l);return n}const rl=n=>n.show=="true",al=n=>n.show=="true",sl=n=>n.show=="true",ol=n=>n.show=="true",fl=n=>n==!0;function Vn(n,e,t){let l,{filter_by_status:i=""}=e;console.log("Status: ",i);let r=[],s={},f=[],a=!1,o=0,c=1,h="CMIP6_raw",v="",$="",j=[],q=[{time:"1981_2000-2080_2099",show:"false"}],J=[{time:"1981_2000",show:"false"},{time:"2021_2040",show:"false"},{time:"2041_2060",show:"false"},{time:"2080_2099",show:"false"}],D=[{time:"1981_2010",show:"false"},{time:"2011_2040",show:"false"},{time:"2071_2099",show:"false"}],C=[{time:"yearly",show:"false"},{time:"seasonal",show:"false"},{time:"monthly",show:"false"}];gt(()=>{yl.subscribe(w=>{})}),gt(()=>{Q(!1)});async function M(w,z){var be=$e+"/climate/generate_dat_file?name="+w+"&type="+h;console.log(be);const ye=await fetch(be,{method:"GET"});if(ye.ok)t(1,r[z].dat_exists=!0,r),t(1,r=[...r]);else{t(1,r[z].dat_exists=!1,r),t(1,r=[...r]);var ge=await ye.text();throw new Error(`${ye.status} ${ye.statusText}
Reason: ${ge}`)}}let U="";function re(w){t(17,l="")}function I(){for(var w=0;w<f.length;w++)r[w].filename.toLowerCase().includes(U.toLowerCase())&&(r[w].filename.includes(p)||p=="_")&&(r[w].filename.includes(G)||G=="_")&&t(3,f[w]=!0,f)}function Y(){for(var w=0;w<f.length;w++)t(3,f[w]=!1,f)}function B(){for(const[w,z]of Object.entries(s))t(2,s[w].toggled=!0,s)}function N(){for(const[w,z]of Object.entries(s))t(2,s[w].toggled=!1,s)}async function d(){const w=$e+"/climate/select_temp_urls?type="+h;let z=[];t(5,o=0);for(let ge=0;ge<f.length;ge++)if(f[ge]){r[ge].filesuffix,r[ge].filename.split(".").pop();var be=r[ge].filename;z.push([be,Z])}try{const ge=await fetch(w,{method:"POST",body:JSON.stringify(z)});let Ge=[];if(!ge.ok){var ye=await ge.text();throw new Error(`${ge.status} ${ge.statusText}
Reason: ${ye}`)}Ge=await ge.json(),t(17,l=Ge["wget-command"])}catch(ge){console.log(ge)}}async function L(w,z,be,ye=0){console.log("get_metadata_and_prov",w,z,be),t(1,r[be.index].tabset=ye,r),await Promise.all([vt({url:$e+"/climate/get_temp_file?name="+w+"&type="+z+"&filetype=meta",key:"metadata",folder_data:r,file_obj:be}),vt({url:$e+"/climate/get_temp_file?name="+w+"&type="+z+"&filetype=prov",key:"metadata_prov",folder_data:r,file_obj:be}),vt({url:$e+"/climate/get_temp_file?name="+w+"&type="+z+"&filetype=prov_stats",key:"metadata_prov_stats",folder_data:r,file_obj:be})]),t(1,r[be.index].metadata_show=!0,r),history.pushState({},"","?type="+z+"&filename="+w),t(1,r=[...r])}async function F(w,z){var be=$e+"/climate/access_tif?type="+h+"&name="+w;const ye=await fetch(be,{method:"GET"});if(ye.ok)t(1,r[z].tif_exists=!0,r),t(1,r=[...r]);else{t(1,r[z].tif_exists=!1,r),t(1,r[z].tif_convertable=!1,r),t(1,r=[...r]);var ge=await ye.text();throw new Error(`${ye.status} ${ye.statusText}
Reason: ${ge}`)}}function H(){let w=/(^(.+)_v(\d+)_([^_]+))|^((.+)_day_([^_]+)|^(.+))/;const z=El.find(ge=>ge.key==h);z&&z.header_regex.length>2&&(w=new RegExp(z.header_regex.replace(/\\/g,"\\"))),console.log("filePattern: ",w),t(2,s={});let be={};t(8,j=[]),be["No Category"]={files:[],toggled:!1},P(),K();for(let ge=0;ge<r.length;ge++){var ye=r[ge].filename;const Ge=ye.match(w);if(x(ye),De(ye),Ge&&Ge.length>=3){const et=Ge[0],tt=/^(_*[^_]*_[^_]+)/g;let mt=ye.replace(Ge[0],"").replace(".nc","").match(tt),ot="";mt&&(ot=mt[0].replace(/_\d{4}/g,"").replace(/^_+/,"").replace("_Afr",""),j.includes(ot)||j.push(ot)),be[et]||(be[et]={files:[],toggled:!1}),be[et].files.push({filename:ye,index:ge})}else be["No Category"].files.push({filename:ye,index:ge})}if(be["No Category"].files.length==0&&delete be["No Category"],t(2,s=be),t(8,j=[...j]),v.length>0)for(const[ge,Ge]of Object.entries(s)){const et=Ge.files.find(tt=>tt.filename===v);if(console.log("found",et),et){t(2,s[ge].toggled=!0,s);const tt=r.findIndex(ot=>ot.filename===v),mt=r[tt];console.log("found file in folder_data",mt),L(r[tt].filename,h,et,0),c=tt;break}}}async function Q(w=!1){t(1,r={}),t(8,j=[]),t(13,U="");try{if(w)var z=await gl(h,!1);else var z=await wl(h,!1);t(1,r=z.content),r.sort((be,ye)=>be.filename.replace(".nc","").localeCompare(ye.filename.replace(".nc",""))),H(),t(3,f=r.map(()=>!1)),Nl&&history.pushState({},"","?type="+h+"&filename="+v)}catch{console.log("Refreshing folder content failed.")}finally{setTimeout(()=>{Nn(c),c=1},500)}}function k(w){t(2,s[w].toggled=!s[w].toggled,s)}function S(w){t(13,U=w)}let p="_";function le(w){t(14,p=w)}let G="_";function R(w){t(15,G=w)}function x(w){for(let z=0;z<q.length;z++)w.includes(q[z].time)&&t(9,q[z].show="true",q);for(let z=0;z<J.length;z++)w.includes(J[z].time)&&t(10,J[z].show="true",J);for(let z=0;z<D.length;z++)w.includes(D[z].time)&&t(11,D[z].show="true",D)}function P(){for(let w=0;w<q.length;w++)t(9,q[w].show="false",q);for(let w=0;w<J.length;w++)t(10,J[w].show="false",J);for(let w=0;w<D.length;w++)t(11,D[w].show="false",D);t(14,p="_")}function De(w){for(let z=0;z<C.length;z++)w.includes(C[z].time)&&t(12,C[z].show="true",C)}function K(){for(let w=0;w<C.length;w++)t(12,C[w].show="false",C)}let Z="nc";function X(w){t(16,Z=w.target.value)}const ve=[[]];function ae(w){h=w,t(6,h)}function Ne(w){$=w,t(7,$)}function he(w){i=w,t(0,i)}const Ae=()=>Q(!1),pe=()=>Q(!0);function Fe(){U=this.value,t(13,U)}const me=w=>le(w.time),te=()=>le("20y"),Ie=w=>le(w.time),we=()=>le("30y"),Ce=w=>le(w.time),Qe=()=>le("_"),Ue=w=>R(w.time),Xe=()=>R("_"),xe=()=>B(),qe=()=>N(),Le=()=>I(),W=()=>Y(),se=w=>[U.toLowerCase(),p,G].every(z=>w.filename.toLowerCase().includes(z)),Me=w=>k(w);function Ke(w){f[w.index]=this.checked,t(3,f)}const ut=w=>L(r[w.index].filename,h,w),He=w=>t(1,r[w.index].metadata_show=!1,r),ct=w=>M(r[w.index].filename,w.index),it=w=>F(r[w.index].filename,w.index),_t=w=>L(r[w.index].filename,h,w,4),rt=(w,z)=>r[w.index].filename.toLowerCase().includes(z),dt=(w,z)=>r[w.index].filename.toLowerCase().includes(z),at=w=>[U.toLowerCase(),p,G].every(z=>w.filename.toLowerCase().includes(z));function ht(){Z=this.__value,t(16,Z)}function st(){Z=this.__value,t(16,Z)}function _l(){Z=this.__value,t(16,Z)}function dl(){Z=this.__value,t(16,Z)}function hl(){Z=this.__value,t(16,Z)}n.$$set=w=>{"filter_by_status"in w&&t(0,i=w.filter_by_status)},t(17,l="");{const w=new URLSearchParams(window.location.search),z=w.get("type");z&&t(6,h=z);const be=w.get("filename");be&&(v=be)}return[i,r,s,f,a,o,h,$,j,q,J,D,C,U,p,G,Z,l,M,re,I,Y,B,N,d,L,F,Q,k,S,le,R,X,ae,Ne,he,Ae,pe,Fe,me,te,Ie,we,Ce,Qe,Ue,Xe,xe,qe,Le,W,se,Me,Ke,ut,He,ct,it,_t,rt,dt,at,ht,ve,st,_l,dl,hl]}class Fn extends Ye{constructor(e){super(),Ze(this,e,Vn,Ln,Je,{filter_by_status:0},null,[-1,-1,-1,-1])}}export{Fn as C};
