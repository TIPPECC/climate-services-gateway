import{s as We,n as le,d as _,i as C,b as h,l as u,G as Ae,e as $,H as Oe,c as v,h as g,E as Me,I as Se,u as et,g as M,f as ie,j as S,t as re,v as de,m as be,r as mt,y as Ge,q as fe,z as pt,o as xe,x as hl,a as Ve,Z as ml,M as pl}from"./BxLJEKiw.js";import{S as Je,i as Ke,d as oe,t as N,a as T,m as ue,c as ce,b as _e,f as Pe,g as ye,e as $e}from"./C51hC2gC.js";import{e as Ne}from"./D6YF6ztN.js";import{A as ke}from"./BO6XNHuD.js";import{T as vl,z as gl,_ as bl}from"./BSadkx3U.js";import{F as wl,t as kl,L as yl,f as $l}from"./C8G9Gale.js";import"./DSWisMHw.js";import{T as El,a as at,D as Re,P as dt,C as Tl,M as Cl,b as Dl}from"./DSLGdCbZ.js";import"./D6iI9jZ6.js";const Il=!0,Ll=Il;function Nl(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,height:!0,width:!0});var i=$(e);t=Ae(i,"path",{d:!0}),$(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32l0 96L0 384c0 35.3 28.7 64 64 64l192 0 0-64L64 384l0-224 192 0 0-64L64 96l0-64zM288 192c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4L409.4 9.4c-6-6-14.1-9.4-22.6-9.4L320 0c-17.7 0-32 14.3-32 32l0 160zm0 288c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4l-13.3-13.3c-6-6-14.1-9.4-22.6-9.4L320 288c-17.7 0-32 14.3-32 32l0 160z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 576 512"),u(e,"height","40px"),u(e,"width","36px")},m(l,i){C(l,e,i),h(e,t)},p:le,i:le,o:le,d(l){l&&_(e)}}}class Vl extends Je{constructor(e){super(),Ke(this,e,null,Nl,We,{})}}function Bl(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=$(e);t=Ae(i,"path",{d:!0}),$(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5l0 39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9l0 39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7l0-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1L257 256c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 512 512"),u(e,"width","24")},m(l,i){C(l,e,i),h(e,t)},p:le,i:le,o:le,d(l){l&&_(e)}}}class Ul extends Je{constructor(e){super(),Ke(this,e,null,Bl,We,{})}}function Al(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var i=$(e);t=Ae(i,"path",{d:!0}),$(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),u(e,"class","pb-1 fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 320 512"),u(e,"width",n[1]),u(e,"height",n[0])},m(l,i){C(l,e,i),h(e,t)},p(l,[i]){i&2&&u(e,"width",l[1]),i&1&&u(e,"height",l[0])},i:le,o:le,d(l){l&&_(e)}}}function Ol(n,e,t){let{h:l="32px"}=e,{w:i="18px"}=e;return n.$$set=r=>{"h"in r&&t(0,l=r.h),"w"in r&&t(1,i=r.w)},[l,i]}class al extends Je{constructor(e){super(),Ke(this,e,Ol,Al,We,{h:0,w:1})}}function jl(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var i=$(e);t=Ae(i,"path",{d:!0}),$(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 256 512"),u(e,"width",n[0]),u(e,"height",n[1])},m(l,i){C(l,e,i),h(e,t)},p(l,[i]){i&1&&u(e,"width",l[0]),i&2&&u(e,"height",l[1])},i:le,o:le,d(l){l&&_(e)}}}function Ml(n,e,t){let{w:l="14px"}=e,{h:i="28px"}=e;return n.$$set=r=>{"w"in r&&t(0,l=r.w),"h"in r&&t(1,i=r.h)},[l,i]}class sl extends Je{constructor(e){super(),Ke(this,e,Ml,jl,We,{w:0,h:1})}}function Sl(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=$(e);t=Ae(i,"path",{d:!0}),$(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","19")},m(l,i){C(l,e,i),h(e,t)},p:le,i:le,o:le,d(l){l&&_(e)}}}class Pl extends Je{constructor(e){super(),Ke(this,e,null,Sl,We,{})}}function zl(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=$(e);t=Ae(i,"path",{d:!0}),$(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"d","M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","18")},m(l,i){C(l,e,i),h(e,t)},p:le,i:le,o:le,d(l){l&&_(e)}}}class Fl extends Je{constructor(e){super(),Ke(this,e,null,zl,We,{})}}function Rl(n){let e,t="Metadata";return{c(){e=g("span"),e.textContent=t},l(l){e=v(l,"SPAN",{"data-svelte-h":!0}),be(e)!=="svelte-myby7z"&&(e.textContent=t)},m(l,i){C(l,e,i)},p:le,d(l){l&&_(e)}}}function Hl(n){let e;return{c(){e=re("Related Datasets")},l(t){e=ie(t,"Related Datasets")},m(t,l){C(t,e,l)},d(t){t&&_(e)}}}function ql(n){let e;return{c(){e=re("Provenance")},l(t){e=ie(t,"Provenance")},m(t,l){C(t,e,l)},d(t){t&&_(e)}}}function Gl(n){let e;return{c(){e=re("Citation")},l(t){e=ie(t,"Citation")},m(t,l){C(t,e,l)},d(t){t&&_(e)}}}function vt(n){let e,t,l;function i(s){n[13](s)}let r={name:"tab4",value:4,$$slots:{default:[Wl]},$$scope:{ctx:n}};return n[3]!==void 0&&(r.group=n[3]),e=new at({props:r}),Me.push(()=>Pe(e,"group",i)),{c(){_e(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,o){ue(e,s,o),l=!0},p(s,o){const a={};o&16384&&(a.$$scope={dirty:o,ctx:s}),!t&&o&8&&(t=!0,a.group=s[3],Se(()=>t=!1)),e.$set(a)},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){N(e.$$.fragment,s),l=!1},d(s){oe(e,s)}}}function Wl(n){let e;return{c(){e=re("Map")},l(t){e=ie(t,"Map")},m(t,l){C(t,e,l)},d(t){t&&_(e)}}}function Jl(n){let e,t,l,i,r,s,o,a,f,c,d,b,E,A,j,F,I,D;function P(k){n[9](k)}let U={name:"tab1",value:0,$$slots:{default:[Rl]},$$scope:{ctx:n}};n[3]!==void 0&&(U.group=n[3]),e=new at({props:U}),Me.push(()=>Pe(e,"group",P));function ne(k){n[10](k)}let L={name:"tab1",value:1,$$slots:{default:[Hl]},$$scope:{ctx:n}};n[3]!==void 0&&(L.group=n[3]),i=new at({props:L}),Me.push(()=>Pe(i,"group",ne));function x(k){n[11](k)}let te={name:"tab2",value:2,$$slots:{default:[ql]},$$scope:{ctx:n}};n[3]!==void 0&&(te.group=n[3]),o=new at({props:te}),Me.push(()=>Pe(o,"group",x));function z(k){n[12](k)}let p={name:"tab3",value:3,$$slots:{default:[Gl]},$$scope:{ctx:n}};n[3]!==void 0&&(p.group=n[3]),c=new at({props:p}),Me.push(()=>Pe(c,"group",z));let V=n[0][n[1].index].tif_convertable&&vt(n);return{c(){_e(e.$$.fragment),l=S(),_e(i.$$.fragment),s=S(),_e(o.$$.fragment),f=S(),_e(c.$$.fragment),b=S(),V&&V.c(),E=S(),A=g("div"),j=g("a"),F=re("File Information View"),this.h()},l(k){ce(e.$$.fragment,k),l=M(k),ce(i.$$.fragment,k),s=M(k),ce(o.$$.fragment,k),f=M(k),ce(c.$$.fragment,k),b=M(k),V&&V.l(k),E=M(k),A=v(k,"DIV",{class:!0});var B=$(A);j=v(B,"A",{href:!0,class:!0,style:!0});var Z=$(j);F=ie(Z,"File Information View"),Z.forEach(_),B.forEach(_),this.h()},h(){u(j,"href",I="/file_info?type="+n[2]+"&filename="+n[4]),u(j,"class","px-3 p-1 py-1 bg-blue-500 text-white rounded hover:bg-blue-600"),et(j,"margin-top","5px"),et(j,"margin-right","2px"),et(j,"margin-left","auto"),et(j,"display","block"),et(j,"width","max-content"),u(A,"class","ml-auto")},m(k,B){ue(e,k,B),C(k,l,B),ue(i,k,B),C(k,s,B),ue(o,k,B),C(k,f,B),ue(c,k,B),C(k,b,B),V&&V.m(k,B),C(k,E,B),C(k,A,B),h(A,j),h(j,F),D=!0},p(k,B){const Z={};B&16384&&(Z.$$scope={dirty:B,ctx:k}),!t&&B&8&&(t=!0,Z.group=k[3],Se(()=>t=!1)),e.$set(Z);const y={};B&16384&&(y.$$scope={dirty:B,ctx:k}),!r&&B&8&&(r=!0,y.group=k[3],Se(()=>r=!1)),i.$set(y);const O={};B&16384&&(O.$$scope={dirty:B,ctx:k}),!a&&B&8&&(a=!0,O.group=k[3],Se(()=>a=!1)),o.$set(O);const m={};B&16384&&(m.$$scope={dirty:B,ctx:k}),!d&&B&8&&(d=!0,m.group=k[3],Se(()=>d=!1)),c.$set(m),k[0][k[1].index].tif_convertable?V?(V.p(k,B),B&3&&T(V,1)):(V=vt(k),V.c(),T(V,1),V.m(E.parentNode,E)):V&&(ye(),N(V,1,1,()=>{V=null}),$e()),(!D||B&20&&I!==(I="/file_info?type="+k[2]+"&filename="+k[4]))&&u(j,"href",I)},i(k){D||(T(e.$$.fragment,k),T(i.$$.fragment,k),T(o.$$.fragment,k),T(c.$$.fragment,k),T(V),D=!0)},o(k){N(e.$$.fragment,k),N(i.$$.fragment,k),N(o.$$.fragment,k),N(c.$$.fragment,k),N(V),D=!1},d(k){k&&(_(l),_(s),_(f),_(b),_(E),_(A)),oe(e,k),oe(i,k),oe(o,k),oe(c,k),V&&V.d(k)}}}function Kl(n){let e,t,l=n[4]&&n[4]!=""&&gt(n);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,r){l&&l.m(i,r),C(i,e,r),t=!0},p(i,r){i[4]&&i[4]!=""?l?(l.p(i,r),r&16&&T(l,1)):(l=gt(i),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(ye(),N(l,1,1,()=>{l=null}),$e())},i(i){t||(T(l),t=!0)},o(i){N(l),t=!1},d(i){i&&_(e),l&&l.d(i)}}}function Yl(n){let e,t,l=n[0][n[1].index].metadata&&n[0][n[1].index].metadata.file&&n[0][n[1].index].metadata_show&&wt(n);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,r){l&&l.m(i,r),C(i,e,r),t=!0},p(i,r){i[0][i[1].index].metadata&&i[0][i[1].index].metadata.file&&i[0][i[1].index].metadata_show?l?(l.p(i,r),r&3&&T(l,1)):(l=wt(i),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(ye(),N(l,1,1,()=>{l=null}),$e())},i(i){t||(T(l),t=!0)},o(i){N(l),t=!1},d(i){i&&_(e),l&&l.d(i)}}}function Zl(n){let e,t,l,i;const r=[en,xl],s=[];function o(a,f){return a[0][a[1].index].metadata_prov_exists&&a[0][a[1].index].metadata_show?0:1}return e=o(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,f){s[e].m(a,f),C(a,l,f),i=!0},p(a,f){let c=e;e=o(a),e===c?s[e].p(a,f):(ye(),N(s[c],1,1,()=>{s[c]=null}),$e(),t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){N(t),i=!1},d(a){a&&_(l),s[e].d(a)}}}function Ql(n){let e,t,l,i;const r=[ln,tn],s=[];function o(a,f){return a[0][a[1].index].metadata_prov_stats?0:1}return e=o(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,f){s[e].m(a,f),C(a,l,f),i=!0},p(a,f){let c=e;e=o(a),e===c?s[e].p(a,f):(ye(),N(s[c],1,1,()=>{s[c]=null}),$e(),t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){N(t),i=!1},d(a){a&&_(l),s[e].d(a)}}}function Xl(n){let e,t,l,i;const r=[rn,nn],s=[];function o(a,f){return a[0][a[1].index].metadata_exists?0:1}return e=o(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,f){s[e].m(a,f),C(a,l,f),i=!0},p(a,f){let c=e;e=o(a),e===c?s[e].p(a,f):(ye(),N(s[c],1,1,()=>{s[c]=null}),$e(),t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){N(t),i=!1},d(a){a&&_(l),s[e].d(a)}}}function gt(n){let e=n[4],t,l,i=bt(n);return{c(){i.c(),t=de()},l(r){i.l(r),t=de()},m(r,s){i.m(r,s),C(r,t,s),l=!0},p(r,s){s&16&&We(e,e=r[4])?(ye(),N(i,1,1,le),$e(),i=bt(r),i.c(),T(i,1),i.m(t.parentNode,t)):i.p(r,s)},i(r){l||(T(i),l=!0)},o(r){N(i),l=!1},d(r){r&&_(t),i.d(r)}}}function bt(n){let e,t,l;function i(s){n[8](s)}let r={foldertype:n[2],show_varinfos:!1};return n[4]!==void 0&&(r.selected_file=n[4]),e=new vl({props:r}),Me.push(()=>Pe(e,"selected_file",i)),{c(){_e(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,o){ue(e,s,o),l=!0},p(s,o){const a={};o&4&&(a.foldertype=s[2]),!t&&o&16&&(t=!0,a.selected_file=s[4],Se(()=>t=!1)),e.$set(a)},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){N(e.$$.fragment,s),l=!1},d(s){oe(e,s)}}}function wt(n){let e,t;return e=new Tl({props:{file:n[0][n[1].index].metadata.file}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i&3&&(r.file=l[0][l[1].index].metadata.file),e.$set(r)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function xl(n){let e;return{c(){e=re("currently no provenance data available")},l(t){e=ie(t,"currently no provenance data available")},m(t,l){C(t,e,l)},p:le,i:le,o:le,d(t){t&&_(e)}}}function en(n){let e,t,l,i,r,s="provenance",o,a,f,c;l=new Re({});let d=n[0][n[1].index].metadata_prov_stats&&kt(n);return{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=S(),r=g("div"),r.textContent=s,a=S(),d&&d.c(),f=de(),this.h()},l(b){e=v(b,"BUTTON",{class:!0});var E=$(e);t=v(E,"A",{href:!0,class:!0,title:!0});var A=$(t);ce(l.$$.fragment,A),i=M(A),r=v(A,"DIV",{class:!0,"data-svelte-h":!0}),be(r)!=="svelte-19tiklx"&&(r.textContent=s),A.forEach(_),E.forEach(_),a=M(b),d&&d.l(b),f=de(),this.h()},h(){u(r,"class","ml-1 flex place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[0][n[1].index].filename+"&type="+n[2]+"&filetype=prov"),u(t,"class","flex"),u(t,"title","Download metadata file"),u(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(b,E){C(b,e,E),h(e,t),ue(l,t,null),h(t,i),h(t,r),C(b,a,E),d&&d.m(b,E),C(b,f,E),c=!0},p(b,E){(!c||E&7&&o!==(o=ke+"/climate/get_temp_file?name="+b[0][b[1].index].filename+"&type="+b[2]+"&filetype=prov"))&&u(t,"href",o),b[0][b[1].index].metadata_prov_stats?d?(d.p(b,E),E&3&&T(d,1)):(d=kt(b),d.c(),T(d,1),d.m(f.parentNode,f)):d&&(ye(),N(d,1,1,()=>{d=null}),$e())},i(b){c||(T(l.$$.fragment,b),T(d),c=!0)},o(b){N(l.$$.fragment,b),N(d),c=!1},d(b){b&&(_(e),_(a),_(f)),oe(l),d&&d.d(b)}}}function kt(n){let e,t,l,i;function r(a){n[6](a)}function s(a){n[7](a)}let o={};return n[0][n[1].index].metadata_prov!==void 0&&(o.metadata_prov=n[0][n[1].index].metadata_prov),n[0][n[1].index].metadata_prov_stats!==void 0&&(o.metadata_prov_stats=n[0][n[1].index].metadata_prov_stats),e=new Dl({props:o}),Me.push(()=>Pe(e,"metadata_prov",r)),Me.push(()=>Pe(e,"metadata_prov_stats",s)),{c(){_e(e.$$.fragment)},l(a){ce(e.$$.fragment,a)},m(a,f){ue(e,a,f),i=!0},p(a,f){const c={};!t&&f&3&&(t=!0,c.metadata_prov=a[0][a[1].index].metadata_prov,Se(()=>t=!1)),!l&&f&3&&(l=!0,c.metadata_prov_stats=a[0][a[1].index].metadata_prov_stats,Se(()=>l=!1)),e.$set(c)},i(a){i||(T(e.$$.fragment,a),i=!0)},o(a){N(e.$$.fragment,a),i=!1},d(a){oe(e,a)}}}function tn(n){let e;return{c(){e=re("currently no related datasets available")},l(t){e=ie(t,"currently no related datasets available")},m(t,l){C(t,e,l)},p:le,i:le,o:le,d(t){t&&_(e)}}}function ln(n){var j,F,I;let e,t,l="ℹ️ Available files based on this file",i,r,s,o,a,f="ℹ️ Available files used to create this file",c,d,b,E,A;return r=new dt({props:{data:(j=n[0][n[1].index].metadata_prov_stats)==null?void 0:j.base_for_entities,only_links:!0}}),d=new dt({props:{data:(F=n[0][n[1].index].metadata_prov_stats)==null?void 0:F.source_entities,only_links:!0}}),E=new dt({props:{data:(I=n[0][n[1].index].metadata_prov_stats)==null?void 0:I.result_entities,only_links:!0}}),{c(){e=g("div"),t=g("h2"),t.textContent=l,i=S(),_e(r.$$.fragment),s=S(),o=g("div"),a=g("h2"),a.textContent=f,c=S(),_e(d.$$.fragment),b=S(),_e(E.$$.fragment),this.h()},l(D){e=v(D,"DIV",{class:!0,id:!0});var P=$(e);t=v(P,"H2",{class:!0,"data-svelte-h":!0}),be(t)!=="svelte-n9z7mk"&&(t.textContent=l),i=M(P),ce(r.$$.fragment,P),P.forEach(_),s=M(D),o=v(D,"DIV",{class:!0,id:!0});var U=$(o);a=v(U,"H2",{class:!0,"data-svelte-h":!0}),be(a)!=="svelte-1bmg2za"&&(a.textContent=f),c=M(U),ce(d.$$.fragment,U),b=M(U),ce(E.$$.fragment,U),U.forEach(_),this.h()},h(){u(t,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),u(e,"class","bg-box svelte-184ua4x"),u(e,"id","base_for_entities_"+n[5]),u(a,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),u(o,"class","bg-box svelte-184ua4x"),u(o,"id","base_for_entities_"+n[5])},m(D,P){C(D,e,P),h(e,t),h(e,i),ue(r,e,null),C(D,s,P),C(D,o,P),h(o,a),h(o,c),ue(d,o,null),h(o,b),ue(E,o,null),A=!0},p(D,P){var x,te,z;const U={};P&3&&(U.data=(x=D[0][D[1].index].metadata_prov_stats)==null?void 0:x.base_for_entities),r.$set(U);const ne={};P&3&&(ne.data=(te=D[0][D[1].index].metadata_prov_stats)==null?void 0:te.source_entities),d.$set(ne);const L={};P&3&&(L.data=(z=D[0][D[1].index].metadata_prov_stats)==null?void 0:z.result_entities),E.$set(L)},i(D){A||(T(r.$$.fragment,D),T(d.$$.fragment,D),T(E.$$.fragment,D),A=!0)},o(D){N(r.$$.fragment,D),N(d.$$.fragment,D),N(E.$$.fragment,D),A=!1},d(D){D&&(_(e),_(s),_(o)),oe(r),oe(d),oe(E)}}}function nn(n){let e;return{c(){e=re("currently no metadata available")},l(t){e=ie(t,"currently no metadata available")},m(t,l){C(t,e,l)},p:le,i:le,o:le,d(t){t&&_(e)}}}function rn(n){let e,t,l,i,r,s="metadata",o,a,f,c;l=new Re({});let d=n[0][n[1].index].metadata&&n[0][n[1].index].metadata_show&&yt(n);return{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=S(),r=g("div"),r.textContent=s,a=S(),d&&d.c(),f=de(),this.h()},l(b){e=v(b,"BUTTON",{class:!0});var E=$(e);t=v(E,"A",{href:!0,class:!0,title:!0});var A=$(t);ce(l.$$.fragment,A),i=M(A),r=v(A,"DIV",{class:!0,"data-svelte-h":!0}),be(r)!=="svelte-xp3lgr"&&(r.textContent=s),A.forEach(_),E.forEach(_),a=M(b),d&&d.l(b),f=de(),this.h()},h(){u(r,"class","ml-1 flex place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[0][n[1].index].filename+"&type="+n[2]+"&filetype=meta"),u(t,"class","flex"),u(t,"title","Download metadata file"),u(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(b,E){C(b,e,E),h(e,t),ue(l,t,null),h(t,i),h(t,r),C(b,a,E),d&&d.m(b,E),C(b,f,E),c=!0},p(b,E){(!c||E&7&&o!==(o=ke+"/climate/get_temp_file?name="+b[0][b[1].index].filename+"&type="+b[2]+"&filetype=meta"))&&u(t,"href",o),b[0][b[1].index].metadata&&b[0][b[1].index].metadata_show?d?(d.p(b,E),E&3&&T(d,1)):(d=yt(b),d.c(),T(d,1),d.m(f.parentNode,f)):d&&(ye(),N(d,1,1,()=>{d=null}),$e())},i(b){c||(T(l.$$.fragment,b),T(d),c=!0)},o(b){N(l.$$.fragment,b),N(d),c=!1},d(b){b&&(_(e),_(a),_(f)),oe(l),d&&d.d(b)}}}function yt(n){let e,t;return e=new Cl({props:{data:n[0][n[1].index].metadata}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i&3&&(r.data=l[0][l[1].index].metadata),e.$set(r)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function an(n){let e,t,l,i;const r=[Xl,Ql,Zl,Yl,Kl],s=[];function o(a,f){return a[3]===0?0:a[3]===1?1:a[3]===2?2:a[3]===3?3:a[3]===4?4:-1}return~(e=o(n))&&(t=s[e]=r[e](n)),{c(){t&&t.c(),l=de()},l(a){t&&t.l(a),l=de()},m(a,f){~e&&s[e].m(a,f),C(a,l,f),i=!0},p(a,f){let c=e;e=o(a),e===c?~e&&s[e].p(a,f):(t&&(ye(),N(s[c],1,1,()=>{s[c]=null}),$e()),~e?(t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l)):t=null)},i(a){i||(T(t),i=!0)},o(a){N(t),i=!1},d(a){a&&_(l),~e&&s[e].d(a)}}}function sn(n){let e,t,l;return t=new El({props:{$$slots:{panel:[an],default:[Jl]},$$scope:{ctx:n}}}),{c(){e=g("div"),_e(t.$$.fragment),this.h()},l(i){e=v(i,"DIV",{class:!0});var r=$(e);ce(t.$$.fragment,r),r.forEach(_),this.h()},h(){u(e,"class","bg-surface-700")},m(i,r){C(i,e,r),ue(t,e,null),l=!0},p(i,[r]){const s={};r&16415&&(s.$$scope={dirty:r,ctx:i}),t.$set(s)},i(i){l||(T(t.$$.fragment,i),l=!0)},o(i){N(t.$$.fragment,i),l=!1},d(i){i&&_(e),oe(t)}}}function fn(n,e,t){let l,{folder_data:i}=e,{file_obj:r}=e,{foldertype:s}=e,o=i[r.index].tabset,a=Math.random().toString(36).substring(2,15);function f(I){n.$$.not_equal(i[r.index].metadata_prov,I)&&(i[r.index].metadata_prov=I,t(0,i))}function c(I){n.$$.not_equal(i[r.index].metadata_prov_stats,I)&&(i[r.index].metadata_prov_stats=I,t(0,i))}function d(I){l=I,t(4,l),t(0,i),t(1,r)}function b(I){o=I,t(3,o)}function E(I){o=I,t(3,o)}function A(I){o=I,t(3,o)}function j(I){o=I,t(3,o)}function F(I){o=I,t(3,o)}return n.$$set=I=>{"folder_data"in I&&t(0,i=I.folder_data),"file_obj"in I&&t(1,r=I.file_obj),"foldertype"in I&&t(2,s=I.foldertype)},n.$$.update=()=>{n.$$.dirty&3&&t(4,l=i[r.index].filename)},[i,r,s,o,l,a,f,c,d,b,E,A,j,F]}class on extends Je{constructor(e){super(),Ke(this,e,fn,sn,We,{folder_data:0,file_obj:1,foldertype:2})}}function $t(n,e,t){const l=n.slice();return l[86]=e[t][0],l[87]=e[t][1],l[89]=t,l}function Et(n,e,t){const l=n.slice();return l[90]=e[t],l[91]=e,l[92]=t,l}function Tt(n,e,t){const l=n.slice();return l[93]=e[t],l}function Ct(n,e,t){const l=n.slice();return l[93]=e[t],l}function Dt(n,e,t){const l=n.slice();return l[93]=e[t],l}function It(n,e,t){const l=n.slice();return l[93]=e[t],l}function Lt(n,e,t){const l=n.slice();return l[93]=e[t],l}function Nt(n){let e,t,l="Force Update",i,r;return{c(){e=g("div"),t=g("button"),t.textContent=l,this.h()},l(s){e=v(s,"DIV",{class:!0});var o=$(e);t=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),be(t)!=="svelte-c1ydu0"&&(t.textContent=l),o.forEach(_),this.h()},h(){u(t,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(e,"class","ml-2")},m(s,o){C(s,e,o),h(e,t),i||(r=fe(t,"click",n[37]),i=!0)},p:le,d(s){s&&_(e),i=!1,r()}}}function Vt(n){let e,t,l,i,r=n[9].some(il),s,o,a,f=n[10].some(nl),c,d,b,E=n[11].some(ll),A,j,F,I=n[12].some(tl),D=Ne(n[8]),P=[];for(let y=0;y<D.length;y+=1)P[y]=Bt(Lt(n,D,y));let U=r&&Ut(),ne=Ne(n[9]),L=[];for(let y=0;y<ne.length;y+=1)L[y]=Ot(It(n,ne,y));let x=f&&jt(n),te=Ne(n[10]),z=[];for(let y=0;y<te.length;y+=1)z[y]=St(Dt(n,te,y));let p=E&&Pt(n),V=Ne(n[11]),k=[];for(let y=0;y<V.length;y+=1)k[y]=Ft(Ct(n,V,y));let B=n[14]!=="_"&&Rt(n),Z=I&&Ht(n);return{c(){e=g("div"),t=g("div");for(let y=0;y<P.length;y+=1)P[y].c();l=S(),i=g("div"),U&&U.c(),s=S();for(let y=0;y<L.length;y+=1)L[y].c();o=S(),a=g("div"),x&&x.c(),c=S();for(let y=0;y<z.length;y+=1)z[y].c();d=S(),b=g("div"),p&&p.c(),A=S();for(let y=0;y<k.length;y+=1)k[y].c();j=S(),B&&B.c(),F=S(),Z&&Z.c(),this.h()},l(y){e=v(y,"DIV",{});var O=$(e);t=v(O,"DIV",{class:!0});var m=$(t);for(let Q=0;Q<P.length;Q+=1)P[Q].l(m);m.forEach(_),l=M(O),i=v(O,"DIV",{class:!0});var ae=$(i);U&&U.l(ae),s=M(ae);for(let Q=0;Q<L.length;Q+=1)L[Q].l(ae);ae.forEach(_),o=M(O),a=v(O,"DIV",{class:!0});var Y=$(a);x&&x.l(Y),c=M(Y);for(let Q=0;Q<z.length;Q+=1)z[Q].l(Y);Y.forEach(_),d=M(O),b=v(O,"DIV",{class:!0});var R=$(b);p&&p.l(R),A=M(R);for(let Q=0;Q<k.length;Q+=1)k[Q].l(R);R.forEach(_),j=M(O),B&&B.l(O),F=M(O),Z&&Z.l(O),O.forEach(_),this.h()},h(){u(t,"class","flow gap-2 items-center ml-2"),u(i,"class","flow gap-2 items-center ml-2"),u(a,"class","flow gap-2 items-center ml-2"),u(b,"class","flow gap-2 items-center ml-2")},m(y,O){C(y,e,O),h(e,t);for(let m=0;m<P.length;m+=1)P[m]&&P[m].m(t,null);h(e,l),h(e,i),U&&U.m(i,null),h(i,s);for(let m=0;m<L.length;m+=1)L[m]&&L[m].m(i,null);h(e,o),h(e,a),x&&x.m(a,null),h(a,c);for(let m=0;m<z.length;m+=1)z[m]&&z[m].m(a,null);h(e,d),h(e,b),p&&p.m(b,null),h(b,A);for(let m=0;m<k.length;m+=1)k[m]&&k[m].m(b,null);h(e,j),B&&B.m(e,null),h(e,F),Z&&Z.m(e,null)},p(y,O){if(O[0]&536871168){D=Ne(y[8]);let m;for(m=0;m<D.length;m+=1){const ae=Lt(y,D,m);P[m]?P[m].p(ae,O):(P[m]=Bt(ae),P[m].c(),P[m].m(t,null))}for(;m<P.length;m+=1)P[m].d(1);P.length=D.length}if(O[0]&512&&(r=y[9].some(il)),r?U||(U=Ut(),U.c(),U.m(i,s)):U&&(U.d(1),U=null),O[0]&1073758720){ne=Ne(y[9]);let m;for(m=0;m<ne.length;m+=1){const ae=It(y,ne,m);L[m]?L[m].p(ae,O):(L[m]=Ot(ae),L[m].c(),L[m].m(i,null))}for(;m<L.length;m+=1)L[m].d(1);L.length=ne.length}if(O[0]&1024&&(f=y[10].some(nl)),f?x?x.p(y,O):(x=jt(y),x.c(),x.m(a,c)):x&&(x.d(1),x=null),O[0]&1073759232){te=Ne(y[10]);let m;for(m=0;m<te.length;m+=1){const ae=Dt(y,te,m);z[m]?z[m].p(ae,O):(z[m]=St(ae),z[m].c(),z[m].m(a,null))}for(;m<z.length;m+=1)z[m].d(1);z.length=te.length}if(O[0]&2048&&(E=y[11].some(ll)),E?p?p.p(y,O):(p=Pt(y),p.c(),p.m(b,A)):p&&(p.d(1),p=null),O[0]&1073760256){V=Ne(y[11]);let m;for(m=0;m<V.length;m+=1){const ae=Ct(y,V,m);k[m]?k[m].p(ae,O):(k[m]=Ft(ae),k[m].c(),k[m].m(b,null))}for(;m<k.length;m+=1)k[m].d(1);k.length=V.length}y[14]!=="_"?B?B.p(y,O):(B=Rt(y),B.c(),B.m(e,F)):B&&(B.d(1),B=null),O[0]&4096&&(I=y[12].some(tl)),I?Z?Z.p(y,O):(Z=Ht(y),Z.c(),Z.m(e,null)):Z&&(Z.d(1),Z=null)},d(y){y&&_(e),xe(P,y),U&&U.d(),xe(L,y),x&&x.d(),xe(z,y),p&&p.d(),xe(k,y),B&&B.d(),Z&&Z.d()}}}function Bt(n){let e,t=el(n[93])+"",l,i,r;return{c(){e=g("button"),l=re(t),this.h()},l(s){e=v(s,"BUTTON",{class:!0});var o=$(e);l=ie(o,t),o.forEach(_),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(s,o){C(s,e,o),h(e,l),i||(r=fe(e,"click",function(){pl(n[29](n[93]))&&n[29](n[93]).apply(this,arguments)}),i=!0)},p(s,o){n=s,o[0]&256&&t!==(t=el(n[93])+"")&&Ve(l,t)},d(s){s&&_(e),i=!1,r()}}}function Ut(n){let e,t="⏳ Δ- ⟶⌛:";return{c(){e=g("span"),e.textContent=t,this.h()},l(l){e=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-1e3ro3x"&&(e.textContent=t),this.h()},h(){u(e,"class","mr-3")},m(l,i){C(l,e,i)},d(l){l&&_(e)}}}function At(n){let e,t=n[93].time+"",l,i,r,s;function o(){return n[39](n[93])}return{c(){e=g("button"),l=re(t),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var f=$(e);l=ie(f,t),f.forEach(_),this.h()},h(){u(e,"class",i="w-[220px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,f){C(a,e,f),h(e,l),r||(s=fe(e,"click",o),r=!0)},p(a,f){n=a,f[0]&512&&t!==(t=n[93].time+"")&&Ve(l,t),f[0]&16896&&i!==(i="w-[220px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&_(e),r=!1,s()}}}function Ot(n){let e,t=n[93].show=="true"&&At(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),C(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=At(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&_(e),t&&t.d(l)}}}function jt(n){let e,t,l,i,r,s;return{c(){e=re(`⏳ 20y ⟶ ⌛:
					`),t=g("button"),l=re("all 20y"),this.h()},l(o){e=ie(o,`⏳ 20y ⟶ ⌛:
					`),t=v(o,"BUTTON",{class:!0});var a=$(t);l=ie(a,"all 20y"),a.forEach(_),this.h()},h(){u(t,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]==="20y"?"font-bold":""))},m(o,a){C(o,e,a),C(o,t,a),h(t,l),r||(s=fe(t,"click",n[40]),r=!0)},p(o,a){a[0]&16384&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(o[14]==="20y"?"font-bold":""))&&u(t,"class",i)},d(o){o&&(_(e),_(t)),r=!1,s()}}}function Mt(n){let e,t=n[93].time+"",l,i,r,s;function o(){return n[41](n[93])}return{c(){e=g("button"),l=re(t),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var f=$(e);l=ie(f,t),f.forEach(_),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,f){C(a,e,f),h(e,l),r||(s=fe(e,"click",o),r=!0)},p(a,f){n=a,f[0]&1024&&t!==(t=n[93].time+"")&&Ve(l,t),f[0]&17408&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&_(e),r=!1,s()}}}function St(n){let e,t=n[93].show=="true"&&Mt(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),C(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=Mt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&_(e),t&&t.d(l)}}}function Pt(n){let e,t,l,i,r,s;return{c(){e=re(`⏳ 30y ⟶ ⌛:
					`),t=g("button"),l=re("all 30y"),this.h()},l(o){e=ie(o,`⏳ 30y ⟶ ⌛:
					`),t=v(o,"BUTTON",{class:!0});var a=$(t);l=ie(a,"all 30y"),a.forEach(_),this.h()},h(){u(t,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]==="30y"?"font-bold":""))},m(o,a){C(o,e,a),C(o,t,a),h(t,l),r||(s=fe(t,"click",n[42]),r=!0)},p(o,a){a[0]&16384&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(o[14]==="30y"?"font-bold":""))&&u(t,"class",i)},d(o){o&&(_(e),_(t)),r=!1,s()}}}function zt(n){let e,t=n[93].time+"",l,i,r,s;function o(){return n[43](n[93])}return{c(){e=g("button"),l=re(t),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var f=$(e);l=ie(f,t),f.forEach(_),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,f){C(a,e,f),h(e,l),r||(s=fe(e,"click",o),r=!0)},p(a,f){n=a,f[0]&2048&&t!==(t=n[93].time+"")&&Ve(l,t),f[0]&18432&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&_(e),r=!1,s()}}}function Ft(n){let e,t=n[93].show=="true"&&zt(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),C(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=zt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&_(e),t&&t.d(l)}}}function Rt(n){let e,t="reset ⏳",l,i;return{c(){e=g("button"),e.textContent=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-krixl6"&&(e.textContent=t),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(r,s){C(r,e,s),l||(i=fe(e,"click",n[44]),l=!0)},p:le,d(r){r&&_(e),l=!1,i()}}}function Ht(n){let e,t,l,i=Ne(n[12]),r=[];for(let o=0;o<i.length;o+=1)r[o]=Gt(Tt(n,i,o));let s=n[15]!=="_"&&Wt(n);return{c(){e=g("div"),t=re(`Σ Sum / Avg:
					`);for(let o=0;o<r.length;o+=1)r[o].c();l=S(),s&&s.c(),this.h()},l(o){e=v(o,"DIV",{class:!0});var a=$(e);t=ie(a,`Σ Sum / Avg:
					`);for(let f=0;f<r.length;f+=1)r[f].l(a);l=M(a),s&&s.l(a),a.forEach(_),this.h()},h(){u(e,"class","flow gap-2 items-center ml-2")},m(o,a){C(o,e,a),h(e,t);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);h(e,l),s&&s.m(e,null)},p(o,a){if(a[0]&36864|a[1]&1){i=Ne(o[12]);let f;for(f=0;f<i.length;f+=1){const c=Tt(o,i,f);r[f]?r[f].p(c,a):(r[f]=Gt(c),r[f].c(),r[f].m(e,l))}for(;f<r.length;f+=1)r[f].d(1);r.length=i.length}o[15]!=="_"?s?s.p(o,a):(s=Wt(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&_(e),xe(r,o),s&&s.d()}}}function qt(n){let e,t=n[93].time+"",l,i,r,s;function o(){return n[45](n[93])}return{c(){e=g("button"),l=re(t),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var f=$(e);l=ie(f,t),f.forEach(_),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[93].time?"font-bold":""))},m(a,f){C(a,e,f),h(e,l),r||(s=fe(e,"click",o),r=!0)},p(a,f){n=a,f[0]&4096&&t!==(t=n[93].time+"")&&Ve(l,t),f[0]&36864&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&_(e),r=!1,s()}}}function Gt(n){let e,t=n[93].show=="true"&&qt(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),C(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=qt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&_(e),t&&t.d(l)}}}function Wt(n){let e,t="reset Σ",l,i;return{c(){e=g("button"),e.textContent=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-1c6s5cf"&&(e.textContent=t),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(r,s){C(r,e,s),l||(i=fe(e,"click",n[46]),l=!0)},p:le,d(r){r&&_(e),l=!1,i()}}}function un(n){let e,t,l;return t=new yl({}),{c(){e=g("div"),_e(t.$$.fragment),this.h()},l(i){e=v(i,"DIV",{class:!0});var r=$(e);ce(t.$$.fragment,r),r.forEach(_),this.h()},h(){u(e,"class","flex-center")},m(i,r){C(i,e,r),ue(t,e,null),l=!0},p:le,i(i){l||(T(t.$$.fragment,i),l=!0)},o(i){N(t.$$.fragment,i),l=!1},d(i){i&&_(e),oe(t)}}}function cn(n){let e,t,l,i,r,s=n[3].filter(rl).length+"",o,a,f,c,d,b,E,A,j,F,I,D,P,U,ne,L,x,te,z,p,V,k,B,Z,y,O,m,ae,Y,R,Q=Ne(Object.entries(n[2])),J=[];for(let G=0;G<Q.length;G+=1)J[G]=Xt($t(n,Q,G));const De=G=>N(J[G],1,1,()=>{J[G]=null});return ae=hl(n[63][0]),{c(){e=g("div");for(let G=0;G<J.length;G+=1)J[G].c();t=S(),l=g("div"),i=g("button"),r=re("Generate Wget link for download ("),o=re(s),a=re(" selected)"),f=S(),c=g("div"),d=g("div"),b=g("label"),E=g("input"),A=re(`
						Filetype .nc`),j=S(),F=g("label"),I=g("input"),D=re(`
						Filetype .nc (clipped)`),P=S(),U=g("div"),ne=g("label"),L=g("input"),x=re(`
						Filetype .dat`),te=S(),z=g("label"),p=g("input"),V=re(`
						Filetype .dat (clipped)`),k=S(),B=g("div"),Z=g("label"),y=g("input"),O=re(`
						Filetype .tiff`),this.h()},l(G){e=v(G,"DIV",{class:!0});var q=$(e);for(let Te=0;Te<J.length;Te+=1)J[Te].l(q);q.forEach(_),t=M(G),l=v(G,"DIV",{class:!0});var X=$(l);i=v(X,"BUTTON",{type:!0,class:!0});var Ee=$(i);r=ie(Ee,"Generate Wget link for download ("),o=ie(Ee,s),a=ie(Ee," selected)"),Ee.forEach(_),f=M(X),c=v(X,"DIV",{class:!0});var ge=$(c);d=v(ge,"DIV",{});var Ue=$(d);b=v(Ue,"LABEL",{});var me=$(b);E=v(me,"INPUT",{type:!0,name:!0}),A=ie(me,`
						Filetype .nc`),me.forEach(_),j=M(Ue),F=v(Ue,"LABEL",{});var ze=$(F);I=v(ze,"INPUT",{type:!0,name:!0}),D=ie(ze,`
						Filetype .nc (clipped)`),ze.forEach(_),Ue.forEach(_),P=M(ge),U=v(ge,"DIV",{});var he=$(U);ne=v(he,"LABEL",{});var Be=$(ne);L=v(Be,"INPUT",{type:!0,name:!0}),x=ie(Be,`
						Filetype .dat`),Be.forEach(_),te=M(he),z=v(he,"LABEL",{});var ee=$(z);p=v(ee,"INPUT",{type:!0,name:!0}),V=ie(ee,`
						Filetype .dat (clipped)`),ee.forEach(_),he.forEach(_),k=M(ge),B=v(ge,"DIV",{});var H=$(B);Z=v(H,"LABEL",{});var Ie=$(Z);y=v(Ie,"INPUT",{type:!0,name:!0}),O=ie(Ie,`
						Filetype .tiff`),Ie.forEach(_),H.forEach(_),ge.forEach(_),X.forEach(_),this.h()},h(){u(e,"class","p-2"),u(i,"type","button"),u(i,"class","btn bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(E,"type","radio"),u(E,"name","filetype"),E.__value="nc",Ge(E,E.__value),u(I,"type","radio"),u(I,"name","filetype"),I.__value="nc_clipped",Ge(I,I.__value),u(L,"type","radio"),u(L,"name","filetype"),L.__value="dat",Ge(L,L.__value),u(p,"type","radio"),u(p,"name","filetype"),p.__value="dat_clipped",Ge(p,p.__value),u(y,"type","radio"),u(y,"name","filetype"),y.__value="tif",Ge(y,y.__value),u(c,"class","filetype-selector flex"),u(l,"class","flex gap-x-1 pl-2"),ae.p(E,I,L,p,y)},m(G,q){C(G,e,q);for(let X=0;X<J.length;X+=1)J[X]&&J[X].m(e,null);C(G,t,q),C(G,l,q),h(l,i),h(i,r),h(i,o),h(i,a),h(l,f),h(l,c),h(c,d),h(d,b),h(b,E),E.checked=E.__value===n[16],h(b,A),h(d,j),h(d,F),h(F,I),I.checked=I.__value===n[16],h(F,D),h(c,P),h(c,U),h(U,ne),h(ne,L),L.checked=L.__value===n[16],h(ne,x),h(U,te),h(U,z),h(z,p),p.checked=p.__value===n[16],h(z,V),h(c,k),h(c,B),h(B,Z),h(Z,y),y.checked=y.__value===n[16],h(Z,O),m=!0,Y||(R=[fe(i,"click",ml(n[24])),fe(E,"change",n[62]),fe(E,"change",n[32]),fe(I,"change",n[64]),fe(I,"change",n[32]),fe(L,"change",n[65]),fe(L,"change",n[32]),fe(p,"change",n[66]),fe(p,"change",n[32]),fe(y,"change",n[67]),fe(y,"change",n[32])],Y=!0)},p(G,q){if(q[0]&369942622){Q=Ne(Object.entries(G[2]));let X;for(X=0;X<Q.length;X+=1){const Ee=$t(G,Q,X);J[X]?(J[X].p(Ee,q),T(J[X],1)):(J[X]=Xt(Ee),J[X].c(),T(J[X],1),J[X].m(e,null))}for(ye(),X=Q.length;X<J.length;X+=1)De(X);$e()}(!m||q[0]&8)&&s!==(s=G[3].filter(rl).length+"")&&Ve(o,s),q[0]&65536&&(E.checked=E.__value===G[16]),q[0]&65536&&(I.checked=I.__value===G[16]),q[0]&65536&&(L.checked=L.__value===G[16]),q[0]&65536&&(p.checked=p.__value===G[16]),q[0]&65536&&(y.checked=y.__value===G[16])},i(G){if(!m){for(let q=0;q<Q.length;q+=1)T(J[q]);m=!0}},o(G){J=J.filter(Boolean);for(let q=0;q<J.length;q+=1)N(J[q]);m=!1},d(G){G&&(_(e),_(t),_(l)),xe(J,G),ae.r(),Y=!1,mt(R)}}}function _n(n){let e,t;return e=new sl({props:{h:"24px"}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function dn(n){let e,t;return e=new al({props:{h:"28px",w:"26px"}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function hn(n){let e,t="Hide",l,i;function r(){return n[55](n[90])}return{c(){e=g("button"),e.textContent=t,this.h()},l(s){e=v(s,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),be(e)!=="svelte-nqhp4m"&&(e.textContent=t),this.h()},h(){u(e,"class","ml-5 max-h-[33px] p-1 flex items-center justify-center variant-filled-surface hover:bg-tertiary-900 rounded-md"),u(e,"title","Show metadata and provenance information")},m(s,o){C(s,e,o),l||(i=fe(e,"click",r),l=!0)},p(s,o){n=s},d(s){s&&_(e),l=!1,i()}}}function mn(n){let e,t="Show",l,i;function r(){return n[54](n[90])}return{c(){e=g("button"),e.textContent=t,this.h()},l(s){e=v(s,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),be(e)!=="svelte-1od4l2q"&&(e.textContent=t),this.h()},h(){u(e,"class","ml-5 max-h-[33px] p-1 flex items-center justify-center variant-filled-surface hover:bg-tertiary-900 rounded-md"),u(e,"title","Show metadata and provenance information")},m(s,o){C(s,e,o),l||(i=fe(e,"click",r),l=!0)},p(s,o){n=s},d(s){s&&_(e),l=!1,i()}}}function pn(n){let e,t,l,i,r,s=n[1][n[90].index].filesuffix+"",o,a,f;return l=new Re({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=S(),r=g("div"),o=re(s),this.h()},l(c){e=v(c,"BUTTON",{class:!0});var d=$(e);t=v(d,"A",{href:!0,class:!0});var b=$(t);ce(l.$$.fragment,b),i=M(b),r=v(b,"DIV",{class:!0});var E=$(r);o=ie(E,s),E.forEach(_),b.forEach(_),d.forEach(_),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",a=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat"),u(t,"class","flex"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(c,d){C(c,e,d),h(e,t),ue(l,t,null),h(t,i),h(t,r),h(r,o),f=!0},p(c,d){(!f||d[0]&6)&&s!==(s=c[1][c[90].index].filesuffix+"")&&Ve(o,s),(!f||d[0]&70&&a!==(a=ke+"/climate/get_temp_file?name="+c[1][c[90].index].filename+"&type="+c[6]+"&filetype=dat"))&&u(t,"href",a)},i(c){f||(T(l.$$.fragment,c),f=!0)},o(c){N(l.$$.fragment,c),f=!1},d(c){c&&_(e),oe(l)}}}function vn(n){let e,t,l,i,r,s=".nc",o,a,f,c,d,b,E,A,j,F,I;l=new Re({});let D=n[1][n[90].index].nc_clipped_exists&&Jt(n);const P=[wn,bn,gn],U=[];function ne(p,V){return p[1][p[90].index].dat_exists?0:p[1][p[90].index].in_limit_conversion?1:2}c=ne(n),d=U[c]=P[c](n);let L=n[1][n[90].index].dat_clipped_exists&&Kt(n);const x=[$n,yn,kn],te=[];function z(p,V){return p[1][p[90].index].tif_convertable&&!p[1][p[90].index].tif_exists?0:p[1][p[90].index].tif_exists?1:2}return A=z(n),j=te[A]=x[A](n),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=S(),r=g("div"),r.textContent=s,a=S(),D&&D.c(),f=S(),d.c(),b=S(),L&&L.c(),E=S(),j.c(),F=de(),this.h()},l(p){e=v(p,"BUTTON",{class:!0});var V=$(e);t=v(V,"A",{href:!0,class:!0,title:!0});var k=$(t);ce(l.$$.fragment,k),i=M(k),r=v(k,"DIV",{class:!0,"data-svelte-h":!0}),be(r)!=="svelte-1g3y8ic"&&(r.textContent=s),k.forEach(_),V.forEach(_),a=M(p),D&&D.l(p),f=M(p),d.l(p),b=M(p),L&&L.l(p),E=M(p),j.l(p),F=de(),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=nc"),u(t,"class","flex"),u(t,"title","Download .nc file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center variant-filled-primary hover:bg-tertiary-900 justify-center rounded-md")},m(p,V){C(p,e,V),h(e,t),ue(l,t,null),h(t,i),h(t,r),C(p,a,V),D&&D.m(p,V),C(p,f,V),U[c].m(p,V),C(p,b,V),L&&L.m(p,V),C(p,E,V),te[A].m(p,V),C(p,F,V),I=!0},p(p,V){(!I||V[0]&70&&o!==(o=ke+"/climate/get_temp_file?name="+p[1][p[90].index].filename+"&type="+p[6]+"&filetype=nc"))&&u(t,"href",o),p[1][p[90].index].nc_clipped_exists?D?(D.p(p,V),V[0]&6&&T(D,1)):(D=Jt(p),D.c(),T(D,1),D.m(f.parentNode,f)):D&&(ye(),N(D,1,1,()=>{D=null}),$e());let k=c;c=ne(p),c===k?U[c].p(p,V):(ye(),N(U[k],1,1,()=>{U[k]=null}),$e(),d=U[c],d?d.p(p,V):(d=U[c]=P[c](p),d.c()),T(d,1),d.m(b.parentNode,b)),p[1][p[90].index].dat_clipped_exists?L?(L.p(p,V),V[0]&6&&T(L,1)):(L=Kt(p),L.c(),T(L,1),L.m(E.parentNode,E)):L&&(ye(),N(L,1,1,()=>{L=null}),$e());let B=A;A=z(p),A===B?te[A].p(p,V):(ye(),N(te[B],1,1,()=>{te[B]=null}),$e(),j=te[A],j?j.p(p,V):(j=te[A]=x[A](p),j.c()),T(j,1),j.m(F.parentNode,F))},i(p){I||(T(l.$$.fragment,p),T(D),T(d),T(L),T(j),I=!0)},o(p){N(l.$$.fragment,p),N(D),N(d),N(L),N(j),I=!1},d(p){p&&(_(e),_(a),_(f),_(b),_(E),_(F)),oe(l),D&&D.d(p),U[c].d(p),L&&L.d(p),te[A].d(p)}}}function Jt(n){let e,t,l,i,r,s=".nc(c)",o,a;return l=new Re({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=S(),r=g("div"),r.textContent=s,this.h()},l(f){e=v(f,"BUTTON",{class:!0});var c=$(e);t=v(c,"A",{href:!0,class:!0,title:!0});var d=$(t);ce(l.$$.fragment,d),i=M(d),r=v(d,"DIV",{class:!0,"data-svelte-h":!0}),be(r)!=="svelte-1jbdvqs"&&(r.textContent=s),d.forEach(_),c.forEach(_),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=nc_clipped"),u(t,"class","flex"),u(t,"title","Download clipped .nc file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){C(f,e,c),h(e,t),ue(l,t,null),h(t,i),h(t,r),a=!0},p(f,c){(!a||c[0]&70&&o!==(o=ke+"/climate/get_temp_file?name="+f[1][f[90].index].filename+"&type="+f[6]+"&filetype=nc_clipped"))&&u(t,"href",o)},i(f){a||(T(l.$$.fragment,f),a=!0)},o(f){N(l.$$.fragment,f),a=!1},d(f){f&&_(e),oe(l)}}}function gn(n){let e,t="";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-qcdn79"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){C(l,e,i)},p:le,i:le,o:le,d(l){l&&_(e)}}}function bn(n){let e,t,l,i,r=".dat",s,o,a;t=new Re({});function f(){return n[56](n[90])}return{c(){e=g("button"),_e(t.$$.fragment),l=S(),i=g("div"),i.textContent=r,this.h()},l(c){e=v(c,"BUTTON",{class:!0,title:!0});var d=$(e);ce(t.$$.fragment,d),l=M(d),i=v(d,"DIV",{class:!0,"data-svelte-h":!0}),be(i)!=="svelte-1uzok2n"&&(i.textContent=r),d.forEach(_),this.h()},h(){u(i,"class","ml-1 flex place-items-center justify-items-center"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md"),u(e,"title","Generate .dat file for download")},m(c,d){C(c,e,d),ue(t,e,null),h(e,l),h(e,i),s=!0,o||(a=fe(e,"click",f),o=!0)},p(c,d){n=c},i(c){s||(T(t.$$.fragment,c),s=!0)},o(c){N(t.$$.fragment,c),s=!1},d(c){c&&_(e),oe(t),o=!1,a()}}}function wn(n){let e,t,l,i,r,s=".dat",o,a;return l=new Re({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=S(),r=g("div"),r.textContent=s,this.h()},l(f){e=v(f,"BUTTON",{class:!0});var c=$(e);t=v(c,"A",{href:!0,class:!0,title:!0});var d=$(t);ce(l.$$.fragment,d),i=M(d),r=v(d,"DIV",{class:!0,"data-svelte-h":!0}),be(r)!=="svelte-xhf5go"&&(r.textContent=s),d.forEach(_),c.forEach(_),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat"),u(t,"class","flex"),u(t,"title","Download .dat file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){C(f,e,c),h(e,t),ue(l,t,null),h(t,i),h(t,r),a=!0},p(f,c){(!a||c[0]&70&&o!==(o=ke+"/climate/get_temp_file?name="+f[1][f[90].index].filename+"&type="+f[6]+"&filetype=dat"))&&u(t,"href",o)},i(f){a||(T(l.$$.fragment,f),a=!0)},o(f){N(l.$$.fragment,f),a=!1},d(f){f&&_(e),oe(l)}}}function Kt(n){let e,t,l,i,r,s=".dat(c)",o,a;return l=new Re({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=S(),r=g("div"),r.textContent=s,this.h()},l(f){e=v(f,"BUTTON",{class:!0});var c=$(e);t=v(c,"A",{href:!0,class:!0,title:!0});var d=$(t);ce(l.$$.fragment,d),i=M(d),r=v(d,"DIV",{class:!0,"data-svelte-h":!0}),be(r)!=="svelte-484fei"&&(r.textContent=s),d.forEach(_),c.forEach(_),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat_clipped"),u(t,"class","flex"),u(t,"title","Download clipped .dat file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){C(f,e,c),h(e,t),ue(l,t,null),h(t,i),h(t,r),a=!0},p(f,c){(!a||c[0]&70&&o!==(o=ke+"/climate/get_temp_file?name="+f[1][f[90].index].filename+"&type="+f[6]+"&filetype=dat_clipped"))&&u(t,"href",o)},i(f){a||(T(l.$$.fragment,f),a=!0)},o(f){N(l.$$.fragment,f),a=!1},d(f){f&&_(e),oe(l)}}}function kn(n){let e,t="";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-qcdn79"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){C(l,e,i)},p:le,i:le,o:le,d(l){l&&_(e)}}}function yn(n){let e,t,l,i,r,s=".tif",o,a;return l=new Re({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=S(),r=g("div"),r.textContent=s,this.h()},l(f){e=v(f,"BUTTON",{class:!0});var c=$(e);t=v(c,"A",{href:!0,class:!0,title:!0});var d=$(t);ce(l.$$.fragment,d),i=M(d),r=v(d,"DIV",{class:!0,"data-svelte-h":!0}),be(r)!=="svelte-1jouijs"&&(r.textContent=s),d.forEach(_),c.forEach(_),this.h()},h(){u(r,"class","ml-1 text-white flex place-items-center justify-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=tif"),u(t,"class","flex"),u(t,"title","Download TIFF file"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){C(f,e,c),h(e,t),ue(l,t,null),h(t,i),h(t,r),a=!0},p(f,c){(!a||c[0]&70&&o!==(o=ke+"/climate/get_temp_file?name="+f[1][f[90].index].filename+"&type="+f[6]+"&filetype=tif"))&&u(t,"href",o)},i(f){a||(T(l.$$.fragment,f),a=!0)},o(f){N(l.$$.fragment,f),a=!1},d(f){f&&_(e),oe(l)}}}function $n(n){let e,t,l,i,r=".tif",s,o,a;t=new Re({});function f(){return n[57](n[90])}return{c(){e=g("button"),_e(t.$$.fragment),l=S(),i=g("div"),i.textContent=r,this.h()},l(c){e=v(c,"BUTTON",{class:!0,title:!0});var d=$(e);ce(t.$$.fragment,d),l=M(d),i=v(d,"DIV",{class:!0,"data-svelte-h":!0}),be(i)!=="svelte-17agyo6"&&(i.textContent=r),d.forEach(_),this.h()},h(){u(i,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md"),u(e,"title","Generate TIFF file for download (might fail)")},m(c,d){C(c,e,d),ue(t,e,null),h(e,l),h(e,i),s=!0,o||(a=fe(e,"click",f),o=!0)},p(c,d){n=c},i(c){s||(T(t.$$.fragment,c),s=!0)},o(c){N(t.$$.fragment,c),s=!1},d(c){c&&_(e),oe(t),o=!1,a()}}}function Yt(n){let e,t,l,i;const r=[Tn,En],s=[];function o(a,f){return a[1][a[90].index].tif_convertable?0:1}return e=o(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,f){s[e].m(a,f),C(a,l,f),i=!0},p(a,f){let c=e;e=o(a),e===c?s[e].p(a,f):(ye(),N(s[c],1,1,()=>{s[c]=null}),$e(),t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){N(t),i=!1},d(a){a&&_(l),s[e].d(a)}}}function En(n){let e,t="";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-rfwxo5"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){C(l,e,i)},p:le,i:le,o:le,d(l){l&&_(e)}}}function Tn(n){let e,t,l,i,r="View",s,o,a;t=new Ul({});function f(){return n[58](n[90])}return{c(){e=g("button"),_e(t.$$.fragment),l=S(),i=g("div"),i.textContent=r,this.h()},l(c){e=v(c,"BUTTON",{class:!0});var d=$(e);ce(t.$$.fragment,d),l=M(d),i=v(d,"DIV",{class:!0,"data-svelte-h":!0}),be(i)!=="svelte-4n39fu"&&(i.textContent=r),d.forEach(_),this.h()},h(){u(i,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-primary hover:bg-primary-900 rounded-md")},m(c,d){C(c,e,d),ue(t,e,null),h(e,l),h(e,i),s=!0,o||(a=fe(e,"click",f),o=!0)},p(c,d){n=c},i(c){s||(T(t.$$.fragment,c),s=!0)},o(c){N(t.$$.fragment,c),s=!1},d(c){c&&_(e),oe(t),o=!1,a()}}}function Zt(n){let e,t;return e=new on({props:{folder_data:n[1],file_obj:n[90],foldertype:n[6]}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i[0]&2&&(r.folder_data=l[1]),i[0]&4&&(r.file_obj=l[90]),i[0]&64&&(r.foldertype=l[6]),e.$set(r)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Qt(n){let e,t,l,i,r,s,o,a=n[1][n[90].index].filename.replace(n[86],"").replace(/^_+/,"")+"",f,c,d,b,E,A,j,F=n[1][n[90].index].filesize+"",I,D,P,U=n[1][n[90].index].creation_date+"",ne,L,x,te,z,p,V,k,B,Z,y,O,m,ae,Y,R,Q,J;function De(){n[53].call(i,n[90])}function G(ee,H){return ee[1][ee[90].index].metadata_show?hn:mn}let q=G(n),X=q(n);const Ee=[vn,pn],ge=[];function Ue(ee,H){return ee[1][ee[90].index].filesuffix==".nc"?0:1}z=Ue(n),p=ge[z]=Ee[z](n);let me=n[1][n[90].index].filesuffix==".nc"&&Yt(n);function ze(...ee){return n[59](n[90],...ee)}let he=n[1][n[90].index].metadata&&n[1][n[90].index].metadata_show&&Zt(n);function Be(...ee){return n[60](n[90],...ee)}return{c(){e=g("tr"),t=g("td"),l=g("label"),i=g("input"),o=re(`
												  ... `),f=re(a),b=S(),E=g("td"),X.c(),A=S(),j=g("td"),I=re(F),D=S(),P=g("td"),ne=re(U),L=S(),x=g("td"),te=g("div"),p.c(),V=S(),k=g("td"),me&&me.c(),y=S(),O=g("tr"),m=g("td"),he&&he.c(),ae=S(),this.h()},l(ee){e=v(ee,"TR",{class:!0,style:!0});var H=$(e);t=v(H,"TD",{class:!0});var Ie=$(t);l=v(Ie,"LABEL",{for:!0,title:!0});var Te=$(l);i=v(Te,"INPUT",{type:!0,id:!0}),o=ie(Te,`
												  ... `),f=ie(Te,a),Te.forEach(_),Ie.forEach(_),b=M(H),E=v(H,"TD",{});var Ye=$(E);X.l(Ye),Ye.forEach(_),A=M(H),j=v(H,"TD",{});var Ze=$(j);I=ie(Ze,F),Ze.forEach(_),D=M(H),P=v(H,"TD",{});var He=$(P);ne=ie(He,U),He.forEach(_),L=M(H),x=v(H,"TD",{class:!0});var Ce=$(x);te=v(Ce,"DIV",{class:!0});var K=$(te);p.l(K),K.forEach(_),Ce.forEach(_),V=M(H),k=v(H,"TD",{class:!0});var se=$(k);me&&me.l(se),se.forEach(_),H.forEach(_),y=M(ee),O=v(ee,"TR",{class:!0});var Le=$(O);m=v(Le,"TD",{colspan:!0,class:!0});var je=$(m);he&&he.l(je),je.forEach(_),ae=M(Le),Le.forEach(_),this.h()},h(){u(i,"type","checkbox"),i.__value=r=n[90].index,Ge(i,i.__value),u(i,"id",s="checkbox_"+n[90].index),u(l,"for",c="checkbox_"+n[90].index),u(l,"title",d="Select for download: "+n[1][n[90].index].filename),u(t,"class","col-span-7 w-full break-all pl-1"),u(te,"class","flex"),u(x,"class","min-w-[122px]"),u(k,"class","min-w-[86px] max-w-[86px]"),u(e,"class",B="hover:bg-slate-400 "+([n[13].toLowerCase(),n[14],n[15]].every(ze)?"visible":"hidden")),u(e,"style",Z=n[4]&&!n[1][n[90].index].in_limit_conversion&&n[3][n[90].index]?"background: #000000":""),u(m,"colspan","7"),u(m,"class","p-2"),u(O,"class",Y=[n[13].toLowerCase(),n[14],n[15]].every(Be)?"visible":"hidden")},m(ee,H){C(ee,e,H),h(e,t),h(t,l),h(l,i),i.checked=n[3][n[90].index],h(l,o),h(l,f),h(e,b),h(e,E),X.m(E,null),h(e,A),h(e,j),h(j,I),h(e,D),h(e,P),h(P,ne),h(e,L),h(e,x),h(x,te),ge[z].m(te,null),h(e,V),h(e,k),me&&me.m(k,null),C(ee,y,H),C(ee,O,H),h(O,m),he&&he.m(m,null),h(O,ae),R=!0,Q||(J=[fe(i,"change",De),fe(i,"change",n[19])],Q=!0)},p(ee,H){n=ee,(!R||H[0]&4&&r!==(r=n[90].index))&&(i.__value=r,Ge(i,i.__value)),(!R||H[0]&4&&s!==(s="checkbox_"+n[90].index))&&u(i,"id",s),H[0]&12&&(i.checked=n[3][n[90].index]),(!R||H[0]&6)&&a!==(a=n[1][n[90].index].filename.replace(n[86],"").replace(/^_+/,"")+"")&&Ve(f,a),(!R||H[0]&4&&c!==(c="checkbox_"+n[90].index))&&u(l,"for",c),(!R||H[0]&6&&d!==(d="Select for download: "+n[1][n[90].index].filename))&&u(l,"title",d),q===(q=G(n))&&X?X.p(n,H):(X.d(1),X=q(n),X&&(X.c(),X.m(E,null))),(!R||H[0]&6)&&F!==(F=n[1][n[90].index].filesize+"")&&Ve(I,F),(!R||H[0]&6)&&U!==(U=n[1][n[90].index].creation_date+"")&&Ve(ne,U);let Ie=z;z=Ue(n),z===Ie?ge[z].p(n,H):(ye(),N(ge[Ie],1,1,()=>{ge[Ie]=null}),$e(),p=ge[z],p?p.p(n,H):(p=ge[z]=Ee[z](n),p.c()),T(p,1),p.m(te,null)),n[1][n[90].index].filesuffix==".nc"?me?(me.p(n,H),H[0]&6&&T(me,1)):(me=Yt(n),me.c(),T(me,1),me.m(k,null)):me&&(ye(),N(me,1,1,()=>{me=null}),$e()),(!R||H[0]&57350&&B!==(B="hover:bg-slate-400 "+([n[13].toLowerCase(),n[14],n[15]].every(ze)?"visible":"hidden")))&&u(e,"class",B),(!R||H[0]&30&&Z!==(Z=n[4]&&!n[1][n[90].index].in_limit_conversion&&n[3][n[90].index]?"background: #000000":""))&&u(e,"style",Z),n[1][n[90].index].metadata&&n[1][n[90].index].metadata_show?he?(he.p(n,H),H[0]&6&&T(he,1)):(he=Zt(n),he.c(),T(he,1),he.m(m,null)):he&&(ye(),N(he,1,1,()=>{he=null}),$e()),(!R||H[0]&57350&&Y!==(Y=[n[13].toLowerCase(),n[14],n[15]].every(Be)?"visible":"hidden"))&&u(O,"class",Y)},i(ee){R||(T(p),T(me),T(he),R=!0)},o(ee){N(p),N(me),N(he),R=!1},d(ee){ee&&(_(e),_(y),_(O)),X.d(),ge[z].d(),me&&me.d(),he&&he.d(),Q=!1,mt(J)}}}function Xt(n){let e,t,l,i,r,s,o,a,f=n[86]+"",c,d,b=n[87].files.filter(n[51]).length+"",E,A,j,F,I,D,P='<tr><th class="text-left">Filename</th> <th class="text-left min-w-[80px] max-w-[80px]">Metadata</th> <th class="text-left min-w-[80px] max-w-[80px]">Filesize</th> <th class="text-left min-w-[140px] max-w-[140px]">Last modified</th> <th class="text-left min-w-[122px] max-w-[122px]">Download Link</th> <th class="text-left min-w-[86px] max-w-[86px]">Visualize</th></tr>',U,ne,L,x,te,z,p,V;const k=[dn,_n],B=[];function Z(Y,R){return Y[87].toggled?0:1}r=Z(n),s=B[r]=k[r](n);function y(){return n[52](n[86])}let O=Ne(n[87].files),m=[];for(let Y=0;Y<O.length;Y+=1)m[Y]=Qt(Et(n,O,Y));const ae=Y=>N(m[Y],1,1,()=>{m[Y]=null});return{c(){e=g("div"),t=g("div"),l=g("button"),i=g("div"),s.c(),o=S(),a=g("h2"),c=re(f),d=re(" ("),E=re(b),A=re(")"),j=S(),F=g("div"),I=g("table"),D=g("thead"),D.innerHTML=P,U=S(),ne=g("tbody");for(let Y=0;Y<m.length;Y+=1)m[Y].c();x=S(),this.h()},l(Y){e=v(Y,"DIV",{class:!0});var R=$(e);t=v(R,"DIV",{class:!0});var Q=$(t);l=v(Q,"BUTTON",{class:!0});var J=$(l);i=v(J,"DIV",{class:!0});var De=$(i);s.l(De),De.forEach(_),o=M(J),a=v(J,"H2",{class:!0});var G=$(a);c=ie(G,f),d=ie(G," ("),E=ie(G,b),A=ie(G,")"),G.forEach(_),J.forEach(_),Q.forEach(_),j=M(R),F=v(R,"DIV",{class:!0});var q=$(F);I=v(q,"TABLE",{class:!0});var X=$(I);D=v(X,"THEAD",{"data-svelte-h":!0}),be(D)!=="svelte-6vbf8e"&&(D.innerHTML=P),U=M(X),ne=v(X,"TBODY",{});var Ee=$(ne);for(let ge=0;ge<m.length;ge+=1)m[ge].l(Ee);Ee.forEach(_),X.forEach(_),q.forEach(_),x=M(R),R.forEach(_),this.h()},h(){u(i,"class","flex-center w-[18px] h-[28px]"),u(a,"class","text-xl ml-2"),u(l,"class","w-full flex items-left"),u(t,"class","w-full h-[36px] flex items-center rounded-md pl-3 "+(n[89]%2==0?"bg-emerald-700":"bg-emerald-900")+" mb-1"),u(I,"class","table-fixed mb-1"),u(F,"class",L=n[87].toggled?"visible":"hidden"),u(e,"class",te=n[87].files.filter(n[61]).length>0?"visible":"hidden")},m(Y,R){C(Y,e,R),h(e,t),h(t,l),h(l,i),B[r].m(i,null),h(l,o),h(l,a),h(a,c),h(a,d),h(a,E),h(a,A),h(e,j),h(e,F),h(F,I),h(I,D),h(I,U),h(I,ne);for(let Q=0;Q<m.length;Q+=1)m[Q]&&m[Q].m(ne,null);h(e,x),z=!0,p||(V=fe(l,"click",y),p=!0)},p(Y,R){n=Y;let Q=r;if(r=Z(n),r!==Q&&(ye(),N(B[Q],1,1,()=>{B[Q]=null}),$e(),s=B[r],s||(s=B[r]=k[r](n),s.c()),T(s,1),s.m(i,null)),(!z||R[0]&4)&&f!==(f=n[86]+"")&&Ve(c,f),(!z||R[0]&57348)&&b!==(b=n[87].files.filter(n[51]).length+"")&&Ve(E,b),R[0]&101507166){O=Ne(n[87].files);let J;for(J=0;J<O.length;J+=1){const De=Et(n,O,J);m[J]?(m[J].p(De,R),T(m[J],1)):(m[J]=Qt(De),m[J].c(),T(m[J],1),m[J].m(ne,null))}for(ye(),J=O.length;J<m.length;J+=1)ae(J);$e()}(!z||R[0]&4&&L!==(L=n[87].toggled?"visible":"hidden"))&&u(F,"class",L),(!z||R[0]&57348&&te!==(te=n[87].files.filter(n[61]).length>0?"visible":"hidden"))&&u(e,"class",te)},i(Y){if(!z){T(s);for(let R=0;R<O.length;R+=1)T(m[R]);z=!0}},o(Y){N(s),m=m.filter(Boolean);for(let R=0;R<m.length;R+=1)N(m[R]);z=!1},d(Y){Y&&_(e),B[r].d(),xe(m,Y),p=!1,V()}}}function Cn(n){return{c:le,l:le,m:le,p:le,d:le}}function Dn(n){let e,t,l,i,r="<span>To download all selected files using Wget:</span>",s,o,a,f=n[5]>0&&xt(n);return{c(){e=g("div"),t=g("div"),f&&f.c(),l=S(),i=g("div"),i.innerHTML=r,s=S(),o=g("div"),a=re(n[17]),this.h()},l(c){e=v(c,"DIV",{style:!0});var d=$(e);t=v(d,"DIV",{class:!0});var b=$(t);f&&f.l(b),l=M(b),i=v(b,"DIV",{class:!0,"data-svelte-h":!0}),be(i)!=="svelte-7lv1vm"&&(i.innerHTML=r),s=M(b),o=v(b,"DIV",{class:!0});var E=$(o);a=ie(E,n[17]),E.forEach(_),b.forEach(_),d.forEach(_),this.h()},h(){u(i,"class","mb-2"),u(o,"class","p-[3px] bg-surface-900 [word-spacing:6px]"),u(t,"class","bg-surface-700 border-2 rounded-md p-4 m-2"),et(e,"display","flex")},m(c,d){C(c,e,d),h(e,t),f&&f.m(t,null),h(t,l),h(t,i),h(t,s),h(t,o),h(o,a)},p(c,d){c[5]>0?f?f.p(c,d):(f=xt(c),f.c(),f.m(t,l)):f&&(f.d(1),f=null),d[0]&131072&&Ve(a,c[17])},d(c){c&&_(e),f&&f.d()}}}function xt(n){let e,t,l;return{c(){e=re("("),t=re(n[5]),l=re(`) of your selected files were too big and are thus dropped from the
					download.`)},l(i){e=ie(i,"("),t=ie(i,n[5]),l=ie(i,`) of your selected files were too big and are thus dropped from the
					download.`)},m(i,r){C(i,e,r),C(i,t,r),C(i,l,r)},p(i,r){r[0]&32&&Ve(t,i[5])},d(i){i&&(_(e),_(t),_(l))}}}function In(n){let e,t,l,i="Available Collections",r,s,o,a,f,c,d,b,E,A,j,F,I,D,P,U,ne,L,x,te,z,p,V,k,B,Z,y,O,m,ae,Y,R,Q,J,De,G,q,X,Ee,ge,Ue;o=new Vl({});function me(K){n[33](K)}function ze(K){n[34](K)}function he(K){n[35](K)}let Be={};n[6]!==void 0&&(Be.foldertype=n[6]),n[7]!==void 0&&(Be.filter=n[7]),n[0]!==void 0&&(Be.filter_by_status=n[0]),f=new wl({props:Be}),Me.push(()=>Pe(f,"foldertype",me)),Me.push(()=>Pe(f,"filter",ze)),Me.push(()=>Pe(f,"filter_by_status",he)),f.$on("foldertype_changed",n[36]);let ee=n[0]=="internal"&&Nt(n),H=n[8].length>0&&Vt(n);L=new sl({}),V=new al({}),O=new Pl({}),Q=new Fl({});const Ie=[cn,un],Te=[];function Ye(K,se){return K[1].length>0?0:1}G=Ye(n),q=Te[G]=Ie[G](n);function Ze(K,se){return K[17].length>0?Dn:Cn}let He=Ze(n),Ce=He(n);return{c(){e=g("div"),t=g("div"),l=g("h1"),l.textContent=i,r=S(),s=g("div"),_e(o.$$.fragment),a=S(),_e(f.$$.fragment),E=S(),ee&&ee.c(),A=S(),j=g("div"),F=g("input"),I=S(),H&&H.c(),D=S(),P=g("div"),U=g("div"),ne=g("button"),_e(L.$$.fragment),x=re("   Expand All"),te=S(),z=g("div"),p=g("button"),_e(V.$$.fragment),k=re("   Close All"),B=S(),Z=g("div"),y=g("button"),_e(O.$$.fragment),m=re("   Select All"),ae=S(),Y=g("div"),R=g("button"),_e(Q.$$.fragment),J=re("   Unselect All"),De=S(),q.c(),X=S(),Ce.c(),this.h()},l(K){e=v(K,"DIV",{class:!0});var se=$(e);t=v(se,"DIV",{class:!0});var Le=$(t);l=v(Le,"H1",{class:!0,"data-svelte-h":!0}),be(l)!=="svelte-1fwzelh"&&(l.textContent=i),r=M(Le),s=v(Le,"DIV",{class:!0});var je=$(s);ce(o.$$.fragment,je),je.forEach(_),Le.forEach(_),a=M(se),ce(f.$$.fragment,se),E=M(se),ee&&ee.l(se),A=M(se),j=v(se,"DIV",{class:!0});var st=$(j);F=v(st,"INPUT",{class:!0,type:!0,placeholder:!0}),st.forEach(_),I=M(se),H&&H.l(se),D=M(se),P=v(se,"DIV",{class:!0});var Fe=$(P);U=v(Fe,"DIV",{});var ft=$(U);ne=v(ft,"BUTTON",{class:!0});var tt=$(ne);ce(L.$$.fragment,tt),x=ie(tt,"   Expand All"),tt.forEach(_),ft.forEach(_),te=M(Fe),z=v(Fe,"DIV",{});var ot=$(z);p=v(ot,"BUTTON",{class:!0});var lt=$(p);ce(V.$$.fragment,lt),k=ie(lt,"   Close All"),lt.forEach(_),ot.forEach(_),B=M(Fe),Z=v(Fe,"DIV",{});var ut=$(Z);y=v(ut,"BUTTON",{class:!0});var nt=$(y);ce(O.$$.fragment,nt),m=ie(nt,"   Select All"),nt.forEach(_),ut.forEach(_),ae=M(Fe),Y=v(Fe,"DIV",{});var ct=$(Y);R=v(ct,"BUTTON",{class:!0});var it=$(R);ce(Q.$$.fragment,it),J=ie(it,"   Unselect All"),it.forEach(_),ct.forEach(_),Fe.forEach(_),De=M(se),q.l(se),X=M(se),Ce.l(se),se.forEach(_),this.h()},h(){u(l,"class","content-heading"),u(s,"class","flex-center"),u(t,"class","flex"),u(F,"class","input w-full mt-4 p-2"),u(F,"type","text"),u(F,"placeholder","Type to filter filenames..."),u(j,"class","p-2"),u(ne,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(p,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(y,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(R,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(P,"class","flex gap-4 mt-2 p-2"),u(e,"class","content-div")},m(K,se){C(K,e,se),h(e,t),h(t,l),h(t,r),h(t,s),ue(o,s,null),h(e,a),ue(f,e,null),h(e,E),ee&&ee.m(e,null),h(e,A),h(e,j),h(j,F),Ge(F,n[13]),h(e,I),H&&H.m(e,null),h(e,D),h(e,P),h(P,U),h(U,ne),ue(L,ne,null),h(ne,x),h(P,te),h(P,z),h(z,p),ue(V,p,null),h(p,k),h(P,B),h(P,Z),h(Z,y),ue(O,y,null),h(y,m),h(P,ae),h(P,Y),h(Y,R),ue(Q,R,null),h(R,J),h(e,De),Te[G].m(e,null),h(e,X),Ce.m(e,null),Ee=!0,ge||(Ue=[fe(F,"input",n[38]),fe(ne,"click",n[47]),fe(p,"click",n[48]),fe(y,"click",n[49]),fe(R,"click",n[50])],ge=!0)},p(K,se){const Le={};!c&&se[0]&64&&(c=!0,Le.foldertype=K[6],Se(()=>c=!1)),!d&&se[0]&128&&(d=!0,Le.filter=K[7],Se(()=>d=!1)),!b&&se[0]&1&&(b=!0,Le.filter_by_status=K[0],Se(()=>b=!1)),f.$set(Le),K[0]=="internal"?ee?ee.p(K,se):(ee=Nt(K),ee.c(),ee.m(e,A)):ee&&(ee.d(1),ee=null),se[0]&8192&&F.value!==K[13]&&Ge(F,K[13]),K[8].length>0?H?H.p(K,se):(H=Vt(K),H.c(),H.m(e,D)):H&&(H.d(1),H=null);let je=G;G=Ye(K),G===je?Te[G].p(K,se):(ye(),N(Te[je],1,1,()=>{Te[je]=null}),$e(),q=Te[G],q?q.p(K,se):(q=Te[G]=Ie[G](K),q.c()),T(q,1),q.m(e,X)),He===(He=Ze(K))&&Ce?Ce.p(K,se):(Ce.d(1),Ce=He(K),Ce&&(Ce.c(),Ce.m(e,null)))},i(K){Ee||(T(o.$$.fragment,K),T(f.$$.fragment,K),T(L.$$.fragment,K),T(V.$$.fragment,K),T(O.$$.fragment,K),T(Q.$$.fragment,K),T(q),Ee=!0)},o(K){N(o.$$.fragment,K),N(f.$$.fragment,K),N(L.$$.fragment,K),N(V.$$.fragment,K),N(O.$$.fragment,K),N(Q.$$.fragment,K),N(q),Ee=!1},d(K){K&&_(e),oe(o),oe(f),ee&&ee.d(),H&&H.d(),oe(L),oe(V),oe(O),oe(Q),Te[G].d(),Ce.d(),ge=!1,mt(Ue)}}}async function ht({url:n,key:e,folder_data:t,file_obj:l}){const i=await fetch(n);t[l.index][e]=i.ok?await i.json():{[`currently no ${e} available`]:"for this file"},t[l.index][`${e}_exists`]=i.ok}function Ln(n){const e=document.getElementById("checkbox_"+n);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}function el(n){const e={ai:"Aridity Index",evspsblpot:"PET",evspsbl:"Actual Evaporation",pr:"Precipitation",tas:"Air Temp",tasmax:"Max Air Temp",tasmin:"Min Air Temp",sfcWind:"Wind Speed",water_budget:"Water Budget",kbdi:"KBDI",hurs:"Rel. Humidity",rlds:"D. Long Rad.",rsds:"D. Short Rad.",rsus:"Up Short Rad.",rlus:"Up Long Rad.",spi:"SPI",spei:"SPEI"};for(const[t,l]of Object.entries(e))if(n==t)return n.replace(t,l);return n}const tl=n=>n.show=="true",ll=n=>n.show=="true",nl=n=>n.show=="true",il=n=>n.show=="true",rl=n=>n==!0;function Nn(n,e,t){let l,{filter_by_status:i=""}=e;console.log("Status: ",i);let r=[],s={},o=[],a=!1,f=0,c=1,d="CMIP6_raw",b="",E="",A=[],j=[{time:"1981_2000-2080_2099",show:"false"}],F=[{time:"1981_2000",show:"false"},{time:"2021_2040",show:"false"},{time:"2041_2060",show:"false"},{time:"2080_2099",show:"false"}],I=[{time:"1981_2010",show:"false"},{time:"2011_2040",show:"false"},{time:"2071_2099",show:"false"}],D=[{time:"yearly",show:"false"},{time:"seasonal",show:"false"},{time:"monthly",show:"false"}];pt(()=>{kl.subscribe(w=>{})}),pt(()=>{Z(!1)});async function P(w,W){var pe=ke+"/climate/generate_dat_file?name="+w+"&type="+d;console.log(pe);const we=await fetch(pe,{method:"GET"});if(we.ok)t(1,r[W].dat_exists=!0,r),t(1,r=[...r]);else{t(1,r[W].dat_exists=!1,r),t(1,r=[...r]);var ve=await we.text();throw new Error(`${we.status} ${we.statusText}
Reason: ${ve}`)}}let U="";function ne(w){t(17,l="")}function L(){for(var w=0;w<o.length;w++)r[w].filename.toLowerCase().includes(U.toLowerCase())&&(r[w].filename.includes(m)||m=="_")&&(r[w].filename.includes(Y)||Y=="_")&&t(3,o[w]=!0,o)}function x(){for(var w=0;w<o.length;w++)t(3,o[w]=!1,o)}function te(){for(const[w,W]of Object.entries(s))t(2,s[w].toggled=!0,s)}function z(){for(const[w,W]of Object.entries(s))t(2,s[w].toggled=!1,s)}async function p(){const w=ke+"/climate/select_temp_urls?type="+d;let W=[];t(5,f=0);for(let ve=0;ve<o.length;ve++)if(o[ve]){r[ve].filesuffix,r[ve].filename.split(".").pop();var pe=r[ve].filename;W.push([pe,q])}try{const ve=await fetch(w,{method:"POST",body:JSON.stringify(W)});let qe=[];if(!ve.ok){var we=await ve.text();throw new Error(`${ve.status} ${ve.statusText}
Reason: ${we}`)}qe=await ve.json(),t(17,l=qe["wget-command"])}catch(ve){console.log(ve)}}async function V(w,W,pe,we=0){console.log("get_metadata_and_prov",w,W,pe),t(1,r[pe.index].tabset=we,r),await Promise.all([ht({url:ke+"/climate/get_temp_file?name="+w+"&type="+W+"&filetype=meta",key:"metadata",folder_data:r,file_obj:pe}),ht({url:ke+"/climate/get_temp_file?name="+w+"&type="+W+"&filetype=prov",key:"metadata_prov",folder_data:r,file_obj:pe}),ht({url:ke+"/climate/get_temp_file?name="+w+"&type="+W+"&filetype=prov_stats",key:"metadata_prov_stats",folder_data:r,file_obj:pe})]),t(1,r[pe.index].metadata_show=!0,r),history.pushState({},"","?type="+W+"&filename="+w),t(1,r=[...r])}async function k(w,W){var pe=ke+"/climate/access_tif?type="+d+"&name="+w;const we=await fetch(pe,{method:"GET"});if(we.ok)t(1,r[W].tif_exists=!0,r),t(1,r=[...r]);else{t(1,r[W].tif_exists=!1,r),t(1,r[W].tif_convertable=!1,r),t(1,r=[...r]);var ve=await we.text();throw new Error(`${we.status} ${we.statusText}
Reason: ${ve}`)}}function B(){let w=/(^(.+)_v(\d+)_([^_]+))|^((.+)_day_([^_]+)|^(.+))/;const W=$l.find(ve=>ve.key==d);W&&W.header_regex.length>2&&(w=new RegExp(W.header_regex.replace(/\\/g,"\\"))),console.log("filePattern: ",w),t(2,s={});let pe={};t(8,A=[]),pe["No Category"]={files:[],toggled:!1},J(),G();for(let ve=0;ve<r.length;ve++){var we=r[ve].filename;const qe=we.match(w);if(Q(we),De(we),qe&&qe.length>=3){const Qe=qe[0],Xe=/^(_*[^_]*_[^_]+)/g;let _t=we.replace(qe[0],"").replace(".nc","").match(Xe),rt="";_t&&(rt=_t[0].replace(/_\d{4}/g,"").replace(/^_+/,"").replace("_Afr",""),A.includes(rt)||A.push(rt)),pe[Qe]||(pe[Qe]={files:[],toggled:!1}),pe[Qe].files.push({filename:we,index:ve})}else pe["No Category"].files.push({filename:we,index:ve})}if(pe["No Category"].files.length==0&&delete pe["No Category"],t(2,s=pe),t(8,A=[...A]),b.length>0)for(const[ve,qe]of Object.entries(s)){const Qe=qe.files.find(Xe=>Xe.filename===b);if(console.log("found",Qe),Qe){t(2,s[ve].toggled=!0,s);const Xe=r.findIndex(rt=>rt.filename===b),_t=r[Xe];console.log("found file in folder_data",_t),V(r[Xe].filename,d,Qe,0),c=Xe;break}}}async function Z(w=!1){t(1,r={}),t(8,A=[]),t(13,U="");try{if(w)var W=await gl(d,!1);else var W=await bl(d,!1);t(1,r=W.content),r.sort((pe,we)=>pe.filename.replace(".nc","").localeCompare(we.filename.replace(".nc",""))),B(),t(3,o=r.map(()=>!1)),Ll&&history.pushState({},"","?type="+d+"&filename="+b)}catch{console.log("Refreshing folder content failed.")}finally{setTimeout(()=>{Ln(c),c=1},500)}}function y(w){t(2,s[w].toggled=!s[w].toggled,s)}function O(w){t(13,U=w)}let m="_";function ae(w){t(14,m=w)}let Y="_";function R(w){t(15,Y=w)}function Q(w){for(let W=0;W<j.length;W++)w.includes(j[W].time)&&t(9,j[W].show="true",j);for(let W=0;W<F.length;W++)w.includes(F[W].time)&&t(10,F[W].show="true",F);for(let W=0;W<I.length;W++)w.includes(I[W].time)&&t(11,I[W].show="true",I)}function J(){for(let w=0;w<j.length;w++)t(9,j[w].show="false",j);for(let w=0;w<F.length;w++)t(10,F[w].show="false",F);for(let w=0;w<I.length;w++)t(11,I[w].show="false",I);t(14,m="_")}function De(w){for(let W=0;W<D.length;W++)w.includes(D[W].time)&&t(12,D[W].show="true",D)}function G(){for(let w=0;w<D.length;w++)t(12,D[w].show="false",D)}let q="nc";function X(w){t(16,q=w.target.value)}const Ee=[[]];function ge(w){d=w,t(6,d)}function Ue(w){E=w,t(7,E)}function me(w){i=w,t(0,i)}const ze=()=>Z(!1),he=()=>Z(!0);function Be(){U=this.value,t(13,U)}const ee=w=>ae(w.time),H=()=>ae("20y"),Ie=w=>ae(w.time),Te=()=>ae("30y"),Ye=w=>ae(w.time),Ze=()=>ae("_"),He=w=>R(w.time),Ce=()=>R("_"),K=()=>te(),se=()=>z(),Le=()=>L(),je=()=>x(),st=w=>[U.toLowerCase(),m,Y].every(W=>w.filename.toLowerCase().includes(W)),Fe=w=>y(w);function ft(w){o[w.index]=this.checked,t(3,o)}const tt=w=>V(r[w.index].filename,d,w),ot=w=>t(1,r[w.index].metadata_show=!1,r),lt=w=>P(r[w.index].filename,w.index),ut=w=>k(r[w.index].filename,w.index),nt=w=>V(r[w.index].filename,d,w,4),ct=(w,W)=>r[w.index].filename.toLowerCase().includes(W),it=(w,W)=>r[w.index].filename.toLowerCase().includes(W),fl=w=>[U.toLowerCase(),m,Y].every(W=>w.filename.toLowerCase().includes(W));function ol(){q=this.__value,t(16,q)}function ul(){q=this.__value,t(16,q)}function cl(){q=this.__value,t(16,q)}function _l(){q=this.__value,t(16,q)}function dl(){q=this.__value,t(16,q)}n.$$set=w=>{"filter_by_status"in w&&t(0,i=w.filter_by_status)},t(17,l="");{const w=new URLSearchParams(window.location.search),W=w.get("type");W&&t(6,d=W);const pe=w.get("filename");pe&&(b=pe)}return[i,r,s,o,a,f,d,E,A,j,F,I,D,U,m,Y,q,l,P,ne,L,x,te,z,p,V,k,Z,y,O,ae,R,X,ge,Ue,me,ze,he,Be,ee,H,Ie,Te,Ye,Ze,He,Ce,K,se,Le,je,st,Fe,ft,tt,ot,lt,ut,nt,ct,it,fl,ol,Ee,ul,cl,_l,dl]}class zn extends Je{constructor(e){super(),Ke(this,e,Nn,In,We,{filter_by_status:0},null,[-1,-1,-1,-1])}}export{zn as C};
