import{s as Ye,n as le,d as c,i as E,b as m,l as u,G as je,e as y,H as Me,c as b,h as g,F as ze,I as Fe,g as A,v as de,j as U,m as we,f as ie,t as re,u as nt,r as bt,y as Ke,q as oe,z as gt,o as lt,x as pl,a as Be,Z as vl,M as bl}from"./B37NePj7.js";import{S as Ze,i as Qe,d as fe,t as L,a as C,m as ue,c as ce,b as _e,f as He,g as Te,e as Ce}from"./B835D2GP.js";import{e as Ve}from"./D6YF6ztN.js";import{A as Ee}from"./BO6XNHuD.js";import{T as gl,z as wl,_ as kl}from"./BBG1gXoa.js";import{F as yl,t as $l,L as El,f as Tl}from"./DQL43UPK.js";import"./tJdQQq72.js";import{T as Cl,a as ft,D as Ge,P as pt,C as Dl,M as Il,b as Nl}from"./DH_a7o5o.js";import"./CdvI_gxk.js";const Ll=!0,Vl=Ll;function Bl(n){let e,t;return{c(){e=Me("svg"),t=Me("path"),this.h()},l(l){e=je(l,"svg",{class:!0,xmlns:!0,viewBox:!0,height:!0,width:!0});var i=y(e);t=je(i,"path",{d:!0}),y(t).forEach(c),i.forEach(c),this.h()},h(){u(t,"d","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32l0 96L0 384c0 35.3 28.7 64 64 64l192 0 0-64L64 384l0-224 192 0 0-64L64 96l0-64zM288 192c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4L409.4 9.4c-6-6-14.1-9.4-22.6-9.4L320 0c-17.7 0-32 14.3-32 32l0 160zm0 288c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4l-13.3-13.3c-6-6-14.1-9.4-22.6-9.4L320 288c-17.7 0-32 14.3-32 32l0 160z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 576 512"),u(e,"height","40px"),u(e,"width","36px")},m(l,i){E(l,e,i),m(e,t)},p:le,i:le,o:le,d(l){l&&c(e)}}}class Al extends Ze{constructor(e){super(),Qe(this,e,null,Bl,Ye,{})}}function Ul(n){let e,t;return{c(){e=Me("svg"),t=Me("path"),this.h()},l(l){e=je(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=je(i,"path",{d:!0}),y(t).forEach(c),i.forEach(c),this.h()},h(){u(t,"d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5l0 39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9l0 39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7l0-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1L257 256c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 512 512"),u(e,"width","24")},m(l,i){E(l,e,i),m(e,t)},p:le,i:le,o:le,d(l){l&&c(e)}}}class Ol extends Ze{constructor(e){super(),Qe(this,e,null,Ul,Ye,{})}}function jl(n){let e,t;return{c(){e=Me("svg"),t=Me("path"),this.h()},l(l){e=je(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var i=y(e);t=je(i,"path",{d:!0}),y(t).forEach(c),i.forEach(c),this.h()},h(){u(t,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),u(e,"class","pb-1 fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 320 512"),u(e,"width",n[1]),u(e,"height",n[0])},m(l,i){E(l,e,i),m(e,t)},p(l,[i]){i&2&&u(e,"width",l[1]),i&1&&u(e,"height",l[0])},i:le,o:le,d(l){l&&c(e)}}}function Ml(n,e,t){let{h:l="32px"}=e,{w:i="18px"}=e;return n.$$set=r=>{"h"in r&&t(0,l=r.h),"w"in r&&t(1,i=r.w)},[l,i]}class cl extends Ze{constructor(e){super(),Qe(this,e,Ml,jl,Ye,{h:0,w:1})}}function Sl(n){let e,t;return{c(){e=Me("svg"),t=Me("path"),this.h()},l(l){e=je(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var i=y(e);t=je(i,"path",{d:!0}),y(t).forEach(c),i.forEach(c),this.h()},h(){u(t,"d","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 256 512"),u(e,"width",n[0]),u(e,"height",n[1])},m(l,i){E(l,e,i),m(e,t)},p(l,[i]){i&1&&u(e,"width",l[0]),i&2&&u(e,"height",l[1])},i:le,o:le,d(l){l&&c(e)}}}function Pl(n,e,t){let{w:l="14px"}=e,{h:i="28px"}=e;return n.$$set=r=>{"w"in r&&t(0,l=r.w),"h"in r&&t(1,i=r.h)},[l,i]}class _l extends Ze{constructor(e){super(),Qe(this,e,Pl,Sl,Ye,{w:0,h:1})}}function zl(n){let e,t;return{c(){e=Me("svg"),t=Me("path"),this.h()},l(l){e=je(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=je(i,"path",{d:!0}),y(t).forEach(c),i.forEach(c),this.h()},h(){u(t,"d","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","19")},m(l,i){E(l,e,i),m(e,t)},p:le,i:le,o:le,d(l){l&&c(e)}}}class Fl extends Ze{constructor(e){super(),Qe(this,e,null,zl,Ye,{})}}function Hl(n){let e,t;return{c(){e=Me("svg"),t=Me("path"),this.h()},l(l){e=je(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=je(i,"path",{d:!0}),y(t).forEach(c),i.forEach(c),this.h()},h(){u(t,"d","M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","18")},m(l,i){E(l,e,i),m(e,t)},p:le,i:le,o:le,d(l){l&&c(e)}}}class Rl extends Ze{constructor(e){super(),Qe(this,e,null,Hl,Ye,{})}}function ql(n){let e,t="Metadata";return{c(){e=g("span"),e.textContent=t},l(l){e=b(l,"SPAN",{"data-svelte-h":!0}),we(e)!=="svelte-myby7z"&&(e.textContent=t)},m(l,i){E(l,e,i)},p:le,d(l){l&&c(e)}}}function Gl(n){let e;return{c(){e=re("Related Datasets")},l(t){e=ie(t,"Related Datasets")},m(t,l){E(t,e,l)},d(t){t&&c(e)}}}function Wl(n){let e;return{c(){e=re("Provenance")},l(t){e=ie(t,"Provenance")},m(t,l){E(t,e,l)},d(t){t&&c(e)}}}function Jl(n){let e;return{c(){e=re("Citation")},l(t){e=ie(t,"Citation")},m(t,l){E(t,e,l)},d(t){t&&c(e)}}}function wt(n){let e,t,l;function i(s){n[13](s)}let r={name:"tab4",value:4,$$slots:{default:[Kl]},$$scope:{ctx:n}};return n[3]!==void 0&&(r.group=n[3]),e=new ft({props:r}),ze.push(()=>He(e,"group",i)),{c(){_e(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,f){ue(e,s,f),l=!0},p(s,f){const a={};f&16384&&(a.$$scope={dirty:f,ctx:s}),!t&&f&8&&(t=!0,a.group=s[3],Fe(()=>t=!1)),e.$set(a)},i(s){l||(C(e.$$.fragment,s),l=!0)},o(s){L(e.$$.fragment,s),l=!1},d(s){fe(e,s)}}}function Kl(n){let e;return{c(){e=re("Map")},l(t){e=ie(t,"Map")},m(t,l){E(t,e,l)},d(t){t&&c(e)}}}function kt(n){let e,t,l,i;return{c(){e=g("div"),t=g("a"),l=re("File Information View"),this.h()},l(r){e=b(r,"DIV",{class:!0});var s=y(e);t=b(s,"A",{href:!0,class:!0,style:!0});var f=y(t);l=ie(f,"File Information View"),f.forEach(c),s.forEach(c),this.h()},h(){u(t,"href",i="/climate_services_gateway/file_info?type="+n[2]+"&filename="+n[4]),u(t,"class","px-3 p-1 py-1 bg-blue-500 text-white rounded hover:bg-blue-600"),nt(t,"margin-top","5px"),nt(t,"margin-right","2px"),nt(t,"margin-left","auto"),nt(t,"display","block"),nt(t,"width","max-content"),u(e,"class","ml-auto")},m(r,s){E(r,e,s),m(e,t),m(t,l)},p(r,s){s&20&&i!==(i="/climate_services_gateway/file_info?type="+r[2]+"&filename="+r[4])&&u(t,"href",i)},d(r){r&&c(e)}}}function Yl(n){let e,t,l,i,r,s,f,a,o,d,h,p,$,O,R;function Z(_){n[9](_)}let N={name:"tab1",value:0,$$slots:{default:[ql]},$$scope:{ctx:n}};n[3]!==void 0&&(N.group=n[3]),e=new ft({props:N}),ze.push(()=>He(e,"group",Z));function D(_){n[10](_)}let S={name:"tab1",value:1,$$slots:{default:[Gl]},$$scope:{ctx:n}};n[3]!==void 0&&(S.group=n[3]),i=new ft({props:S}),ze.push(()=>He(i,"group",D));function j(_){n[11](_)}let ae={name:"tab2",value:2,$$slots:{default:[Wl]},$$scope:{ctx:n}};n[3]!==void 0&&(ae.group=n[3]),f=new ft({props:ae}),ze.push(()=>He(f,"group",j));function I(_){n[12](_)}let X={name:"tab3",value:3,$$slots:{default:[Jl]},$$scope:{ctx:n}};n[3]!==void 0&&(X.group=n[3]),d=new ft({props:X}),ze.push(()=>He(d,"group",I));let M=n[0][n[1].index].tif_convertable&&wt(n),V=n[0][n[1].index].metadata_exists&&kt(n);return{c(){_e(e.$$.fragment),l=U(),_e(i.$$.fragment),s=U(),_e(f.$$.fragment),o=U(),_e(d.$$.fragment),p=U(),M&&M.c(),$=U(),V&&V.c(),O=de()},l(_){ce(e.$$.fragment,_),l=A(_),ce(i.$$.fragment,_),s=A(_),ce(f.$$.fragment,_),o=A(_),ce(d.$$.fragment,_),p=A(_),M&&M.l(_),$=A(_),V&&V.l(_),O=de()},m(_,T){ue(e,_,T),E(_,l,T),ue(i,_,T),E(_,s,T),ue(f,_,T),E(_,o,T),ue(d,_,T),E(_,p,T),M&&M.m(_,T),E(_,$,T),V&&V.m(_,T),E(_,O,T),R=!0},p(_,T){const P={};T&16384&&(P.$$scope={dirty:T,ctx:_}),!t&&T&8&&(t=!0,P.group=_[3],Fe(()=>t=!1)),e.$set(P);const G={};T&16384&&(G.$$scope={dirty:T,ctx:_}),!r&&T&8&&(r=!0,G.group=_[3],Fe(()=>r=!1)),i.$set(G);const Y={};T&16384&&(Y.$$scope={dirty:T,ctx:_}),!a&&T&8&&(a=!0,Y.group=_[3],Fe(()=>a=!1)),f.$set(Y);const k={};T&16384&&(k.$$scope={dirty:T,ctx:_}),!h&&T&8&&(h=!0,k.group=_[3],Fe(()=>h=!1)),d.$set(k),_[0][_[1].index].tif_convertable?M?(M.p(_,T),T&3&&C(M,1)):(M=wt(_),M.c(),C(M,1),M.m($.parentNode,$)):M&&(Te(),L(M,1,1,()=>{M=null}),Ce()),_[0][_[1].index].metadata_exists?V?V.p(_,T):(V=kt(_),V.c(),V.m(O.parentNode,O)):V&&(V.d(1),V=null)},i(_){R||(C(e.$$.fragment,_),C(i.$$.fragment,_),C(f.$$.fragment,_),C(d.$$.fragment,_),C(M),R=!0)},o(_){L(e.$$.fragment,_),L(i.$$.fragment,_),L(f.$$.fragment,_),L(d.$$.fragment,_),L(M),R=!1},d(_){_&&(c(l),c(s),c(o),c(p),c($),c(O)),fe(e,_),fe(i,_),fe(f,_),fe(d,_),M&&M.d(_),V&&V.d(_)}}}function Zl(n){let e,t,l=n[4]&&n[4]!=""&&yt(n);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,r){l&&l.m(i,r),E(i,e,r),t=!0},p(i,r){i[4]&&i[4]!=""?l?(l.p(i,r),r&16&&C(l,1)):(l=yt(i),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Te(),L(l,1,1,()=>{l=null}),Ce())},i(i){t||(C(l),t=!0)},o(i){L(l),t=!1},d(i){i&&c(e),l&&l.d(i)}}}function Ql(n){let e,t,l=n[0][n[1].index].metadata&&n[0][n[1].index].metadata.file&&n[0][n[1].index].metadata_show&&Et(n);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,r){l&&l.m(i,r),E(i,e,r),t=!0},p(i,r){i[0][i[1].index].metadata&&i[0][i[1].index].metadata.file&&i[0][i[1].index].metadata_show?l?(l.p(i,r),r&3&&C(l,1)):(l=Et(i),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Te(),L(l,1,1,()=>{l=null}),Ce())},i(i){t||(C(l),t=!0)},o(i){L(l),t=!1},d(i){i&&c(e),l&&l.d(i)}}}function Xl(n){let e,t,l,i;const r=[ln,tn],s=[];function f(a,o){return a[0][a[1].index].metadata_prov_exists&&a[0][a[1].index].metadata_show?0:1}return e=f(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,o){s[e].m(a,o),E(a,l,o),i=!0},p(a,o){let d=e;e=f(a),e===d?s[e].p(a,o):(Te(),L(s[d],1,1,()=>{s[d]=null}),Ce(),t=s[e],t?t.p(a,o):(t=s[e]=r[e](a),t.c()),C(t,1),t.m(l.parentNode,l))},i(a){i||(C(t),i=!0)},o(a){L(t),i=!1},d(a){a&&c(l),s[e].d(a)}}}function xl(n){let e,t,l,i;const r=[rn,nn],s=[];function f(a,o){return a[0][a[1].index].metadata_prov_stats?0:1}return e=f(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,o){s[e].m(a,o),E(a,l,o),i=!0},p(a,o){let d=e;e=f(a),e===d?s[e].p(a,o):(Te(),L(s[d],1,1,()=>{s[d]=null}),Ce(),t=s[e],t?t.p(a,o):(t=s[e]=r[e](a),t.c()),C(t,1),t.m(l.parentNode,l))},i(a){i||(C(t),i=!0)},o(a){L(t),i=!1},d(a){a&&c(l),s[e].d(a)}}}function en(n){let e,t,l,i;const r=[sn,an],s=[];function f(a,o){return a[0][a[1].index].metadata_exists?0:1}return e=f(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,o){s[e].m(a,o),E(a,l,o),i=!0},p(a,o){let d=e;e=f(a),e===d?s[e].p(a,o):(Te(),L(s[d],1,1,()=>{s[d]=null}),Ce(),t=s[e],t?t.p(a,o):(t=s[e]=r[e](a),t.c()),C(t,1),t.m(l.parentNode,l))},i(a){i||(C(t),i=!0)},o(a){L(t),i=!1},d(a){a&&c(l),s[e].d(a)}}}function yt(n){let e=n[4],t,l,i=$t(n);return{c(){i.c(),t=de()},l(r){i.l(r),t=de()},m(r,s){i.m(r,s),E(r,t,s),l=!0},p(r,s){s&16&&Ye(e,e=r[4])?(Te(),L(i,1,1,le),Ce(),i=$t(r),i.c(),C(i,1),i.m(t.parentNode,t)):i.p(r,s)},i(r){l||(C(i),l=!0)},o(r){L(i),l=!1},d(r){r&&c(t),i.d(r)}}}function $t(n){let e,t,l;function i(s){n[8](s)}let r={foldertype:n[2],show_varinfos:!1};return n[4]!==void 0&&(r.selected_file=n[4]),e=new gl({props:r}),ze.push(()=>He(e,"selected_file",i)),{c(){_e(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,f){ue(e,s,f),l=!0},p(s,f){const a={};f&4&&(a.foldertype=s[2]),!t&&f&16&&(t=!0,a.selected_file=s[4],Fe(()=>t=!1)),e.$set(a)},i(s){l||(C(e.$$.fragment,s),l=!0)},o(s){L(e.$$.fragment,s),l=!1},d(s){fe(e,s)}}}function Et(n){let e,t;return e=new Dl({props:{file:n[0][n[1].index].metadata.file}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i&3&&(r.file=l[0][l[1].index].metadata.file),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function tn(n){let e;return{c(){e=re("currently no provenance data available")},l(t){e=ie(t,"currently no provenance data available")},m(t,l){E(t,e,l)},p:le,i:le,o:le,d(t){t&&c(e)}}}function ln(n){let e,t,l,i,r,s="provenance",f,a,o,d;l=new Ge({});let h=n[0][n[1].index].metadata_prov_stats&&Tt(n);return{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=U(),r=g("div"),r.textContent=s,a=U(),h&&h.c(),o=de(),this.h()},l(p){e=b(p,"BUTTON",{class:!0});var $=y(e);t=b($,"A",{href:!0,class:!0,title:!0});var O=y(t);ce(l.$$.fragment,O),i=A(O),r=b(O,"DIV",{class:!0,"data-svelte-h":!0}),we(r)!=="svelte-19tiklx"&&(r.textContent=s),O.forEach(c),$.forEach(c),a=A(p),h&&h.l(p),o=de(),this.h()},h(){u(r,"class","ml-1 flex place-items-center justify-items-center"),u(t,"href",f=Ee+"/climate/get_temp_file?name="+n[0][n[1].index].filename+"&type="+n[2]+"&filetype=prov"),u(t,"class","flex"),u(t,"title","Download metadata file"),u(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(p,$){E(p,e,$),m(e,t),ue(l,t,null),m(t,i),m(t,r),E(p,a,$),h&&h.m(p,$),E(p,o,$),d=!0},p(p,$){(!d||$&7&&f!==(f=Ee+"/climate/get_temp_file?name="+p[0][p[1].index].filename+"&type="+p[2]+"&filetype=prov"))&&u(t,"href",f),p[0][p[1].index].metadata_prov_stats?h?(h.p(p,$),$&3&&C(h,1)):(h=Tt(p),h.c(),C(h,1),h.m(o.parentNode,o)):h&&(Te(),L(h,1,1,()=>{h=null}),Ce())},i(p){d||(C(l.$$.fragment,p),C(h),d=!0)},o(p){L(l.$$.fragment,p),L(h),d=!1},d(p){p&&(c(e),c(a),c(o)),fe(l),h&&h.d(p)}}}function Tt(n){let e,t,l,i;function r(a){n[6](a)}function s(a){n[7](a)}let f={};return n[0][n[1].index].metadata_prov!==void 0&&(f.metadata_prov=n[0][n[1].index].metadata_prov),n[0][n[1].index].metadata_prov_stats!==void 0&&(f.metadata_prov_stats=n[0][n[1].index].metadata_prov_stats),e=new Nl({props:f}),ze.push(()=>He(e,"metadata_prov",r)),ze.push(()=>He(e,"metadata_prov_stats",s)),{c(){_e(e.$$.fragment)},l(a){ce(e.$$.fragment,a)},m(a,o){ue(e,a,o),i=!0},p(a,o){const d={};!t&&o&3&&(t=!0,d.metadata_prov=a[0][a[1].index].metadata_prov,Fe(()=>t=!1)),!l&&o&3&&(l=!0,d.metadata_prov_stats=a[0][a[1].index].metadata_prov_stats,Fe(()=>l=!1)),e.$set(d)},i(a){i||(C(e.$$.fragment,a),i=!0)},o(a){L(e.$$.fragment,a),i=!1},d(a){fe(e,a)}}}function nn(n){let e;return{c(){e=re("currently no related datasets available")},l(t){e=ie(t,"currently no related datasets available")},m(t,l){E(t,e,l)},p:le,i:le,o:le,d(t){t&&c(e)}}}function rn(n){var R,Z,N;let e,t,l="ℹ️ Available files based on this file",i,r,s,f,a,o="ℹ️ Available files used to create this file",d,h,p,$,O;return r=new pt({props:{data:(R=n[0][n[1].index].metadata_prov_stats)==null?void 0:R.base_for_entities,only_links:!0}}),h=new pt({props:{data:(Z=n[0][n[1].index].metadata_prov_stats)==null?void 0:Z.source_entities,only_links:!0}}),$=new pt({props:{data:(N=n[0][n[1].index].metadata_prov_stats)==null?void 0:N.result_entities,only_links:!0}}),{c(){e=g("div"),t=g("h2"),t.textContent=l,i=U(),_e(r.$$.fragment),s=U(),f=g("div"),a=g("h2"),a.textContent=o,d=U(),_e(h.$$.fragment),p=U(),_e($.$$.fragment),this.h()},l(D){e=b(D,"DIV",{class:!0,id:!0});var S=y(e);t=b(S,"H2",{class:!0,"data-svelte-h":!0}),we(t)!=="svelte-n9z7mk"&&(t.textContent=l),i=A(S),ce(r.$$.fragment,S),S.forEach(c),s=A(D),f=b(D,"DIV",{class:!0,id:!0});var j=y(f);a=b(j,"H2",{class:!0,"data-svelte-h":!0}),we(a)!=="svelte-1bmg2za"&&(a.textContent=o),d=A(j),ce(h.$$.fragment,j),p=A(j),ce($.$$.fragment,j),j.forEach(c),this.h()},h(){u(t,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),u(e,"class","bg-box svelte-184ua4x"),u(e,"id","base_for_entities_"+n[5]),u(a,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),u(f,"class","bg-box svelte-184ua4x"),u(f,"id","base_for_entities_"+n[5])},m(D,S){E(D,e,S),m(e,t),m(e,i),ue(r,e,null),E(D,s,S),E(D,f,S),m(f,a),m(f,d),ue(h,f,null),m(f,p),ue($,f,null),O=!0},p(D,S){var X,M,V;const j={};S&3&&(j.data=(X=D[0][D[1].index].metadata_prov_stats)==null?void 0:X.base_for_entities),r.$set(j);const ae={};S&3&&(ae.data=(M=D[0][D[1].index].metadata_prov_stats)==null?void 0:M.source_entities),h.$set(ae);const I={};S&3&&(I.data=(V=D[0][D[1].index].metadata_prov_stats)==null?void 0:V.result_entities),$.$set(I)},i(D){O||(C(r.$$.fragment,D),C(h.$$.fragment,D),C($.$$.fragment,D),O=!0)},o(D){L(r.$$.fragment,D),L(h.$$.fragment,D),L($.$$.fragment,D),O=!1},d(D){D&&(c(e),c(s),c(f)),fe(r),fe(h),fe($)}}}function an(n){let e;return{c(){e=re("currently no metadata available")},l(t){e=ie(t,"currently no metadata available")},m(t,l){E(t,e,l)},p:le,i:le,o:le,d(t){t&&c(e)}}}function sn(n){let e,t,l,i,r,s="metadata",f,a,o,d;l=new Ge({});let h=n[0][n[1].index].metadata&&n[0][n[1].index].metadata_show&&Ct(n);return{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=U(),r=g("div"),r.textContent=s,a=U(),h&&h.c(),o=de(),this.h()},l(p){e=b(p,"BUTTON",{class:!0});var $=y(e);t=b($,"A",{href:!0,class:!0,title:!0});var O=y(t);ce(l.$$.fragment,O),i=A(O),r=b(O,"DIV",{class:!0,"data-svelte-h":!0}),we(r)!=="svelte-xp3lgr"&&(r.textContent=s),O.forEach(c),$.forEach(c),a=A(p),h&&h.l(p),o=de(),this.h()},h(){u(r,"class","ml-1 flex place-items-center justify-items-center"),u(t,"href",f=Ee+"/climate/get_temp_file?name="+n[0][n[1].index].filename+"&type="+n[2]+"&filetype=meta"),u(t,"class","flex"),u(t,"title","Download metadata file"),u(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(p,$){E(p,e,$),m(e,t),ue(l,t,null),m(t,i),m(t,r),E(p,a,$),h&&h.m(p,$),E(p,o,$),d=!0},p(p,$){(!d||$&7&&f!==(f=Ee+"/climate/get_temp_file?name="+p[0][p[1].index].filename+"&type="+p[2]+"&filetype=meta"))&&u(t,"href",f),p[0][p[1].index].metadata&&p[0][p[1].index].metadata_show?h?(h.p(p,$),$&3&&C(h,1)):(h=Ct(p),h.c(),C(h,1),h.m(o.parentNode,o)):h&&(Te(),L(h,1,1,()=>{h=null}),Ce())},i(p){d||(C(l.$$.fragment,p),C(h),d=!0)},o(p){L(l.$$.fragment,p),L(h),d=!1},d(p){p&&(c(e),c(a),c(o)),fe(l),h&&h.d(p)}}}function Ct(n){let e,t;return e=new Il({props:{data:n[0][n[1].index].metadata}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i&3&&(r.data=l[0][l[1].index].metadata),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function on(n){let e,t,l,i;const r=[en,xl,Xl,Ql,Zl],s=[];function f(a,o){return a[3]===0?0:a[3]===1?1:a[3]===2?2:a[3]===3?3:a[3]===4?4:-1}return~(e=f(n))&&(t=s[e]=r[e](n)),{c(){t&&t.c(),l=de()},l(a){t&&t.l(a),l=de()},m(a,o){~e&&s[e].m(a,o),E(a,l,o),i=!0},p(a,o){let d=e;e=f(a),e===d?~e&&s[e].p(a,o):(t&&(Te(),L(s[d],1,1,()=>{s[d]=null}),Ce()),~e?(t=s[e],t?t.p(a,o):(t=s[e]=r[e](a),t.c()),C(t,1),t.m(l.parentNode,l)):t=null)},i(a){i||(C(t),i=!0)},o(a){L(t),i=!1},d(a){a&&c(l),~e&&s[e].d(a)}}}function fn(n){let e,t,l;return t=new Cl({props:{$$slots:{panel:[on],default:[Yl]},$$scope:{ctx:n}}}),{c(){e=g("div"),_e(t.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var r=y(e);ce(t.$$.fragment,r),r.forEach(c),this.h()},h(){u(e,"class","bg-surface-700")},m(i,r){E(i,e,r),ue(t,e,null),l=!0},p(i,[r]){const s={};r&16415&&(s.$$scope={dirty:r,ctx:i}),t.$set(s)},i(i){l||(C(t.$$.fragment,i),l=!0)},o(i){L(t.$$.fragment,i),l=!1},d(i){i&&c(e),fe(t)}}}function un(n,e,t){let l,{folder_data:i}=e,{file_obj:r}=e,{foldertype:s}=e,f=i[r.index].tabset,a=Math.random().toString(36).substring(2,15);function o(N){n.$$.not_equal(i[r.index].metadata_prov,N)&&(i[r.index].metadata_prov=N,t(0,i))}function d(N){n.$$.not_equal(i[r.index].metadata_prov_stats,N)&&(i[r.index].metadata_prov_stats=N,t(0,i))}function h(N){l=N,t(4,l),t(0,i),t(1,r)}function p(N){f=N,t(3,f)}function $(N){f=N,t(3,f)}function O(N){f=N,t(3,f)}function R(N){f=N,t(3,f)}function Z(N){f=N,t(3,f)}return n.$$set=N=>{"folder_data"in N&&t(0,i=N.folder_data),"file_obj"in N&&t(1,r=N.file_obj),"foldertype"in N&&t(2,s=N.foldertype)},n.$$.update=()=>{n.$$.dirty&3&&t(4,l=i[r.index].filename)},[i,r,s,f,l,a,o,d,h,p,$,O,R,Z]}class cn extends Ze{constructor(e){super(),Qe(this,e,un,fn,Ye,{folder_data:0,file_obj:1,foldertype:2})}}function Dt(n,e,t){const l=n.slice();return l[86]=e[t][0],l[87]=e[t][1],l[89]=t,l}function It(n,e,t){const l=n.slice();return l[90]=e[t],l[91]=e,l[92]=t,l}function Nt(n,e,t){const l=n.slice();return l[93]=e[t],l}function Lt(n,e,t){const l=n.slice();return l[93]=e[t],l}function Vt(n,e,t){const l=n.slice();return l[93]=e[t],l}function Bt(n,e,t){const l=n.slice();return l[93]=e[t],l}function At(n,e,t){const l=n.slice();return l[93]=e[t],l}function Ut(n){let e,t,l="Force Update",i,r;return{c(){e=g("div"),t=g("button"),t.textContent=l,this.h()},l(s){e=b(s,"DIV",{class:!0});var f=y(e);t=b(f,"BUTTON",{class:!0,"data-svelte-h":!0}),we(t)!=="svelte-c1ydu0"&&(t.textContent=l),f.forEach(c),this.h()},h(){u(t,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(e,"class","ml-10 mt-4")},m(s,f){E(s,e,f),m(e,t),i||(r=oe(t,"click",n[37]),i=!0)},p:le,d(s){s&&c(e),i=!1,r()}}}function Ot(n){let e,t,l,i,r=n[9].some(fl),s,f,a,o=n[10].some(ol),d,h,p,$=n[11].some(sl),O,R,Z,N=n[12].some(al),D=Ve(n[8]),S=[];for(let k=0;k<D.length;k+=1)S[k]=jt(At(n,D,k));let j=r&&Mt(),ae=Ve(n[9]),I=[];for(let k=0;k<ae.length;k+=1)I[k]=Pt(Bt(n,ae,k));let X=o&&zt(n),M=Ve(n[10]),V=[];for(let k=0;k<M.length;k+=1)V[k]=Ht(Vt(n,M,k));let _=$&&Rt(n),T=Ve(n[11]),P=[];for(let k=0;k<T.length;k+=1)P[k]=Gt(Lt(n,T,k));let G=n[14]!=="_"&&Wt(n),Y=N&&Jt(n);return{c(){e=g("div"),t=g("div");for(let k=0;k<S.length;k+=1)S[k].c();l=U(),i=g("div"),j&&j.c(),s=U();for(let k=0;k<I.length;k+=1)I[k].c();f=U(),a=g("div"),X&&X.c(),d=U();for(let k=0;k<V.length;k+=1)V[k].c();h=U(),p=g("div"),_&&_.c(),O=U();for(let k=0;k<P.length;k+=1)P[k].c();R=U(),G&&G.c(),Z=U(),Y&&Y.c(),this.h()},l(k){e=b(k,"DIV",{});var q=y(e);t=b(q,"DIV",{class:!0});var v=y(t);for(let x=0;x<S.length;x+=1)S[x].l(v);v.forEach(c),l=A(q),i=b(q,"DIV",{class:!0});var Q=y(i);j&&j.l(Q),s=A(Q);for(let x=0;x<I.length;x+=1)I[x].l(Q);Q.forEach(c),f=A(q),a=b(q,"DIV",{class:!0});var z=y(a);X&&X.l(z),d=A(z);for(let x=0;x<V.length;x+=1)V[x].l(z);z.forEach(c),h=A(q),p=b(q,"DIV",{class:!0});var ne=y(p);_&&_.l(ne),O=A(ne);for(let x=0;x<P.length;x+=1)P[x].l(ne);ne.forEach(c),R=A(q),G&&G.l(q),Z=A(q),Y&&Y.l(q),q.forEach(c),this.h()},h(){u(t,"class","flow gap-2 items-center ml-2"),u(i,"class","flow gap-2 items-center ml-2"),u(a,"class","flow gap-2 items-center ml-2"),u(p,"class","flow gap-2 items-center ml-2")},m(k,q){E(k,e,q),m(e,t);for(let v=0;v<S.length;v+=1)S[v]&&S[v].m(t,null);m(e,l),m(e,i),j&&j.m(i,null),m(i,s);for(let v=0;v<I.length;v+=1)I[v]&&I[v].m(i,null);m(e,f),m(e,a),X&&X.m(a,null),m(a,d);for(let v=0;v<V.length;v+=1)V[v]&&V[v].m(a,null);m(e,h),m(e,p),_&&_.m(p,null),m(p,O);for(let v=0;v<P.length;v+=1)P[v]&&P[v].m(p,null);m(e,R),G&&G.m(e,null),m(e,Z),Y&&Y.m(e,null)},p(k,q){if(q[0]&536871168){D=Ve(k[8]);let v;for(v=0;v<D.length;v+=1){const Q=At(k,D,v);S[v]?S[v].p(Q,q):(S[v]=jt(Q),S[v].c(),S[v].m(t,null))}for(;v<S.length;v+=1)S[v].d(1);S.length=D.length}if(q[0]&512&&(r=k[9].some(fl)),r?j||(j=Mt(),j.c(),j.m(i,s)):j&&(j.d(1),j=null),q[0]&1073758720){ae=Ve(k[9]);let v;for(v=0;v<ae.length;v+=1){const Q=Bt(k,ae,v);I[v]?I[v].p(Q,q):(I[v]=Pt(Q),I[v].c(),I[v].m(i,null))}for(;v<I.length;v+=1)I[v].d(1);I.length=ae.length}if(q[0]&1024&&(o=k[10].some(ol)),o?X?X.p(k,q):(X=zt(k),X.c(),X.m(a,d)):X&&(X.d(1),X=null),q[0]&1073759232){M=Ve(k[10]);let v;for(v=0;v<M.length;v+=1){const Q=Vt(k,M,v);V[v]?V[v].p(Q,q):(V[v]=Ht(Q),V[v].c(),V[v].m(a,null))}for(;v<V.length;v+=1)V[v].d(1);V.length=M.length}if(q[0]&2048&&($=k[11].some(sl)),$?_?_.p(k,q):(_=Rt(k),_.c(),_.m(p,O)):_&&(_.d(1),_=null),q[0]&1073760256){T=Ve(k[11]);let v;for(v=0;v<T.length;v+=1){const Q=Lt(k,T,v);P[v]?P[v].p(Q,q):(P[v]=Gt(Q),P[v].c(),P[v].m(p,null))}for(;v<P.length;v+=1)P[v].d(1);P.length=T.length}k[14]!=="_"?G?G.p(k,q):(G=Wt(k),G.c(),G.m(e,Z)):G&&(G.d(1),G=null),q[0]&4096&&(N=k[12].some(al)),N?Y?Y.p(k,q):(Y=Jt(k),Y.c(),Y.m(e,null)):Y&&(Y.d(1),Y=null)},d(k){k&&c(e),lt(S,k),j&&j.d(),lt(I,k),X&&X.d(),lt(V,k),_&&_.d(),lt(P,k),G&&G.d(),Y&&Y.d()}}}function jt(n){let e,t=rl(n[93])+"",l,i,r;return{c(){e=g("button"),l=re(t),this.h()},l(s){e=b(s,"BUTTON",{class:!0});var f=y(e);l=ie(f,t),f.forEach(c),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(s,f){E(s,e,f),m(e,l),i||(r=oe(e,"click",function(){bl(n[29](n[93]))&&n[29](n[93]).apply(this,arguments)}),i=!0)},p(s,f){n=s,f[0]&256&&t!==(t=rl(n[93])+"")&&Be(l,t)},d(s){s&&c(e),i=!1,r()}}}function Mt(n){let e,t="⏳ Δ- ⟶⌛:";return{c(){e=g("span"),e.textContent=t,this.h()},l(l){e=b(l,"SPAN",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-1e3ro3x"&&(e.textContent=t),this.h()},h(){u(e,"class","mr-3")},m(l,i){E(l,e,i)},d(l){l&&c(e)}}}function St(n){let e,t=n[93].time+"",l,i,r,s;function f(){return n[39](n[93])}return{c(){e=g("button"),l=re(t),this.h()},l(a){e=b(a,"BUTTON",{class:!0});var o=y(e);l=ie(o,t),o.forEach(c),this.h()},h(){u(e,"class",i="w-[220px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,o){E(a,e,o),m(e,l),r||(s=oe(e,"click",f),r=!0)},p(a,o){n=a,o[0]&512&&t!==(t=n[93].time+"")&&Be(l,t),o[0]&16896&&i!==(i="w-[220px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&c(e),r=!1,s()}}}function Pt(n){let e,t=n[93].show=="true"&&St(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=St(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&c(e),t&&t.d(l)}}}function zt(n){let e,t,l,i,r,s;return{c(){e=re(`⏳ 20y ⟶ ⌛:
					`),t=g("button"),l=re("all 20y"),this.h()},l(f){e=ie(f,`⏳ 20y ⟶ ⌛:
					`),t=b(f,"BUTTON",{class:!0});var a=y(t);l=ie(a,"all 20y"),a.forEach(c),this.h()},h(){u(t,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]==="20y"?"font-bold":""))},m(f,a){E(f,e,a),E(f,t,a),m(t,l),r||(s=oe(t,"click",n[40]),r=!0)},p(f,a){a[0]&16384&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(f[14]==="20y"?"font-bold":""))&&u(t,"class",i)},d(f){f&&(c(e),c(t)),r=!1,s()}}}function Ft(n){let e,t=n[93].time+"",l,i,r,s;function f(){return n[41](n[93])}return{c(){e=g("button"),l=re(t),this.h()},l(a){e=b(a,"BUTTON",{class:!0});var o=y(e);l=ie(o,t),o.forEach(c),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,o){E(a,e,o),m(e,l),r||(s=oe(e,"click",f),r=!0)},p(a,o){n=a,o[0]&1024&&t!==(t=n[93].time+"")&&Be(l,t),o[0]&17408&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&c(e),r=!1,s()}}}function Ht(n){let e,t=n[93].show=="true"&&Ft(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=Ft(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&c(e),t&&t.d(l)}}}function Rt(n){let e,t,l,i,r,s;return{c(){e=re(`⏳ 30y ⟶ ⌛:
					`),t=g("button"),l=re("all 30y"),this.h()},l(f){e=ie(f,`⏳ 30y ⟶ ⌛:
					`),t=b(f,"BUTTON",{class:!0});var a=y(t);l=ie(a,"all 30y"),a.forEach(c),this.h()},h(){u(t,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]==="30y"?"font-bold":""))},m(f,a){E(f,e,a),E(f,t,a),m(t,l),r||(s=oe(t,"click",n[42]),r=!0)},p(f,a){a[0]&16384&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(f[14]==="30y"?"font-bold":""))&&u(t,"class",i)},d(f){f&&(c(e),c(t)),r=!1,s()}}}function qt(n){let e,t=n[93].time+"",l,i,r,s;function f(){return n[43](n[93])}return{c(){e=g("button"),l=re(t),this.h()},l(a){e=b(a,"BUTTON",{class:!0});var o=y(e);l=ie(o,t),o.forEach(c),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,o){E(a,e,o),m(e,l),r||(s=oe(e,"click",f),r=!0)},p(a,o){n=a,o[0]&2048&&t!==(t=n[93].time+"")&&Be(l,t),o[0]&18432&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&c(e),r=!1,s()}}}function Gt(n){let e,t=n[93].show=="true"&&qt(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=qt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&c(e),t&&t.d(l)}}}function Wt(n){let e,t="reset ⏳",l,i;return{c(){e=g("button"),e.textContent=t,this.h()},l(r){e=b(r,"BUTTON",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-krixl6"&&(e.textContent=t),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(r,s){E(r,e,s),l||(i=oe(e,"click",n[44]),l=!0)},p:le,d(r){r&&c(e),l=!1,i()}}}function Jt(n){let e,t,l,i=Ve(n[12]),r=[];for(let f=0;f<i.length;f+=1)r[f]=Yt(Nt(n,i,f));let s=n[15]!=="_"&&Zt(n);return{c(){e=g("div"),t=re(`Σ Sum / Avg:
					`);for(let f=0;f<r.length;f+=1)r[f].c();l=U(),s&&s.c(),this.h()},l(f){e=b(f,"DIV",{class:!0});var a=y(e);t=ie(a,`Σ Sum / Avg:
					`);for(let o=0;o<r.length;o+=1)r[o].l(a);l=A(a),s&&s.l(a),a.forEach(c),this.h()},h(){u(e,"class","flow gap-2 items-center ml-2")},m(f,a){E(f,e,a),m(e,t);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);m(e,l),s&&s.m(e,null)},p(f,a){if(a[0]&36864|a[1]&1){i=Ve(f[12]);let o;for(o=0;o<i.length;o+=1){const d=Nt(f,i,o);r[o]?r[o].p(d,a):(r[o]=Yt(d),r[o].c(),r[o].m(e,l))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}f[15]!=="_"?s?s.p(f,a):(s=Zt(f),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(f){f&&c(e),lt(r,f),s&&s.d()}}}function Kt(n){let e,t=n[93].time+"",l,i,r,s;function f(){return n[45](n[93])}return{c(){e=g("button"),l=re(t),this.h()},l(a){e=b(a,"BUTTON",{class:!0});var o=y(e);l=ie(o,t),o.forEach(c),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[93].time?"font-bold":""))},m(a,o){E(a,e,o),m(e,l),r||(s=oe(e,"click",f),r=!0)},p(a,o){n=a,o[0]&4096&&t!==(t=n[93].time+"")&&Be(l,t),o[0]&36864&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&c(e),r=!1,s()}}}function Yt(n){let e,t=n[93].show=="true"&&Kt(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=Kt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&c(e),t&&t.d(l)}}}function Zt(n){let e,t="reset Σ",l,i;return{c(){e=g("button"),e.textContent=t,this.h()},l(r){e=b(r,"BUTTON",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-1c6s5cf"&&(e.textContent=t),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(r,s){E(r,e,s),l||(i=oe(e,"click",n[46]),l=!0)},p:le,d(r){r&&c(e),l=!1,i()}}}function _n(n){let e,t,l;return t=new El({}),{c(){e=g("div"),_e(t.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var r=y(e);ce(t.$$.fragment,r),r.forEach(c),this.h()},h(){u(e,"class","flex-center")},m(i,r){E(i,e,r),ue(t,e,null),l=!0},p:le,i(i){l||(C(t.$$.fragment,i),l=!0)},o(i){L(t.$$.fragment,i),l=!1},d(i){i&&c(e),fe(t)}}}function dn(n){let e,t,l,i,r,s=n[3].filter(ul).length+"",f,a,o,d,h,p,$,O,R,Z,N,D,S,j,ae,I,X,M,V,_,T,P,G,Y,k,q,v,Q,z,ne,x=Ve(Object.entries(n[2])),B=[];for(let J=0;J<x.length;J+=1)B[J]=nl(Dt(n,x,J));const ye=J=>L(B[J],1,1,()=>{B[J]=null});return Q=pl(n[63][0]),{c(){e=g("div");for(let J=0;J<B.length;J+=1)B[J].c();t=U(),l=g("div"),i=g("button"),r=re("Generate Wget link for download ("),f=re(s),a=re(" selected)"),o=U(),d=g("div"),h=g("div"),p=g("label"),$=g("input"),O=re(`
						Filetype .nc`),R=U(),Z=g("label"),N=g("input"),D=re(`
						Filetype .nc (clipped)`),S=U(),j=g("div"),ae=g("label"),I=g("input"),X=re(`
						Filetype .dat`),M=U(),V=g("label"),_=g("input"),T=re(`
						Filetype .dat (clipped)`),P=U(),G=g("div"),Y=g("label"),k=g("input"),q=re(`
						Filetype .tiff`),this.h()},l(J){e=b(J,"DIV",{class:!0});var ee=y(e);for(let te=0;te<B.length;te+=1)B[te].l(ee);ee.forEach(c),t=A(J),l=b(J,"DIV",{class:!0});var K=y(l);i=b(K,"BUTTON",{type:!0,class:!0});var me=y(i);r=ie(me,"Generate Wget link for download ("),f=ie(me,s),a=ie(me," selected)"),me.forEach(c),o=A(K),d=b(K,"DIV",{class:!0});var he=y(d);h=b(he,"DIV",{});var ke=y(h);p=b(ke,"LABEL",{});var Ae=y(p);$=b(Ae,"INPUT",{type:!0,name:!0}),O=ie(Ae,`
						Filetype .nc`),Ae.forEach(c),R=A(ke),Z=b(ke,"LABEL",{});var De=y(Z);N=b(De,"INPUT",{type:!0,name:!0}),D=ie(De,`
						Filetype .nc (clipped)`),De.forEach(c),ke.forEach(c),S=A(he),j=b(he,"DIV",{});var Oe=y(j);ae=b(Oe,"LABEL",{});var pe=y(ae);I=b(pe,"INPUT",{type:!0,name:!0}),X=ie(pe,`
						Filetype .dat`),pe.forEach(c),M=A(Oe),V=b(Oe,"LABEL",{});var Re=y(V);_=b(Re,"INPUT",{type:!0,name:!0}),T=ie(Re,`
						Filetype .dat (clipped)`),Re.forEach(c),Oe.forEach(c),P=A(he),G=b(he,"DIV",{});var ge=y(G);Y=b(ge,"LABEL",{});var Ue=y(Y);k=b(Ue,"INPUT",{type:!0,name:!0}),q=ie(Ue,`
						Filetype .tiff`),Ue.forEach(c),ge.forEach(c),he.forEach(c),K.forEach(c),this.h()},h(){u(e,"class","p-2"),u(i,"type","button"),u(i,"class","btn bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u($,"type","radio"),u($,"name","filetype"),$.__value="nc",Ke($,$.__value),u(N,"type","radio"),u(N,"name","filetype"),N.__value="nc_clipped",Ke(N,N.__value),u(I,"type","radio"),u(I,"name","filetype"),I.__value="dat",Ke(I,I.__value),u(_,"type","radio"),u(_,"name","filetype"),_.__value="dat_clipped",Ke(_,_.__value),u(k,"type","radio"),u(k,"name","filetype"),k.__value="tif",Ke(k,k.__value),u(d,"class","filetype-selector flex"),u(l,"class","flex gap-x-1 pl-2"),Q.p($,N,I,_,k)},m(J,ee){E(J,e,ee);for(let K=0;K<B.length;K+=1)B[K]&&B[K].m(e,null);E(J,t,ee),E(J,l,ee),m(l,i),m(i,r),m(i,f),m(i,a),m(l,o),m(l,d),m(d,h),m(h,p),m(p,$),$.checked=$.__value===n[16],m(p,O),m(h,R),m(h,Z),m(Z,N),N.checked=N.__value===n[16],m(Z,D),m(d,S),m(d,j),m(j,ae),m(ae,I),I.checked=I.__value===n[16],m(ae,X),m(j,M),m(j,V),m(V,_),_.checked=_.__value===n[16],m(V,T),m(d,P),m(d,G),m(G,Y),m(Y,k),k.checked=k.__value===n[16],m(Y,q),v=!0,z||(ne=[oe(i,"click",vl(n[24])),oe($,"change",n[62]),oe($,"change",n[32]),oe(N,"change",n[64]),oe(N,"change",n[32]),oe(I,"change",n[65]),oe(I,"change",n[32]),oe(_,"change",n[66]),oe(_,"change",n[32]),oe(k,"change",n[67]),oe(k,"change",n[32])],z=!0)},p(J,ee){if(ee[0]&369942623){x=Ve(Object.entries(J[2]));let K;for(K=0;K<x.length;K+=1){const me=Dt(J,x,K);B[K]?(B[K].p(me,ee),C(B[K],1)):(B[K]=nl(me),B[K].c(),C(B[K],1),B[K].m(e,null))}for(Te(),K=x.length;K<B.length;K+=1)ye(K);Ce()}(!v||ee[0]&8)&&s!==(s=J[3].filter(ul).length+"")&&Be(f,s),ee[0]&65536&&($.checked=$.__value===J[16]),ee[0]&65536&&(N.checked=N.__value===J[16]),ee[0]&65536&&(I.checked=I.__value===J[16]),ee[0]&65536&&(_.checked=_.__value===J[16]),ee[0]&65536&&(k.checked=k.__value===J[16])},i(J){if(!v){for(let ee=0;ee<x.length;ee+=1)C(B[ee]);v=!0}},o(J){B=B.filter(Boolean);for(let ee=0;ee<B.length;ee+=1)L(B[ee]);v=!1},d(J){J&&(c(e),c(t),c(l)),lt(B,J),Q.r(),z=!1,bt(ne)}}}function hn(n){let e,t;return e=new _l({props:{h:"24px"}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function mn(n){let e,t;return e=new cl({props:{h:"28px",w:"26px"}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function Qt(n){let e,t="⚠";return{c(){e=g("span"),e.textContent=t,this.h()},l(l){e=b(l,"SPAN",{title:!0,"data-svelte-h":!0}),we(e)!=="svelte-148jvi0"&&(e.textContent=t),this.h()},h(){u(e,"title","Caution: This dataset may contain errors. We are currently investigating and will replace it once the issue is resolved. ")},m(l,i){E(l,e,i)},d(l){l&&c(e)}}}function pn(n){let e,t="Hide",l,i;function r(){return n[55](n[90])}return{c(){e=g("button"),e.textContent=t,this.h()},l(s){e=b(s,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),we(e)!=="svelte-nqhp4m"&&(e.textContent=t),this.h()},h(){u(e,"class","ml-5 max-h-[33px] p-1 flex items-center justify-center variant-filled-surface hover:bg-tertiary-900 rounded-md"),u(e,"title","Show metadata and provenance information")},m(s,f){E(s,e,f),l||(i=oe(e,"click",r),l=!0)},p(s,f){n=s},d(s){s&&c(e),l=!1,i()}}}function vn(n){let e,t="Show",l,i;function r(){return n[54](n[90])}return{c(){e=g("button"),e.textContent=t,this.h()},l(s){e=b(s,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),we(e)!=="svelte-1od4l2q"&&(e.textContent=t),this.h()},h(){u(e,"class","ml-5 max-h-[33px] p-1 flex items-center justify-center variant-filled-surface hover:bg-tertiary-900 rounded-md"),u(e,"title","Show metadata and provenance information")},m(s,f){E(s,e,f),l||(i=oe(e,"click",r),l=!0)},p(s,f){n=s},d(s){s&&c(e),l=!1,i()}}}function bn(n){let e,t,l,i,r,s=n[1][n[90].index].filesuffix+"",f,a,o;return l=new Ge({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=U(),r=g("div"),f=re(s),this.h()},l(d){e=b(d,"BUTTON",{class:!0});var h=y(e);t=b(h,"A",{href:!0,class:!0});var p=y(t);ce(l.$$.fragment,p),i=A(p),r=b(p,"DIV",{class:!0});var $=y(r);f=ie($,s),$.forEach(c),p.forEach(c),h.forEach(c),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",a=Ee+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat"),u(t,"class","flex"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(d,h){E(d,e,h),m(e,t),ue(l,t,null),m(t,i),m(t,r),m(r,f),o=!0},p(d,h){(!o||h[0]&6)&&s!==(s=d[1][d[90].index].filesuffix+"")&&Be(f,s),(!o||h[0]&70&&a!==(a=Ee+"/climate/get_temp_file?name="+d[1][d[90].index].filename+"&type="+d[6]+"&filetype=dat"))&&u(t,"href",a)},i(d){o||(C(l.$$.fragment,d),o=!0)},o(d){L(l.$$.fragment,d),o=!1},d(d){d&&c(e),fe(l)}}}function gn(n){let e,t,l,i,r,s=".nc",f,a,o,d,h,p,$,O,R,Z,N;l=new Ge({});let D=n[1][n[90].index].nc_clipped_exists&&Xt(n);const S=[yn,kn,wn],j=[];function ae(_,T){return _[1][_[90].index].dat_exists?0:_[1][_[90].index].in_limit_conversion?1:2}d=ae(n),h=j[d]=S[d](n);let I=n[1][n[90].index].dat_clipped_exists&&xt(n);const X=[Tn,En,$n],M=[];function V(_,T){return _[1][_[90].index].tif_convertable&&!_[1][_[90].index].tif_exists?0:_[1][_[90].index].tif_exists?1:2}return O=V(n),R=M[O]=X[O](n),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=U(),r=g("div"),r.textContent=s,a=U(),D&&D.c(),o=U(),h.c(),p=U(),I&&I.c(),$=U(),R.c(),Z=de(),this.h()},l(_){e=b(_,"BUTTON",{class:!0});var T=y(e);t=b(T,"A",{href:!0,class:!0,title:!0});var P=y(t);ce(l.$$.fragment,P),i=A(P),r=b(P,"DIV",{class:!0,"data-svelte-h":!0}),we(r)!=="svelte-1g3y8ic"&&(r.textContent=s),P.forEach(c),T.forEach(c),a=A(_),D&&D.l(_),o=A(_),h.l(_),p=A(_),I&&I.l(_),$=A(_),R.l(_),Z=de(),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",f=Ee+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=nc"),u(t,"class","flex"),u(t,"title","Download .nc file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center variant-filled-primary hover:bg-tertiary-900 justify-center rounded-md")},m(_,T){E(_,e,T),m(e,t),ue(l,t,null),m(t,i),m(t,r),E(_,a,T),D&&D.m(_,T),E(_,o,T),j[d].m(_,T),E(_,p,T),I&&I.m(_,T),E(_,$,T),M[O].m(_,T),E(_,Z,T),N=!0},p(_,T){(!N||T[0]&70&&f!==(f=Ee+"/climate/get_temp_file?name="+_[1][_[90].index].filename+"&type="+_[6]+"&filetype=nc"))&&u(t,"href",f),_[1][_[90].index].nc_clipped_exists?D?(D.p(_,T),T[0]&6&&C(D,1)):(D=Xt(_),D.c(),C(D,1),D.m(o.parentNode,o)):D&&(Te(),L(D,1,1,()=>{D=null}),Ce());let P=d;d=ae(_),d===P?j[d].p(_,T):(Te(),L(j[P],1,1,()=>{j[P]=null}),Ce(),h=j[d],h?h.p(_,T):(h=j[d]=S[d](_),h.c()),C(h,1),h.m(p.parentNode,p)),_[1][_[90].index].dat_clipped_exists?I?(I.p(_,T),T[0]&6&&C(I,1)):(I=xt(_),I.c(),C(I,1),I.m($.parentNode,$)):I&&(Te(),L(I,1,1,()=>{I=null}),Ce());let G=O;O=V(_),O===G?M[O].p(_,T):(Te(),L(M[G],1,1,()=>{M[G]=null}),Ce(),R=M[O],R?R.p(_,T):(R=M[O]=X[O](_),R.c()),C(R,1),R.m(Z.parentNode,Z))},i(_){N||(C(l.$$.fragment,_),C(D),C(h),C(I),C(R),N=!0)},o(_){L(l.$$.fragment,_),L(D),L(h),L(I),L(R),N=!1},d(_){_&&(c(e),c(a),c(o),c(p),c($),c(Z)),fe(l),D&&D.d(_),j[d].d(_),I&&I.d(_),M[O].d(_)}}}function Xt(n){let e,t,l,i,r,s=".nc(c)",f,a;return l=new Ge({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=U(),r=g("div"),r.textContent=s,this.h()},l(o){e=b(o,"BUTTON",{class:!0});var d=y(e);t=b(d,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=A(h),r=b(h,"DIV",{class:!0,"data-svelte-h":!0}),we(r)!=="svelte-1jbdvqs"&&(r.textContent=s),h.forEach(c),d.forEach(c),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",f=Ee+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=nc_clipped"),u(t,"class","flex"),u(t,"title","Download clipped .nc file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(o,d){E(o,e,d),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(o,d){(!a||d[0]&70&&f!==(f=Ee+"/climate/get_temp_file?name="+o[1][o[90].index].filename+"&type="+o[6]+"&filetype=nc_clipped"))&&u(t,"href",f)},i(o){a||(C(l.$$.fragment,o),a=!0)},o(o){L(l.$$.fragment,o),a=!1},d(o){o&&c(e),fe(l)}}}function wn(n){let e,t="";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-qcdn79"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){E(l,e,i)},p:le,i:le,o:le,d(l){l&&c(e)}}}function kn(n){let e,t,l,i,r=".dat",s,f,a;t=new Ge({});function o(){return n[56](n[90])}return{c(){e=g("button"),_e(t.$$.fragment),l=U(),i=g("div"),i.textContent=r,this.h()},l(d){e=b(d,"BUTTON",{class:!0,title:!0});var h=y(e);ce(t.$$.fragment,h),l=A(h),i=b(h,"DIV",{class:!0,"data-svelte-h":!0}),we(i)!=="svelte-1uzok2n"&&(i.textContent=r),h.forEach(c),this.h()},h(){u(i,"class","ml-1 flex place-items-center justify-items-center"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md"),u(e,"title","Generate .dat file for download")},m(d,h){E(d,e,h),ue(t,e,null),m(e,l),m(e,i),s=!0,f||(a=oe(e,"click",o),f=!0)},p(d,h){n=d},i(d){s||(C(t.$$.fragment,d),s=!0)},o(d){L(t.$$.fragment,d),s=!1},d(d){d&&c(e),fe(t),f=!1,a()}}}function yn(n){let e,t,l,i,r,s=".dat",f,a;return l=new Ge({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=U(),r=g("div"),r.textContent=s,this.h()},l(o){e=b(o,"BUTTON",{class:!0});var d=y(e);t=b(d,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=A(h),r=b(h,"DIV",{class:!0,"data-svelte-h":!0}),we(r)!=="svelte-xhf5go"&&(r.textContent=s),h.forEach(c),d.forEach(c),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",f=Ee+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat"),u(t,"class","flex"),u(t,"title","Download .dat file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(o,d){E(o,e,d),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(o,d){(!a||d[0]&70&&f!==(f=Ee+"/climate/get_temp_file?name="+o[1][o[90].index].filename+"&type="+o[6]+"&filetype=dat"))&&u(t,"href",f)},i(o){a||(C(l.$$.fragment,o),a=!0)},o(o){L(l.$$.fragment,o),a=!1},d(o){o&&c(e),fe(l)}}}function xt(n){let e,t,l,i,r,s=".dat(c)",f,a;return l=new Ge({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=U(),r=g("div"),r.textContent=s,this.h()},l(o){e=b(o,"BUTTON",{class:!0});var d=y(e);t=b(d,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=A(h),r=b(h,"DIV",{class:!0,"data-svelte-h":!0}),we(r)!=="svelte-484fei"&&(r.textContent=s),h.forEach(c),d.forEach(c),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",f=Ee+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat_clipped"),u(t,"class","flex"),u(t,"title","Download clipped .dat file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(o,d){E(o,e,d),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(o,d){(!a||d[0]&70&&f!==(f=Ee+"/climate/get_temp_file?name="+o[1][o[90].index].filename+"&type="+o[6]+"&filetype=dat_clipped"))&&u(t,"href",f)},i(o){a||(C(l.$$.fragment,o),a=!0)},o(o){L(l.$$.fragment,o),a=!1},d(o){o&&c(e),fe(l)}}}function $n(n){let e,t="";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-qcdn79"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){E(l,e,i)},p:le,i:le,o:le,d(l){l&&c(e)}}}function En(n){let e,t,l,i,r,s=".tif",f,a;return l=new Ge({}),{c(){e=g("button"),t=g("a"),_e(l.$$.fragment),i=U(),r=g("div"),r.textContent=s,this.h()},l(o){e=b(o,"BUTTON",{class:!0});var d=y(e);t=b(d,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=A(h),r=b(h,"DIV",{class:!0,"data-svelte-h":!0}),we(r)!=="svelte-1jouijs"&&(r.textContent=s),h.forEach(c),d.forEach(c),this.h()},h(){u(r,"class","ml-1 text-white flex place-items-center justify-center"),u(t,"href",f=Ee+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=tif"),u(t,"class","flex"),u(t,"title","Download TIFF file"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(o,d){E(o,e,d),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(o,d){(!a||d[0]&70&&f!==(f=Ee+"/climate/get_temp_file?name="+o[1][o[90].index].filename+"&type="+o[6]+"&filetype=tif"))&&u(t,"href",f)},i(o){a||(C(l.$$.fragment,o),a=!0)},o(o){L(l.$$.fragment,o),a=!1},d(o){o&&c(e),fe(l)}}}function Tn(n){let e,t,l,i,r=".tif",s,f,a;t=new Ge({});function o(){return n[57](n[90])}return{c(){e=g("button"),_e(t.$$.fragment),l=U(),i=g("div"),i.textContent=r,this.h()},l(d){e=b(d,"BUTTON",{class:!0,title:!0});var h=y(e);ce(t.$$.fragment,h),l=A(h),i=b(h,"DIV",{class:!0,"data-svelte-h":!0}),we(i)!=="svelte-17agyo6"&&(i.textContent=r),h.forEach(c),this.h()},h(){u(i,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md"),u(e,"title","Generate TIFF file for download (might fail)")},m(d,h){E(d,e,h),ue(t,e,null),m(e,l),m(e,i),s=!0,f||(a=oe(e,"click",o),f=!0)},p(d,h){n=d},i(d){s||(C(t.$$.fragment,d),s=!0)},o(d){L(t.$$.fragment,d),s=!1},d(d){d&&c(e),fe(t),f=!1,a()}}}function el(n){let e,t,l,i;const r=[Dn,Cn],s=[];function f(a,o){return a[1][a[90].index].tif_convertable?0:1}return e=f(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,o){s[e].m(a,o),E(a,l,o),i=!0},p(a,o){let d=e;e=f(a),e===d?s[e].p(a,o):(Te(),L(s[d],1,1,()=>{s[d]=null}),Ce(),t=s[e],t?t.p(a,o):(t=s[e]=r[e](a),t.c()),C(t,1),t.m(l.parentNode,l))},i(a){i||(C(t),i=!0)},o(a){L(t),i=!1},d(a){a&&c(l),s[e].d(a)}}}function Cn(n){let e,t="";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-rfwxo5"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){E(l,e,i)},p:le,i:le,o:le,d(l){l&&c(e)}}}function Dn(n){let e,t,l,i,r="View",s,f,a,o;t=new Ol({});function d(){return n[58](n[90])}return{c(){e=g("button"),_e(t.$$.fragment),l=U(),i=g("div"),i.textContent=r,this.h()},l(h){e=b(h,"BUTTON",{class:!0,title:!0});var p=y(e);ce(t.$$.fragment,p),l=A(p),i=b(p,"DIV",{class:!0,"data-svelte-h":!0}),we(i)!=="svelte-4n39fu"&&(i.textContent=r),p.forEach(c),this.h()},h(){u(i,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-primary hover:bg-primary-900 rounded-md"),u(e,"title",s="Visualize on map. Note: This will download the file to your browser (~"+n[1][n[90].index].filesize+").")},m(h,p){E(h,e,p),ue(t,e,null),m(e,l),m(e,i),f=!0,a||(o=oe(e,"click",d),a=!0)},p(h,p){n=h,(!f||p[0]&6&&s!==(s="Visualize on map. Note: This will download the file to your browser (~"+n[1][n[90].index].filesize+")."))&&u(e,"title",s)},i(h){f||(C(t.$$.fragment,h),f=!0)},o(h){L(t.$$.fragment,h),f=!1},d(h){h&&c(e),fe(t),a=!1,o()}}}function tl(n){let e,t;return e=new cn({props:{folder_data:n[1],file_obj:n[90],foldertype:n[6]}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i[0]&2&&(r.folder_data=l[1]),i[0]&4&&(r.file_obj=l[90]),i[0]&64&&(r.foldertype=l[6]),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function ll(n){let e,t,l,i,r,s,f,a=n[1][n[90].index].filename.replace(n[86],"").replace(/^_+/,"")+"",o,d,h=n[1][n[90].index].filename.includes("_spi_")||n[1][n[90].index].filename.includes("_spei_"),p,$,O,R,Z,N,D=n[1][n[90].index].filesize+"",S,j,ae,I=(n[0]=="internal"?n[1][n[90].index].creation_date:n[1][n[90].index].creation_date.split(" ")[0])+"",X,M,V,_,T,P,G,Y,k,q,v,Q,z,ne,x,B,ye,J;function ee(){n[53].call(i,n[90])}let K=h&&Qt();function me(te,F){return te[1][te[90].index].metadata_show?pn:vn}let he=me(n),ke=he(n);const Ae=[gn,bn],De=[];function Oe(te,F){return te[1][te[90].index].filesuffix==".nc"?0:1}T=Oe(n),P=De[T]=Ae[T](n);let pe=n[1][n[90].index].filesuffix==".nc"&&el(n);function Re(...te){return n[59](n[90],...te)}let ge=n[1][n[90].index].metadata&&n[1][n[90].index].metadata_show&&tl(n);function Ue(...te){return n[60](n[90],...te)}return{c(){e=g("tr"),t=g("td"),l=g("label"),i=g("input"),f=re(`
												  ... `),o=re(a),d=U(),K&&K.c(),O=U(),R=g("td"),ke.c(),Z=U(),N=g("td"),S=re(D),j=U(),ae=g("td"),X=re(I),M=U(),V=g("td"),_=g("div"),P.c(),G=U(),Y=g("td"),pe&&pe.c(),v=U(),Q=g("tr"),z=g("td"),ge&&ge.c(),ne=U(),this.h()},l(te){e=b(te,"TR",{class:!0,style:!0});var F=y(e);t=b(F,"TD",{class:!0});var Se=y(t);l=b(Se,"LABEL",{for:!0,title:!0});var Ie=y(l);i=b(Ie,"INPUT",{type:!0,id:!0}),f=ie(Ie,`
												  ... `),o=ie(Ie,a),d=A(Ie),K&&K.l(Ie),Ie.forEach(c),Se.forEach(c),O=A(F),R=b(F,"TD",{});var Xe=y(R);ke.l(Xe),Xe.forEach(c),Z=A(F),N=b(F,"TD",{});var xe=y(N);S=ie(xe,D),xe.forEach(c),j=A(F),ae=b(F,"TD",{});var We=y(ae);X=ie(We,I),We.forEach(c),M=A(F),V=b(F,"TD",{class:!0});var Ne=y(V);_=b(Ne,"DIV",{class:!0});var W=y(_);P.l(W),W.forEach(c),Ne.forEach(c),G=A(F),Y=b(F,"TD",{class:!0});var se=y(Y);pe&&pe.l(se),se.forEach(c),F.forEach(c),v=A(te),Q=b(te,"TR",{class:!0});var Le=y(Q);z=b(Le,"TD",{colspan:!0,class:!0});var Pe=y(z);ge&&ge.l(Pe),Pe.forEach(c),ne=A(Le),Le.forEach(c),this.h()},h(){u(i,"type","checkbox"),i.__value=r=n[90].index,Ke(i,i.__value),u(i,"id",s="checkbox_"+n[90].index),u(l,"for",p="checkbox_"+n[90].index),u(l,"title",$="Select for download: "+n[1][n[90].index].filename),u(t,"class","col-span-7 w-full break-all pl-1"),u(_,"class","flex"),u(V,"class","min-w-[122px]"),u(Y,"class","min-w-[86px] max-w-[86px]"),u(e,"class",k="hover:bg-slate-400 "+([n[13].toLowerCase(),n[14],n[15]].every(Re)?"visible":"hidden")),u(e,"style",q=n[4]&&!n[1][n[90].index].in_limit_conversion&&n[3][n[90].index]?"background: #000000":""),u(z,"colspan","7"),u(z,"class","p-2"),u(Q,"class",x=[n[13].toLowerCase(),n[14],n[15]].every(Ue)?"visible":"hidden")},m(te,F){E(te,e,F),m(e,t),m(t,l),m(l,i),i.checked=n[3][n[90].index],m(l,f),m(l,o),m(l,d),K&&K.m(l,null),m(e,O),m(e,R),ke.m(R,null),m(e,Z),m(e,N),m(N,S),m(e,j),m(e,ae),m(ae,X),m(e,M),m(e,V),m(V,_),De[T].m(_,null),m(e,G),m(e,Y),pe&&pe.m(Y,null),E(te,v,F),E(te,Q,F),m(Q,z),ge&&ge.m(z,null),m(Q,ne),B=!0,ye||(J=[oe(i,"change",ee),oe(i,"change",n[19])],ye=!0)},p(te,F){n=te,(!B||F[0]&4&&r!==(r=n[90].index))&&(i.__value=r,Ke(i,i.__value)),(!B||F[0]&4&&s!==(s="checkbox_"+n[90].index))&&u(i,"id",s),F[0]&12&&(i.checked=n[3][n[90].index]),(!B||F[0]&6)&&a!==(a=n[1][n[90].index].filename.replace(n[86],"").replace(/^_+/,"")+"")&&Be(o,a),F[0]&6&&(h=n[1][n[90].index].filename.includes("_spi_")||n[1][n[90].index].filename.includes("_spei_")),h?K||(K=Qt(),K.c(),K.m(l,null)):K&&(K.d(1),K=null),(!B||F[0]&4&&p!==(p="checkbox_"+n[90].index))&&u(l,"for",p),(!B||F[0]&6&&$!==($="Select for download: "+n[1][n[90].index].filename))&&u(l,"title",$),he===(he=me(n))&&ke?ke.p(n,F):(ke.d(1),ke=he(n),ke&&(ke.c(),ke.m(R,null))),(!B||F[0]&6)&&D!==(D=n[1][n[90].index].filesize+"")&&Be(S,D),(!B||F[0]&7)&&I!==(I=(n[0]=="internal"?n[1][n[90].index].creation_date:n[1][n[90].index].creation_date.split(" ")[0])+"")&&Be(X,I);let Se=T;T=Oe(n),T===Se?De[T].p(n,F):(Te(),L(De[Se],1,1,()=>{De[Se]=null}),Ce(),P=De[T],P?P.p(n,F):(P=De[T]=Ae[T](n),P.c()),C(P,1),P.m(_,null)),n[1][n[90].index].filesuffix==".nc"?pe?(pe.p(n,F),F[0]&6&&C(pe,1)):(pe=el(n),pe.c(),C(pe,1),pe.m(Y,null)):pe&&(Te(),L(pe,1,1,()=>{pe=null}),Ce()),(!B||F[0]&57350&&k!==(k="hover:bg-slate-400 "+([n[13].toLowerCase(),n[14],n[15]].every(Re)?"visible":"hidden")))&&u(e,"class",k),(!B||F[0]&30&&q!==(q=n[4]&&!n[1][n[90].index].in_limit_conversion&&n[3][n[90].index]?"background: #000000":""))&&u(e,"style",q),n[1][n[90].index].metadata&&n[1][n[90].index].metadata_show?ge?(ge.p(n,F),F[0]&6&&C(ge,1)):(ge=tl(n),ge.c(),C(ge,1),ge.m(z,null)):ge&&(Te(),L(ge,1,1,()=>{ge=null}),Ce()),(!B||F[0]&57350&&x!==(x=[n[13].toLowerCase(),n[14],n[15]].every(Ue)?"visible":"hidden"))&&u(Q,"class",x)},i(te){B||(C(P),C(pe),C(ge),B=!0)},o(te){L(P),L(pe),L(ge),B=!1},d(te){te&&(c(e),c(v),c(Q)),K&&K.d(),ke.d(),De[T].d(),pe&&pe.d(),ge&&ge.d(),ye=!1,bt(J)}}}function nl(n){let e,t,l,i,r,s,f,a,o=n[86]+"",d,h,p=n[87].files.filter(n[51]).length+"",$,O,R,Z,N,D,S='<tr><th class="text-left">Filename</th> <th class="text-left min-w-[80px] max-w-[80px]">Metadata</th> <th class="text-left min-w-[80px] max-w-[80px]">Filesize</th> <th class="text-left min-w-[140px] max-w-[140px]">Last modified</th> <th class="text-left min-w-[122px] max-w-[122px]">Download Link</th> <th class="text-left min-w-[86px] max-w-[86px]">Visualize</th></tr>',j,ae,I,X,M,V,_,T;const P=[mn,hn],G=[];function Y(z,ne){return z[87].toggled?0:1}r=Y(n),s=G[r]=P[r](n);function k(){return n[52](n[86])}let q=Ve(n[87].files),v=[];for(let z=0;z<q.length;z+=1)v[z]=ll(It(n,q,z));const Q=z=>L(v[z],1,1,()=>{v[z]=null});return{c(){e=g("div"),t=g("div"),l=g("button"),i=g("div"),s.c(),f=U(),a=g("h2"),d=re(o),h=re(" ("),$=re(p),O=re(")"),R=U(),Z=g("div"),N=g("table"),D=g("thead"),D.innerHTML=S,j=U(),ae=g("tbody");for(let z=0;z<v.length;z+=1)v[z].c();X=U(),this.h()},l(z){e=b(z,"DIV",{class:!0});var ne=y(e);t=b(ne,"DIV",{class:!0});var x=y(t);l=b(x,"BUTTON",{class:!0});var B=y(l);i=b(B,"DIV",{class:!0});var ye=y(i);s.l(ye),ye.forEach(c),f=A(B),a=b(B,"H2",{class:!0});var J=y(a);d=ie(J,o),h=ie(J," ("),$=ie(J,p),O=ie(J,")"),J.forEach(c),B.forEach(c),x.forEach(c),R=A(ne),Z=b(ne,"DIV",{class:!0});var ee=y(Z);N=b(ee,"TABLE",{class:!0});var K=y(N);D=b(K,"THEAD",{"data-svelte-h":!0}),we(D)!=="svelte-6vbf8e"&&(D.innerHTML=S),j=A(K),ae=b(K,"TBODY",{});var me=y(ae);for(let he=0;he<v.length;he+=1)v[he].l(me);me.forEach(c),K.forEach(c),ee.forEach(c),X=A(ne),ne.forEach(c),this.h()},h(){u(i,"class","flex-center w-[18px] h-[28px]"),u(a,"class","text-xl ml-2"),u(l,"class","w-full flex items-left"),u(t,"class","w-full h-[36px] flex items-center rounded-md pl-3 "+(n[89]%2==0?"bg-emerald-700":"bg-emerald-900")+" mb-1"),u(N,"class","table-fixed mb-1"),u(Z,"class",I=n[87].toggled?"visible":"hidden"),u(e,"class",M=n[87].files.filter(n[61]).length>0?"visible":"hidden")},m(z,ne){E(z,e,ne),m(e,t),m(t,l),m(l,i),G[r].m(i,null),m(l,f),m(l,a),m(a,d),m(a,h),m(a,$),m(a,O),m(e,R),m(e,Z),m(Z,N),m(N,D),m(N,j),m(N,ae);for(let x=0;x<v.length;x+=1)v[x]&&v[x].m(ae,null);m(e,X),V=!0,_||(T=oe(l,"click",k),_=!0)},p(z,ne){n=z;let x=r;if(r=Y(n),r!==x&&(Te(),L(G[x],1,1,()=>{G[x]=null}),Ce(),s=G[r],s||(s=G[r]=P[r](n),s.c()),C(s,1),s.m(i,null)),(!V||ne[0]&4)&&o!==(o=n[86]+"")&&Be(d,o),(!V||ne[0]&57348)&&p!==(p=n[87].files.filter(n[51]).length+"")&&Be($,p),ne[0]&101507167){q=Ve(n[87].files);let B;for(B=0;B<q.length;B+=1){const ye=It(n,q,B);v[B]?(v[B].p(ye,ne),C(v[B],1)):(v[B]=ll(ye),v[B].c(),C(v[B],1),v[B].m(ae,null))}for(Te(),B=q.length;B<v.length;B+=1)Q(B);Ce()}(!V||ne[0]&4&&I!==(I=n[87].toggled?"visible":"hidden"))&&u(Z,"class",I),(!V||ne[0]&57348&&M!==(M=n[87].files.filter(n[61]).length>0?"visible":"hidden"))&&u(e,"class",M)},i(z){if(!V){C(s);for(let ne=0;ne<q.length;ne+=1)C(v[ne]);V=!0}},o(z){L(s),v=v.filter(Boolean);for(let ne=0;ne<v.length;ne+=1)L(v[ne]);V=!1},d(z){z&&c(e),G[r].d(),lt(v,z),_=!1,T()}}}function In(n){return{c:le,l:le,m:le,p:le,d:le}}function Nn(n){let e,t,l,i,r="<span>To download all selected files using Wget:</span>",s,f,a,o=n[5]>0&&il(n);return{c(){e=g("div"),t=g("div"),o&&o.c(),l=U(),i=g("div"),i.innerHTML=r,s=U(),f=g("div"),a=re(n[17]),this.h()},l(d){e=b(d,"DIV",{style:!0});var h=y(e);t=b(h,"DIV",{class:!0});var p=y(t);o&&o.l(p),l=A(p),i=b(p,"DIV",{class:!0,"data-svelte-h":!0}),we(i)!=="svelte-7lv1vm"&&(i.innerHTML=r),s=A(p),f=b(p,"DIV",{class:!0});var $=y(f);a=ie($,n[17]),$.forEach(c),p.forEach(c),h.forEach(c),this.h()},h(){u(i,"class","mb-2"),u(f,"class","p-[3px] bg-surface-900 [word-spacing:6px]"),u(t,"class","bg-surface-700 border-2 rounded-md p-4 m-2"),nt(e,"display","flex")},m(d,h){E(d,e,h),m(e,t),o&&o.m(t,null),m(t,l),m(t,i),m(t,s),m(t,f),m(f,a)},p(d,h){d[5]>0?o?o.p(d,h):(o=il(d),o.c(),o.m(t,l)):o&&(o.d(1),o=null),h[0]&131072&&Be(a,d[17])},d(d){d&&c(e),o&&o.d()}}}function il(n){let e,t,l;return{c(){e=re("("),t=re(n[5]),l=re(`) of your selected files were too big and are thus dropped from the
					download.`)},l(i){e=ie(i,"("),t=ie(i,n[5]),l=ie(i,`) of your selected files were too big and are thus dropped from the
					download.`)},m(i,r){E(i,e,r),E(i,t,r),E(i,l,r)},p(i,r){r[0]&32&&Be(t,i[5])},d(i){i&&(c(e),c(t),c(l))}}}function Ln(n){let e,t,l,i="Available Collections",r,s,f,a,o,d=`The Climate Services Gateway (CSG) is a platform that provides access to high resolution climate
		projections and analysis ready data for the southern African region. The Gateway development is
		still ongoing as well as the processing of datasets. Here you can explore the available
		collections of datasets by model family or region.<br/> <br/>Please report issues and feedback
		<span class="text-bold underline"><a href="https://github.com/TIPPECC/tippecc.github.io/issues" target="_blank">here</a></span>.`,h,p,$,O,R,Z,N,D,S,j,ae,I,X,M,V,_,T,P,G,Y,k,q,v,Q,z,ne,x,B,ye,J,ee,K,me,he,ke,Ae,De,Oe;f=new Al({});function pe(W){n[33](W)}function Re(W){n[34](W)}function ge(W){n[35](W)}let Ue={};n[6]!==void 0&&(Ue.foldertype=n[6]),n[7]!==void 0&&(Ue.filter=n[7]),n[0]!==void 0&&(Ue.filter_by_status=n[0]),p=new yl({props:Ue}),ze.push(()=>He(p,"foldertype",pe)),ze.push(()=>He(p,"filter",Re)),ze.push(()=>He(p,"filter_by_status",ge)),p.$on("foldertype_changed",n[36]);let te=n[0]=="internal"&&Ut(n),F=n[8].length>0&&Ot(n);V=new _l({}),Y=new cl({}),z=new Fl({}),J=new Rl({});const Se=[dn,_n],Ie=[];function Xe(W,se){return W[1].length>0?0:1}me=Xe(n),he=Ie[me]=Se[me](n);function xe(W,se){return W[17].length>0?Nn:In}let We=xe(n),Ne=We(n);return{c(){e=g("div"),t=g("div"),l=g("h1"),l.textContent=i,r=U(),s=g("div"),_e(f.$$.fragment),a=U(),o=g("div"),o.innerHTML=d,h=U(),_e(p.$$.fragment),Z=U(),te&&te.c(),N=U(),D=g("div"),S=g("input"),j=U(),F&&F.c(),ae=U(),I=g("div"),X=g("div"),M=g("button"),_e(V.$$.fragment),_=re("   Expand All"),T=U(),P=g("div"),G=g("button"),_e(Y.$$.fragment),k=re("   Close All"),q=U(),v=g("div"),Q=g("button"),_e(z.$$.fragment),ne=re("   Select All"),x=U(),B=g("div"),ye=g("button"),_e(J.$$.fragment),ee=re("   Unselect All"),K=U(),he.c(),ke=U(),Ne.c(),this.h()},l(W){e=b(W,"DIV",{class:!0});var se=y(e);t=b(se,"DIV",{class:!0});var Le=y(t);l=b(Le,"H1",{class:!0,"data-svelte-h":!0}),we(l)!=="svelte-1fwzelh"&&(l.textContent=i),r=A(Le),s=b(Le,"DIV",{class:!0});var Pe=y(s);ce(f.$$.fragment,Pe),Pe.forEach(c),Le.forEach(c),a=A(se),o=b(se,"DIV",{class:!0,"data-svelte-h":!0}),we(o)!=="svelte-126b7zc"&&(o.innerHTML=d),h=A(se),ce(p.$$.fragment,se),Z=A(se),te&&te.l(se),N=A(se),D=b(se,"DIV",{class:!0});var ut=y(D);S=b(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),ut.forEach(c),j=A(se),F&&F.l(se),ae=A(se),I=b(se,"DIV",{class:!0});var qe=y(I);X=b(qe,"DIV",{});var ct=y(X);M=b(ct,"BUTTON",{class:!0});var it=y(M);ce(V.$$.fragment,it),_=ie(it,"   Expand All"),it.forEach(c),ct.forEach(c),T=A(qe),P=b(qe,"DIV",{});var _t=y(P);G=b(_t,"BUTTON",{class:!0});var rt=y(G);ce(Y.$$.fragment,rt),k=ie(rt,"   Close All"),rt.forEach(c),_t.forEach(c),q=A(qe),v=b(qe,"DIV",{});var dt=y(v);Q=b(dt,"BUTTON",{class:!0});var at=y(Q);ce(z.$$.fragment,at),ne=ie(at,"   Select All"),at.forEach(c),dt.forEach(c),x=A(qe),B=b(qe,"DIV",{});var ht=y(B);ye=b(ht,"BUTTON",{class:!0});var st=y(ye);ce(J.$$.fragment,st),ee=ie(st,"   Unselect All"),st.forEach(c),ht.forEach(c),qe.forEach(c),K=A(se),he.l(se),ke=A(se),Ne.l(se),se.forEach(c),this.h()},h(){u(l,"class","content-heading"),u(s,"class","flex-center"),u(t,"class","flex"),u(o,"class","p-2 mb-2 ml-2"),u(S,"class","input w-full mt-4 p-2 rounded-md placeholder-gray-200"),u(S,"type","text"),u(S,"placeholder","Type to filter filenames..."),u(D,"class","p-2"),u(M,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(G,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(Q,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(ye,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(I,"class","flex gap-4 mt-2 p-2"),u(e,"class","content-div")},m(W,se){E(W,e,se),m(e,t),m(t,l),m(t,r),m(t,s),ue(f,s,null),m(e,a),m(e,o),m(e,h),ue(p,e,null),m(e,Z),te&&te.m(e,null),m(e,N),m(e,D),m(D,S),Ke(S,n[13]),m(e,j),F&&F.m(e,null),m(e,ae),m(e,I),m(I,X),m(X,M),ue(V,M,null),m(M,_),m(I,T),m(I,P),m(P,G),ue(Y,G,null),m(G,k),m(I,q),m(I,v),m(v,Q),ue(z,Q,null),m(Q,ne),m(I,x),m(I,B),m(B,ye),ue(J,ye,null),m(ye,ee),m(e,K),Ie[me].m(e,null),m(e,ke),Ne.m(e,null),Ae=!0,De||(Oe=[oe(S,"input",n[38]),oe(M,"click",n[47]),oe(G,"click",n[48]),oe(Q,"click",n[49]),oe(ye,"click",n[50])],De=!0)},p(W,se){const Le={};!$&&se[0]&64&&($=!0,Le.foldertype=W[6],Fe(()=>$=!1)),!O&&se[0]&128&&(O=!0,Le.filter=W[7],Fe(()=>O=!1)),!R&&se[0]&1&&(R=!0,Le.filter_by_status=W[0],Fe(()=>R=!1)),p.$set(Le),W[0]=="internal"?te?te.p(W,se):(te=Ut(W),te.c(),te.m(e,N)):te&&(te.d(1),te=null),se[0]&8192&&S.value!==W[13]&&Ke(S,W[13]),W[8].length>0?F?F.p(W,se):(F=Ot(W),F.c(),F.m(e,ae)):F&&(F.d(1),F=null);let Pe=me;me=Xe(W),me===Pe?Ie[me].p(W,se):(Te(),L(Ie[Pe],1,1,()=>{Ie[Pe]=null}),Ce(),he=Ie[me],he?he.p(W,se):(he=Ie[me]=Se[me](W),he.c()),C(he,1),he.m(e,ke)),We===(We=xe(W))&&Ne?Ne.p(W,se):(Ne.d(1),Ne=We(W),Ne&&(Ne.c(),Ne.m(e,null)))},i(W){Ae||(C(f.$$.fragment,W),C(p.$$.fragment,W),C(V.$$.fragment,W),C(Y.$$.fragment,W),C(z.$$.fragment,W),C(J.$$.fragment,W),C(he),Ae=!0)},o(W){L(f.$$.fragment,W),L(p.$$.fragment,W),L(V.$$.fragment,W),L(Y.$$.fragment,W),L(z.$$.fragment,W),L(J.$$.fragment,W),L(he),Ae=!1},d(W){W&&c(e),fe(f),fe(p),te&&te.d(),F&&F.d(),fe(V),fe(Y),fe(z),fe(J),Ie[me].d(),Ne.d(),De=!1,bt(Oe)}}}async function vt({url:n,key:e,folder_data:t,file_obj:l}){const i=await fetch(n);t[l.index][e]=i.ok?await i.json():{[`currently no ${e} available`]:"for this file"},t[l.index][`${e}_exists`]=i.ok}function Vn(n){const e=document.getElementById("checkbox_"+n);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}function rl(n){const e={ai:"Aridity Index",evspsblpot:"PET",evspsbl:"Actual Evaporation",pr:"Precipitation",tas:"Air Temp",tasmax:"Max Air Temp",tasmin:"Min Air Temp",sfcWind:"Wind Speed",water_budget:"Water Budget",kbdi:"KBDI",hurs:"Rel. Humidity",rlds:"D. Long Rad.",rsds:"D. Short Rad.",rsus:"Up Short Rad.",rlus:"Up Long Rad.",spi:"SPI",spei:"SPEI"};for(const[t,l]of Object.entries(e))if(n==t)return n.replace(t,l);return n}const al=n=>n.show=="true",sl=n=>n.show=="true",ol=n=>n.show=="true",fl=n=>n.show=="true",ul=n=>n==!0;function Bn(n,e,t){let l,{filter_by_status:i=""}=e;console.log("Status: ",i);let r=[],s={},f=[],a=!1,o=0,d=1,h="CMIP6_raw",p="",$="",O=[],R=[{time:"1981_2000-2080_2099",show:"false"}],Z=[{time:"1981_2000",show:"false"},{time:"2021_2040",show:"false"},{time:"2041_2060",show:"false"},{time:"2080_2099",show:"false"}],N=[{time:"1981_2010",show:"false"},{time:"2011_2040",show:"false"},{time:"2071_2099",show:"false"}],D=[{time:"yearly",show:"false"},{time:"seasonal",show:"false"},{time:"monthly",show:"false"}];gt(()=>{$l.subscribe(w=>{})}),gt(()=>{Y(!1)});async function S(w,H){var ve=Ee+"/climate/generate_dat_file?name="+w+"&type="+h;console.log(ve);const $e=await fetch(ve,{method:"GET"});if($e.ok)t(1,r[H].dat_exists=!0,r),t(1,r=[...r]);else{t(1,r[H].dat_exists=!1,r),t(1,r=[...r]);var be=await $e.text();throw new Error(`${$e.status} ${$e.statusText}
Reason: ${be}`)}}let j="";function ae(w){t(17,l="")}function I(){for(var w=0;w<f.length;w++)r[w].filename.toLowerCase().includes(j.toLowerCase())&&(r[w].filename.includes(v)||v=="_")&&(r[w].filename.includes(z)||z=="_")&&t(3,f[w]=!0,f)}function X(){for(var w=0;w<f.length;w++)t(3,f[w]=!1,f)}function M(){for(const[w,H]of Object.entries(s))t(2,s[w].toggled=!0,s)}function V(){for(const[w,H]of Object.entries(s))t(2,s[w].toggled=!1,s)}async function _(){const w=Ee+"/climate/select_temp_urls?type="+h;let H=[];t(5,o=0);for(let be=0;be<f.length;be++)if(f[be]){r[be].filesuffix,r[be].filename.split(".").pop();var ve=r[be].filename;H.push([ve,ee])}try{const be=await fetch(w,{method:"POST",body:JSON.stringify(H)});let Je=[];if(!be.ok){var $e=await be.text();throw new Error(`${be.status} ${be.statusText}
Reason: ${$e}`)}Je=await be.json(),t(17,l=Je["wget-command"])}catch(be){console.log(be)}}async function T(w,H,ve,$e=0){console.log("get_metadata_and_prov",w,H,ve),t(1,r[ve.index].tabset=$e,r),await Promise.all([vt({url:Ee+"/climate/get_temp_file?name="+w+"&type="+H+"&filetype=meta",key:"metadata",folder_data:r,file_obj:ve}),vt({url:Ee+"/climate/get_temp_file?name="+w+"&type="+H+"&filetype=prov",key:"metadata_prov",folder_data:r,file_obj:ve}),vt({url:Ee+"/climate/get_temp_file?name="+w+"&type="+H+"&filetype=prov_stats",key:"metadata_prov_stats",folder_data:r,file_obj:ve})]),t(1,r[ve.index].metadata_show=!0,r),history.pushState({},"","?type="+H+"&filename="+w),t(1,r=[...r])}async function P(w,H){var ve=Ee+"/climate/access_tif?type="+h+"&name="+w;const $e=await fetch(ve,{method:"GET"});if($e.ok)t(1,r[H].tif_exists=!0,r),t(1,r=[...r]);else{t(1,r[H].tif_exists=!1,r),t(1,r[H].tif_convertable=!1,r),t(1,r=[...r]);var be=await $e.text();throw new Error(`${$e.status} ${$e.statusText}
Reason: ${be}`)}}function G(){let w=/(^(.+)_v(\d+)_([^_]+))|^((.+)_day_([^_]+)|^(.+))/;const H=Tl.find(be=>be.key==h);H&&H.header_regex.length>2&&(w=new RegExp(H.header_regex.replace(/\\/g,"\\"))),console.log("filePattern: ",w),t(2,s={});let ve={};t(8,O=[]),ve["No Category"]={files:[],toggled:!1},B(),J();for(let be=0;be<r.length;be++){var $e=r[be].filename;const Je=$e.match(w);if(x($e),ye($e),Je&&Je.length>=3){const et=Je[0],tt=/^(_*[^_]*_[^_]+)/g;let mt=$e.replace(Je[0],"").replace(".nc","").match(tt),ot="";mt&&(ot=mt[0].replace(/_\d{4}/g,"").replace(/^_+/,"").replace("_Afr",""),O.includes(ot)||O.push(ot)),ve[et]||(ve[et]={files:[],toggled:!1}),ve[et].files.push({filename:$e,index:be})}else ve["No Category"].files.push({filename:$e,index:be})}if(ve["No Category"].files.length==0&&delete ve["No Category"],t(2,s=ve),t(8,O=[...O]),p.length>0)for(const[be,Je]of Object.entries(s)){const et=Je.files.find(tt=>tt.filename===p);if(console.log("found",et),et){t(2,s[be].toggled=!0,s);const tt=r.findIndex(ot=>ot.filename===p),mt=r[tt];console.log("found file in folder_data",mt),T(r[tt].filename,h,et,0),d=tt;break}}}async function Y(w=!1){t(1,r={}),t(8,O=[]),t(13,j="");try{if(w)var H=await wl(h,!1);else var H=await kl(h,!1);t(1,r=H.content),r.sort((ve,$e)=>ve.filename.replace(".nc","").localeCompare($e.filename.replace(".nc",""))),G(),t(3,f=r.map(()=>!1)),Vl&&history.pushState({},"","?type="+h+"&filename="+p)}catch{console.log("Refreshing folder content failed.")}finally{setTimeout(()=>{Vn(d),d=1},500)}}function k(w){t(2,s[w].toggled=!s[w].toggled,s)}function q(w){t(13,j=w)}let v="_";function Q(w){t(14,v=w)}let z="_";function ne(w){t(15,z=w)}function x(w){for(let H=0;H<R.length;H++)w.includes(R[H].time)&&t(9,R[H].show="true",R);for(let H=0;H<Z.length;H++)w.includes(Z[H].time)&&t(10,Z[H].show="true",Z);for(let H=0;H<N.length;H++)w.includes(N[H].time)&&t(11,N[H].show="true",N)}function B(){for(let w=0;w<R.length;w++)t(9,R[w].show="false",R);for(let w=0;w<Z.length;w++)t(10,Z[w].show="false",Z);for(let w=0;w<N.length;w++)t(11,N[w].show="false",N);t(14,v="_")}function ye(w){for(let H=0;H<D.length;H++)w.includes(D[H].time)&&t(12,D[H].show="true",D)}function J(){for(let w=0;w<D.length;w++)t(12,D[w].show="false",D)}let ee="nc";function K(w){t(16,ee=w.target.value)}const me=[[]];function he(w){h=w,t(6,h)}function ke(w){$=w,t(7,$)}function Ae(w){i=w,t(0,i)}const De=()=>Y(!1),Oe=()=>Y(!0);function pe(){j=this.value,t(13,j)}const Re=w=>Q(w.time),ge=()=>Q("20y"),Ue=w=>Q(w.time),te=()=>Q("30y"),F=w=>Q(w.time),Se=()=>Q("_"),Ie=w=>ne(w.time),Xe=()=>ne("_"),xe=()=>M(),We=()=>V(),Ne=()=>I(),W=()=>X(),se=w=>[j.toLowerCase(),v,z].every(H=>w.filename.toLowerCase().includes(H)),Le=w=>k(w);function Pe(w){f[w.index]=this.checked,t(3,f)}const ut=w=>T(r[w.index].filename,h,w),qe=w=>t(1,r[w.index].metadata_show=!1,r),ct=w=>S(r[w.index].filename,w.index),it=w=>P(r[w.index].filename,w.index),_t=w=>T(r[w.index].filename,h,w,4),rt=(w,H)=>r[w.index].filename.toLowerCase().includes(H),dt=(w,H)=>r[w.index].filename.toLowerCase().includes(H),at=w=>[j.toLowerCase(),v,z].every(H=>w.filename.toLowerCase().includes(H));function ht(){ee=this.__value,t(16,ee)}function st(){ee=this.__value,t(16,ee)}function dl(){ee=this.__value,t(16,ee)}function hl(){ee=this.__value,t(16,ee)}function ml(){ee=this.__value,t(16,ee)}n.$$set=w=>{"filter_by_status"in w&&t(0,i=w.filter_by_status)},t(17,l="");{const w=new URLSearchParams(window.location.search),H=w.get("type");H&&t(6,h=H);const ve=w.get("filename");ve&&(p=ve)}return[i,r,s,f,a,o,h,$,O,R,Z,N,D,j,v,z,ee,l,S,ae,I,X,M,V,_,T,P,Y,k,q,Q,ne,K,he,ke,Ae,De,Oe,pe,Re,ge,Ue,te,F,Se,Ie,Xe,xe,We,Ne,W,se,Le,Pe,ut,qe,ct,it,_t,rt,dt,at,ht,me,st,dl,hl,ml]}class Hn extends Ze{constructor(e){super(),Qe(this,e,Bn,Ln,Ye,{filter_by_status:0},null,[-1,-1,-1,-1])}}export{Hn as C};
