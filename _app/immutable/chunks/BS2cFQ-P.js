import{s as We,n as ne,d,i as E,b as m,l as u,G as Ae,e as y,H as Oe,c as v,h as b,F as Me,I as Se,g as O,v as de,j,m as ge,f as ie,t as re,u as et,r as mt,y as Ge,q as fe,z as pt,o as xe,x as ml,a as Ve,Z as pl,M as vl}from"./B37NePj7.js";import{S as Je,i as Ke,d as oe,t as V,a as T,m as ue,c as ce,b as _e,f as Pe,g as ye,e as $e}from"./B835D2GP.js";import{e as Ne}from"./D6YF6ztN.js";import{A as ke}from"./BO6XNHuD.js";import{T as bl,z as gl,_ as wl}from"./CU7hq96A.js";import{F as kl,t as yl,L as $l,f as El}from"./DXz4O0wR.js";import"./sb9YJV1h.js";import{T as Tl,a as at,D as Re,P as dt,C as Cl,M as Dl,b as Il}from"./BrQg3Mdm.js";import"./CdvI_gxk.js";const Ll=!0,Nl=Ll;function Vl(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,height:!0,width:!0});var i=y(e);t=Ae(i,"path",{d:!0}),y(t).forEach(d),i.forEach(d),this.h()},h(){u(t,"d","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32l0 96L0 384c0 35.3 28.7 64 64 64l192 0 0-64L64 384l0-224 192 0 0-64L64 96l0-64zM288 192c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4L409.4 9.4c-6-6-14.1-9.4-22.6-9.4L320 0c-17.7 0-32 14.3-32 32l0 160zm0 288c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4l-13.3-13.3c-6-6-14.1-9.4-22.6-9.4L320 288c-17.7 0-32 14.3-32 32l0 160z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 576 512"),u(e,"height","40px"),u(e,"width","36px")},m(l,i){E(l,e,i),m(e,t)},p:ne,i:ne,o:ne,d(l){l&&d(e)}}}class Bl extends Je{constructor(e){super(),Ke(this,e,null,Vl,We,{})}}function Ul(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=Ae(i,"path",{d:!0}),y(t).forEach(d),i.forEach(d),this.h()},h(){u(t,"d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5l0 39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9l0 39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7l0-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1L257 256c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 512 512"),u(e,"width","24")},m(l,i){E(l,e,i),m(e,t)},p:ne,i:ne,o:ne,d(l){l&&d(e)}}}class Al extends Je{constructor(e){super(),Ke(this,e,null,Ul,We,{})}}function Ol(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var i=y(e);t=Ae(i,"path",{d:!0}),y(t).forEach(d),i.forEach(d),this.h()},h(){u(t,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),u(e,"class","pb-1 fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 320 512"),u(e,"width",n[1]),u(e,"height",n[0])},m(l,i){E(l,e,i),m(e,t)},p(l,[i]){i&2&&u(e,"width",l[1]),i&1&&u(e,"height",l[0])},i:ne,o:ne,d(l){l&&d(e)}}}function jl(n,e,t){let{h:l="32px"}=e,{w:i="18px"}=e;return n.$$set=r=>{"h"in r&&t(0,l=r.h),"w"in r&&t(1,i=r.w)},[l,i]}class sl extends Je{constructor(e){super(),Ke(this,e,jl,Ol,We,{h:0,w:1})}}function Ml(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var i=y(e);t=Ae(i,"path",{d:!0}),y(t).forEach(d),i.forEach(d),this.h()},h(){u(t,"d","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 256 512"),u(e,"width",n[0]),u(e,"height",n[1])},m(l,i){E(l,e,i),m(e,t)},p(l,[i]){i&1&&u(e,"width",l[0]),i&2&&u(e,"height",l[1])},i:ne,o:ne,d(l){l&&d(e)}}}function Sl(n,e,t){let{w:l="14px"}=e,{h:i="28px"}=e;return n.$$set=r=>{"w"in r&&t(0,l=r.w),"h"in r&&t(1,i=r.h)},[l,i]}class fl extends Je{constructor(e){super(),Ke(this,e,Sl,Ml,We,{w:0,h:1})}}function Pl(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=Ae(i,"path",{d:!0}),y(t).forEach(d),i.forEach(d),this.h()},h(){u(t,"d","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","19")},m(l,i){E(l,e,i),m(e,t)},p:ne,i:ne,o:ne,d(l){l&&d(e)}}}class Fl extends Je{constructor(e){super(),Ke(this,e,null,Pl,We,{})}}function zl(n){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ae(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=Ae(i,"path",{d:!0}),y(t).forEach(d),i.forEach(d),this.h()},h(){u(t,"d","M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","18")},m(l,i){E(l,e,i),m(e,t)},p:ne,i:ne,o:ne,d(l){l&&d(e)}}}class Rl extends Je{constructor(e){super(),Ke(this,e,null,zl,We,{})}}function Hl(n){let e,t="Metadata";return{c(){e=b("span"),e.textContent=t},l(l){e=v(l,"SPAN",{"data-svelte-h":!0}),ge(e)!=="svelte-myby7z"&&(e.textContent=t)},m(l,i){E(l,e,i)},p:ne,d(l){l&&d(e)}}}function ql(n){let e;return{c(){e=re("Related Datasets")},l(t){e=ie(t,"Related Datasets")},m(t,l){E(t,e,l)},d(t){t&&d(e)}}}function Gl(n){let e;return{c(){e=re("Provenance")},l(t){e=ie(t,"Provenance")},m(t,l){E(t,e,l)},d(t){t&&d(e)}}}function Wl(n){let e;return{c(){e=re("Citation")},l(t){e=ie(t,"Citation")},m(t,l){E(t,e,l)},d(t){t&&d(e)}}}function vt(n){let e,t,l;function i(s){n[13](s)}let r={name:"tab4",value:4,$$slots:{default:[Jl]},$$scope:{ctx:n}};return n[3]!==void 0&&(r.group=n[3]),e=new at({props:r}),Me.push(()=>Pe(e,"group",i)),{c(){_e(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,o){ue(e,s,o),l=!0},p(s,o){const a={};o&16384&&(a.$$scope={dirty:o,ctx:s}),!t&&o&8&&(t=!0,a.group=s[3],Se(()=>t=!1)),e.$set(a)},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),l=!1},d(s){oe(e,s)}}}function Jl(n){let e;return{c(){e=re("Map")},l(t){e=ie(t,"Map")},m(t,l){E(t,e,l)},d(t){t&&d(e)}}}function bt(n){let e,t,l,i;return{c(){e=b("div"),t=b("a"),l=re("File Information View"),this.h()},l(r){e=v(r,"DIV",{class:!0});var s=y(e);t=v(s,"A",{href:!0,class:!0,style:!0});var o=y(t);l=ie(o,"File Information View"),o.forEach(d),s.forEach(d),this.h()},h(){u(t,"href",i="/file_info?type="+n[2]+"&filename="+n[4]),u(t,"class","px-3 p-1 py-1 bg-blue-500 text-white rounded hover:bg-blue-600"),et(t,"margin-top","5px"),et(t,"margin-right","2px"),et(t,"margin-left","auto"),et(t,"display","block"),et(t,"width","max-content"),u(e,"class","ml-auto")},m(r,s){E(r,e,s),m(e,t),m(t,l)},p(r,s){s&20&&i!==(i="/file_info?type="+r[2]+"&filename="+r[4])&&u(t,"href",i)},d(r){r&&d(e)}}}function Kl(n){let e,t,l,i,r,s,o,a,f,c,h,g,$,U,q;function P(_){n[9](_)}let D={name:"tab1",value:0,$$slots:{default:[Hl]},$$scope:{ctx:n}};n[3]!==void 0&&(D.group=n[3]),e=new at({props:D}),Me.push(()=>Pe(e,"group",P));function I(_){n[10](_)}let A={name:"tab1",value:1,$$slots:{default:[ql]},$$scope:{ctx:n}};n[3]!==void 0&&(A.group=n[3]),i=new at({props:A}),Me.push(()=>Pe(i,"group",I));function B(_){n[11](_)}let le={name:"tab2",value:2,$$slots:{default:[Gl]},$$scope:{ctx:n}};n[3]!==void 0&&(le.group=n[3]),o=new at({props:le}),Me.push(()=>Pe(o,"group",B));function L(_){n[12](_)}let x={name:"tab3",value:3,$$slots:{default:[Wl]},$$scope:{ctx:n}};n[3]!==void 0&&(x.group=n[3]),c=new at({props:x}),Me.push(()=>Pe(c,"group",L));let M=n[0][n[1].index].tif_convertable&&vt(n),N=n[0][n[1].index].metadata_exists&&bt(n);return{c(){_e(e.$$.fragment),l=j(),_e(i.$$.fragment),s=j(),_e(o.$$.fragment),f=j(),_e(c.$$.fragment),g=j(),M&&M.c(),$=j(),N&&N.c(),U=de()},l(_){ce(e.$$.fragment,_),l=O(_),ce(i.$$.fragment,_),s=O(_),ce(o.$$.fragment,_),f=O(_),ce(c.$$.fragment,_),g=O(_),M&&M.l(_),$=O(_),N&&N.l(_),U=de()},m(_,C){ue(e,_,C),E(_,l,C),ue(i,_,C),E(_,s,C),ue(o,_,C),E(_,f,C),ue(c,_,C),E(_,g,C),M&&M.m(_,C),E(_,$,C),N&&N.m(_,C),E(_,U,C),q=!0},p(_,C){const K={};C&16384&&(K.$$scope={dirty:C,ctx:_}),!t&&C&8&&(t=!0,K.group=_[3],Se(()=>t=!1)),e.$set(K);const Z={};C&16384&&(Z.$$scope={dirty:C,ctx:_}),!r&&C&8&&(r=!0,Z.group=_[3],Se(()=>r=!1)),i.$set(Z);const ee={};C&16384&&(ee.$$scope={dirty:C,ctx:_}),!a&&C&8&&(a=!0,ee.group=_[3],Se(()=>a=!1)),o.$set(ee);const k={};C&16384&&(k.$$scope={dirty:C,ctx:_}),!h&&C&8&&(h=!0,k.group=_[3],Se(()=>h=!1)),c.$set(k),_[0][_[1].index].tif_convertable?M?(M.p(_,C),C&3&&T(M,1)):(M=vt(_),M.c(),T(M,1),M.m($.parentNode,$)):M&&(ye(),V(M,1,1,()=>{M=null}),$e()),_[0][_[1].index].metadata_exists?N?N.p(_,C):(N=bt(_),N.c(),N.m(U.parentNode,U)):N&&(N.d(1),N=null)},i(_){q||(T(e.$$.fragment,_),T(i.$$.fragment,_),T(o.$$.fragment,_),T(c.$$.fragment,_),T(M),q=!0)},o(_){V(e.$$.fragment,_),V(i.$$.fragment,_),V(o.$$.fragment,_),V(c.$$.fragment,_),V(M),q=!1},d(_){_&&(d(l),d(s),d(f),d(g),d($),d(U)),oe(e,_),oe(i,_),oe(o,_),oe(c,_),M&&M.d(_),N&&N.d(_)}}}function Yl(n){let e,t,l=n[4]&&n[4]!=""&&gt(n);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,r){l&&l.m(i,r),E(i,e,r),t=!0},p(i,r){i[4]&&i[4]!=""?l?(l.p(i,r),r&16&&T(l,1)):(l=gt(i),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(ye(),V(l,1,1,()=>{l=null}),$e())},i(i){t||(T(l),t=!0)},o(i){V(l),t=!1},d(i){i&&d(e),l&&l.d(i)}}}function Zl(n){let e,t,l=n[0][n[1].index].metadata&&n[0][n[1].index].metadata.file&&n[0][n[1].index].metadata_show&&kt(n);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,r){l&&l.m(i,r),E(i,e,r),t=!0},p(i,r){i[0][i[1].index].metadata&&i[0][i[1].index].metadata.file&&i[0][i[1].index].metadata_show?l?(l.p(i,r),r&3&&T(l,1)):(l=kt(i),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(ye(),V(l,1,1,()=>{l=null}),$e())},i(i){t||(T(l),t=!0)},o(i){V(l),t=!1},d(i){i&&d(e),l&&l.d(i)}}}function Ql(n){let e,t,l,i;const r=[tn,en],s=[];function o(a,f){return a[0][a[1].index].metadata_prov_exists&&a[0][a[1].index].metadata_show?0:1}return e=o(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,f){s[e].m(a,f),E(a,l,f),i=!0},p(a,f){let c=e;e=o(a),e===c?s[e].p(a,f):(ye(),V(s[c],1,1,()=>{s[c]=null}),$e(),t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){V(t),i=!1},d(a){a&&d(l),s[e].d(a)}}}function Xl(n){let e,t,l,i;const r=[nn,ln],s=[];function o(a,f){return a[0][a[1].index].metadata_prov_stats?0:1}return e=o(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,f){s[e].m(a,f),E(a,l,f),i=!0},p(a,f){let c=e;e=o(a),e===c?s[e].p(a,f):(ye(),V(s[c],1,1,()=>{s[c]=null}),$e(),t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){V(t),i=!1},d(a){a&&d(l),s[e].d(a)}}}function xl(n){let e,t,l,i;const r=[an,rn],s=[];function o(a,f){return a[0][a[1].index].metadata_exists?0:1}return e=o(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,f){s[e].m(a,f),E(a,l,f),i=!0},p(a,f){let c=e;e=o(a),e===c?s[e].p(a,f):(ye(),V(s[c],1,1,()=>{s[c]=null}),$e(),t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){V(t),i=!1},d(a){a&&d(l),s[e].d(a)}}}function gt(n){let e=n[4],t,l,i=wt(n);return{c(){i.c(),t=de()},l(r){i.l(r),t=de()},m(r,s){i.m(r,s),E(r,t,s),l=!0},p(r,s){s&16&&We(e,e=r[4])?(ye(),V(i,1,1,ne),$e(),i=wt(r),i.c(),T(i,1),i.m(t.parentNode,t)):i.p(r,s)},i(r){l||(T(i),l=!0)},o(r){V(i),l=!1},d(r){r&&d(t),i.d(r)}}}function wt(n){let e,t,l;function i(s){n[8](s)}let r={foldertype:n[2],show_varinfos:!1};return n[4]!==void 0&&(r.selected_file=n[4]),e=new bl({props:r}),Me.push(()=>Pe(e,"selected_file",i)),{c(){_e(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,o){ue(e,s,o),l=!0},p(s,o){const a={};o&4&&(a.foldertype=s[2]),!t&&o&16&&(t=!0,a.selected_file=s[4],Se(()=>t=!1)),e.$set(a)},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),l=!1},d(s){oe(e,s)}}}function kt(n){let e,t;return e=new Cl({props:{file:n[0][n[1].index].metadata.file}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i&3&&(r.file=l[0][l[1].index].metadata.file),e.$set(r)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function en(n){let e;return{c(){e=re("currently no provenance data available")},l(t){e=ie(t,"currently no provenance data available")},m(t,l){E(t,e,l)},p:ne,i:ne,o:ne,d(t){t&&d(e)}}}function tn(n){let e,t,l,i,r,s="provenance",o,a,f,c;l=new Re({});let h=n[0][n[1].index].metadata_prov_stats&&yt(n);return{c(){e=b("button"),t=b("a"),_e(l.$$.fragment),i=j(),r=b("div"),r.textContent=s,a=j(),h&&h.c(),f=de(),this.h()},l(g){e=v(g,"BUTTON",{class:!0});var $=y(e);t=v($,"A",{href:!0,class:!0,title:!0});var U=y(t);ce(l.$$.fragment,U),i=O(U),r=v(U,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-19tiklx"&&(r.textContent=s),U.forEach(d),$.forEach(d),a=O(g),h&&h.l(g),f=de(),this.h()},h(){u(r,"class","ml-1 flex place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[0][n[1].index].filename+"&type="+n[2]+"&filetype=prov"),u(t,"class","flex"),u(t,"title","Download metadata file"),u(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(g,$){E(g,e,$),m(e,t),ue(l,t,null),m(t,i),m(t,r),E(g,a,$),h&&h.m(g,$),E(g,f,$),c=!0},p(g,$){(!c||$&7&&o!==(o=ke+"/climate/get_temp_file?name="+g[0][g[1].index].filename+"&type="+g[2]+"&filetype=prov"))&&u(t,"href",o),g[0][g[1].index].metadata_prov_stats?h?(h.p(g,$),$&3&&T(h,1)):(h=yt(g),h.c(),T(h,1),h.m(f.parentNode,f)):h&&(ye(),V(h,1,1,()=>{h=null}),$e())},i(g){c||(T(l.$$.fragment,g),T(h),c=!0)},o(g){V(l.$$.fragment,g),V(h),c=!1},d(g){g&&(d(e),d(a),d(f)),oe(l),h&&h.d(g)}}}function yt(n){let e,t,l,i;function r(a){n[6](a)}function s(a){n[7](a)}let o={};return n[0][n[1].index].metadata_prov!==void 0&&(o.metadata_prov=n[0][n[1].index].metadata_prov),n[0][n[1].index].metadata_prov_stats!==void 0&&(o.metadata_prov_stats=n[0][n[1].index].metadata_prov_stats),e=new Il({props:o}),Me.push(()=>Pe(e,"metadata_prov",r)),Me.push(()=>Pe(e,"metadata_prov_stats",s)),{c(){_e(e.$$.fragment)},l(a){ce(e.$$.fragment,a)},m(a,f){ue(e,a,f),i=!0},p(a,f){const c={};!t&&f&3&&(t=!0,c.metadata_prov=a[0][a[1].index].metadata_prov,Se(()=>t=!1)),!l&&f&3&&(l=!0,c.metadata_prov_stats=a[0][a[1].index].metadata_prov_stats,Se(()=>l=!1)),e.$set(c)},i(a){i||(T(e.$$.fragment,a),i=!0)},o(a){V(e.$$.fragment,a),i=!1},d(a){oe(e,a)}}}function ln(n){let e;return{c(){e=re("currently no related datasets available")},l(t){e=ie(t,"currently no related datasets available")},m(t,l){E(t,e,l)},p:ne,i:ne,o:ne,d(t){t&&d(e)}}}function nn(n){var q,P,D;let e,t,l="ℹ️ Available files based on this file",i,r,s,o,a,f="ℹ️ Available files used to create this file",c,h,g,$,U;return r=new dt({props:{data:(q=n[0][n[1].index].metadata_prov_stats)==null?void 0:q.base_for_entities,only_links:!0}}),h=new dt({props:{data:(P=n[0][n[1].index].metadata_prov_stats)==null?void 0:P.source_entities,only_links:!0}}),$=new dt({props:{data:(D=n[0][n[1].index].metadata_prov_stats)==null?void 0:D.result_entities,only_links:!0}}),{c(){e=b("div"),t=b("h2"),t.textContent=l,i=j(),_e(r.$$.fragment),s=j(),o=b("div"),a=b("h2"),a.textContent=f,c=j(),_e(h.$$.fragment),g=j(),_e($.$$.fragment),this.h()},l(I){e=v(I,"DIV",{class:!0,id:!0});var A=y(e);t=v(A,"H2",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-n9z7mk"&&(t.textContent=l),i=O(A),ce(r.$$.fragment,A),A.forEach(d),s=O(I),o=v(I,"DIV",{class:!0,id:!0});var B=y(o);a=v(B,"H2",{class:!0,"data-svelte-h":!0}),ge(a)!=="svelte-1bmg2za"&&(a.textContent=f),c=O(B),ce(h.$$.fragment,B),g=O(B),ce($.$$.fragment,B),B.forEach(d),this.h()},h(){u(t,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),u(e,"class","bg-box svelte-184ua4x"),u(e,"id","base_for_entities_"+n[5]),u(a,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),u(o,"class","bg-box svelte-184ua4x"),u(o,"id","base_for_entities_"+n[5])},m(I,A){E(I,e,A),m(e,t),m(e,i),ue(r,e,null),E(I,s,A),E(I,o,A),m(o,a),m(o,c),ue(h,o,null),m(o,g),ue($,o,null),U=!0},p(I,A){var x,M,N;const B={};A&3&&(B.data=(x=I[0][I[1].index].metadata_prov_stats)==null?void 0:x.base_for_entities),r.$set(B);const le={};A&3&&(le.data=(M=I[0][I[1].index].metadata_prov_stats)==null?void 0:M.source_entities),h.$set(le);const L={};A&3&&(L.data=(N=I[0][I[1].index].metadata_prov_stats)==null?void 0:N.result_entities),$.$set(L)},i(I){U||(T(r.$$.fragment,I),T(h.$$.fragment,I),T($.$$.fragment,I),U=!0)},o(I){V(r.$$.fragment,I),V(h.$$.fragment,I),V($.$$.fragment,I),U=!1},d(I){I&&(d(e),d(s),d(o)),oe(r),oe(h),oe($)}}}function rn(n){let e;return{c(){e=re("currently no metadata available")},l(t){e=ie(t,"currently no metadata available")},m(t,l){E(t,e,l)},p:ne,i:ne,o:ne,d(t){t&&d(e)}}}function an(n){let e,t,l,i,r,s="metadata",o,a,f,c;l=new Re({});let h=n[0][n[1].index].metadata&&n[0][n[1].index].metadata_show&&$t(n);return{c(){e=b("button"),t=b("a"),_e(l.$$.fragment),i=j(),r=b("div"),r.textContent=s,a=j(),h&&h.c(),f=de(),this.h()},l(g){e=v(g,"BUTTON",{class:!0});var $=y(e);t=v($,"A",{href:!0,class:!0,title:!0});var U=y(t);ce(l.$$.fragment,U),i=O(U),r=v(U,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-xp3lgr"&&(r.textContent=s),U.forEach(d),$.forEach(d),a=O(g),h&&h.l(g),f=de(),this.h()},h(){u(r,"class","ml-1 flex place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[0][n[1].index].filename+"&type="+n[2]+"&filetype=meta"),u(t,"class","flex"),u(t,"title","Download metadata file"),u(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(g,$){E(g,e,$),m(e,t),ue(l,t,null),m(t,i),m(t,r),E(g,a,$),h&&h.m(g,$),E(g,f,$),c=!0},p(g,$){(!c||$&7&&o!==(o=ke+"/climate/get_temp_file?name="+g[0][g[1].index].filename+"&type="+g[2]+"&filetype=meta"))&&u(t,"href",o),g[0][g[1].index].metadata&&g[0][g[1].index].metadata_show?h?(h.p(g,$),$&3&&T(h,1)):(h=$t(g),h.c(),T(h,1),h.m(f.parentNode,f)):h&&(ye(),V(h,1,1,()=>{h=null}),$e())},i(g){c||(T(l.$$.fragment,g),T(h),c=!0)},o(g){V(l.$$.fragment,g),V(h),c=!1},d(g){g&&(d(e),d(a),d(f)),oe(l),h&&h.d(g)}}}function $t(n){let e,t;return e=new Dl({props:{data:n[0][n[1].index].metadata}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i&3&&(r.data=l[0][l[1].index].metadata),e.$set(r)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function sn(n){let e,t,l,i;const r=[xl,Xl,Ql,Zl,Yl],s=[];function o(a,f){return a[3]===0?0:a[3]===1?1:a[3]===2?2:a[3]===3?3:a[3]===4?4:-1}return~(e=o(n))&&(t=s[e]=r[e](n)),{c(){t&&t.c(),l=de()},l(a){t&&t.l(a),l=de()},m(a,f){~e&&s[e].m(a,f),E(a,l,f),i=!0},p(a,f){let c=e;e=o(a),e===c?~e&&s[e].p(a,f):(t&&(ye(),V(s[c],1,1,()=>{s[c]=null}),$e()),~e?(t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l)):t=null)},i(a){i||(T(t),i=!0)},o(a){V(t),i=!1},d(a){a&&d(l),~e&&s[e].d(a)}}}function fn(n){let e,t,l;return t=new Tl({props:{$$slots:{panel:[sn],default:[Kl]},$$scope:{ctx:n}}}),{c(){e=b("div"),_e(t.$$.fragment),this.h()},l(i){e=v(i,"DIV",{class:!0});var r=y(e);ce(t.$$.fragment,r),r.forEach(d),this.h()},h(){u(e,"class","bg-surface-700")},m(i,r){E(i,e,r),ue(t,e,null),l=!0},p(i,[r]){const s={};r&16415&&(s.$$scope={dirty:r,ctx:i}),t.$set(s)},i(i){l||(T(t.$$.fragment,i),l=!0)},o(i){V(t.$$.fragment,i),l=!1},d(i){i&&d(e),oe(t)}}}function on(n,e,t){let l,{folder_data:i}=e,{file_obj:r}=e,{foldertype:s}=e,o=i[r.index].tabset,a=Math.random().toString(36).substring(2,15);function f(D){n.$$.not_equal(i[r.index].metadata_prov,D)&&(i[r.index].metadata_prov=D,t(0,i))}function c(D){n.$$.not_equal(i[r.index].metadata_prov_stats,D)&&(i[r.index].metadata_prov_stats=D,t(0,i))}function h(D){l=D,t(4,l),t(0,i),t(1,r)}function g(D){o=D,t(3,o)}function $(D){o=D,t(3,o)}function U(D){o=D,t(3,o)}function q(D){o=D,t(3,o)}function P(D){o=D,t(3,o)}return n.$$set=D=>{"folder_data"in D&&t(0,i=D.folder_data),"file_obj"in D&&t(1,r=D.file_obj),"foldertype"in D&&t(2,s=D.foldertype)},n.$$.update=()=>{n.$$.dirty&3&&t(4,l=i[r.index].filename)},[i,r,s,o,l,a,f,c,h,g,$,U,q,P]}class un extends Je{constructor(e){super(),Ke(this,e,on,fn,We,{folder_data:0,file_obj:1,foldertype:2})}}function Et(n,e,t){const l=n.slice();return l[86]=e[t][0],l[87]=e[t][1],l[89]=t,l}function Tt(n,e,t){const l=n.slice();return l[90]=e[t],l[91]=e,l[92]=t,l}function Ct(n,e,t){const l=n.slice();return l[93]=e[t],l}function Dt(n,e,t){const l=n.slice();return l[93]=e[t],l}function It(n,e,t){const l=n.slice();return l[93]=e[t],l}function Lt(n,e,t){const l=n.slice();return l[93]=e[t],l}function Nt(n,e,t){const l=n.slice();return l[93]=e[t],l}function Vt(n){let e,t,l="Force Update",i,r;return{c(){e=b("div"),t=b("button"),t.textContent=l,this.h()},l(s){e=v(s,"DIV",{class:!0});var o=y(e);t=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-c1ydu0"&&(t.textContent=l),o.forEach(d),this.h()},h(){u(t,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(e,"class","ml-2")},m(s,o){E(s,e,o),m(e,t),i||(r=fe(t,"click",n[37]),i=!0)},p:ne,d(s){s&&d(e),i=!1,r()}}}function Bt(n){let e,t,l,i,r=n[9].some(rl),s,o,a,f=n[10].some(il),c,h,g,$=n[11].some(nl),U,q,P,D=n[12].some(ll),I=Ne(n[8]),A=[];for(let k=0;k<I.length;k+=1)A[k]=Ut(Nt(n,I,k));let B=r&&At(),le=Ne(n[9]),L=[];for(let k=0;k<le.length;k+=1)L[k]=jt(Lt(n,le,k));let x=f&&Mt(n),M=Ne(n[10]),N=[];for(let k=0;k<M.length;k+=1)N[k]=Pt(It(n,M,k));let _=$&&Ft(n),C=Ne(n[11]),K=[];for(let k=0;k<C.length;k+=1)K[k]=Rt(Dt(n,C,k));let Z=n[14]!=="_"&&Ht(n),ee=D&&qt(n);return{c(){e=b("div"),t=b("div");for(let k=0;k<A.length;k+=1)A[k].c();l=j(),i=b("div"),B&&B.c(),s=j();for(let k=0;k<L.length;k+=1)L[k].c();o=j(),a=b("div"),x&&x.c(),c=j();for(let k=0;k<N.length;k+=1)N[k].c();h=j(),g=b("div"),_&&_.c(),U=j();for(let k=0;k<K.length;k+=1)K[k].c();q=j(),Z&&Z.c(),P=j(),ee&&ee.c(),this.h()},l(k){e=v(k,"DIV",{});var S=y(e);t=v(S,"DIV",{class:!0});var p=y(t);for(let Q=0;Q<A.length;Q+=1)A[Q].l(p);p.forEach(d),l=O(S),i=v(S,"DIV",{class:!0});var ae=y(i);B&&B.l(ae),s=O(ae);for(let Q=0;Q<L.length;Q+=1)L[Q].l(ae);ae.forEach(d),o=O(S),a=v(S,"DIV",{class:!0});var Y=y(a);x&&x.l(Y),c=O(Y);for(let Q=0;Q<N.length;Q+=1)N[Q].l(Y);Y.forEach(d),h=O(S),g=v(S,"DIV",{class:!0});var F=y(g);_&&_.l(F),U=O(F);for(let Q=0;Q<K.length;Q+=1)K[Q].l(F);F.forEach(d),q=O(S),Z&&Z.l(S),P=O(S),ee&&ee.l(S),S.forEach(d),this.h()},h(){u(t,"class","flow gap-2 items-center ml-2"),u(i,"class","flow gap-2 items-center ml-2"),u(a,"class","flow gap-2 items-center ml-2"),u(g,"class","flow gap-2 items-center ml-2")},m(k,S){E(k,e,S),m(e,t);for(let p=0;p<A.length;p+=1)A[p]&&A[p].m(t,null);m(e,l),m(e,i),B&&B.m(i,null),m(i,s);for(let p=0;p<L.length;p+=1)L[p]&&L[p].m(i,null);m(e,o),m(e,a),x&&x.m(a,null),m(a,c);for(let p=0;p<N.length;p+=1)N[p]&&N[p].m(a,null);m(e,h),m(e,g),_&&_.m(g,null),m(g,U);for(let p=0;p<K.length;p+=1)K[p]&&K[p].m(g,null);m(e,q),Z&&Z.m(e,null),m(e,P),ee&&ee.m(e,null)},p(k,S){if(S[0]&536871168){I=Ne(k[8]);let p;for(p=0;p<I.length;p+=1){const ae=Nt(k,I,p);A[p]?A[p].p(ae,S):(A[p]=Ut(ae),A[p].c(),A[p].m(t,null))}for(;p<A.length;p+=1)A[p].d(1);A.length=I.length}if(S[0]&512&&(r=k[9].some(rl)),r?B||(B=At(),B.c(),B.m(i,s)):B&&(B.d(1),B=null),S[0]&1073758720){le=Ne(k[9]);let p;for(p=0;p<le.length;p+=1){const ae=Lt(k,le,p);L[p]?L[p].p(ae,S):(L[p]=jt(ae),L[p].c(),L[p].m(i,null))}for(;p<L.length;p+=1)L[p].d(1);L.length=le.length}if(S[0]&1024&&(f=k[10].some(il)),f?x?x.p(k,S):(x=Mt(k),x.c(),x.m(a,c)):x&&(x.d(1),x=null),S[0]&1073759232){M=Ne(k[10]);let p;for(p=0;p<M.length;p+=1){const ae=It(k,M,p);N[p]?N[p].p(ae,S):(N[p]=Pt(ae),N[p].c(),N[p].m(a,null))}for(;p<N.length;p+=1)N[p].d(1);N.length=M.length}if(S[0]&2048&&($=k[11].some(nl)),$?_?_.p(k,S):(_=Ft(k),_.c(),_.m(g,U)):_&&(_.d(1),_=null),S[0]&1073760256){C=Ne(k[11]);let p;for(p=0;p<C.length;p+=1){const ae=Dt(k,C,p);K[p]?K[p].p(ae,S):(K[p]=Rt(ae),K[p].c(),K[p].m(g,null))}for(;p<K.length;p+=1)K[p].d(1);K.length=C.length}k[14]!=="_"?Z?Z.p(k,S):(Z=Ht(k),Z.c(),Z.m(e,P)):Z&&(Z.d(1),Z=null),S[0]&4096&&(D=k[12].some(ll)),D?ee?ee.p(k,S):(ee=qt(k),ee.c(),ee.m(e,null)):ee&&(ee.d(1),ee=null)},d(k){k&&d(e),xe(A,k),B&&B.d(),xe(L,k),x&&x.d(),xe(N,k),_&&_.d(),xe(K,k),Z&&Z.d(),ee&&ee.d()}}}function Ut(n){let e,t=tl(n[93])+"",l,i,r;return{c(){e=b("button"),l=re(t),this.h()},l(s){e=v(s,"BUTTON",{class:!0});var o=y(e);l=ie(o,t),o.forEach(d),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(s,o){E(s,e,o),m(e,l),i||(r=fe(e,"click",function(){vl(n[29](n[93]))&&n[29](n[93]).apply(this,arguments)}),i=!0)},p(s,o){n=s,o[0]&256&&t!==(t=tl(n[93])+"")&&Ve(l,t)},d(s){s&&d(e),i=!1,r()}}}function At(n){let e,t="⏳ Δ- ⟶⌛:";return{c(){e=b("span"),e.textContent=t,this.h()},l(l){e=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1e3ro3x"&&(e.textContent=t),this.h()},h(){u(e,"class","mr-3")},m(l,i){E(l,e,i)},d(l){l&&d(e)}}}function Ot(n){let e,t=n[93].time+"",l,i,r,s;function o(){return n[39](n[93])}return{c(){e=b("button"),l=re(t),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var f=y(e);l=ie(f,t),f.forEach(d),this.h()},h(){u(e,"class",i="w-[220px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,f){E(a,e,f),m(e,l),r||(s=fe(e,"click",o),r=!0)},p(a,f){n=a,f[0]&512&&t!==(t=n[93].time+"")&&Ve(l,t),f[0]&16896&&i!==(i="w-[220px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&d(e),r=!1,s()}}}function jt(n){let e,t=n[93].show=="true"&&Ot(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=Ot(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&d(e),t&&t.d(l)}}}function Mt(n){let e,t,l,i,r,s;return{c(){e=re(`⏳ 20y ⟶ ⌛:
					`),t=b("button"),l=re("all 20y"),this.h()},l(o){e=ie(o,`⏳ 20y ⟶ ⌛:
					`),t=v(o,"BUTTON",{class:!0});var a=y(t);l=ie(a,"all 20y"),a.forEach(d),this.h()},h(){u(t,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]==="20y"?"font-bold":""))},m(o,a){E(o,e,a),E(o,t,a),m(t,l),r||(s=fe(t,"click",n[40]),r=!0)},p(o,a){a[0]&16384&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(o[14]==="20y"?"font-bold":""))&&u(t,"class",i)},d(o){o&&(d(e),d(t)),r=!1,s()}}}function St(n){let e,t=n[93].time+"",l,i,r,s;function o(){return n[41](n[93])}return{c(){e=b("button"),l=re(t),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var f=y(e);l=ie(f,t),f.forEach(d),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,f){E(a,e,f),m(e,l),r||(s=fe(e,"click",o),r=!0)},p(a,f){n=a,f[0]&1024&&t!==(t=n[93].time+"")&&Ve(l,t),f[0]&17408&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&d(e),r=!1,s()}}}function Pt(n){let e,t=n[93].show=="true"&&St(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=St(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&d(e),t&&t.d(l)}}}function Ft(n){let e,t,l,i,r,s;return{c(){e=re(`⏳ 30y ⟶ ⌛:
					`),t=b("button"),l=re("all 30y"),this.h()},l(o){e=ie(o,`⏳ 30y ⟶ ⌛:
					`),t=v(o,"BUTTON",{class:!0});var a=y(t);l=ie(a,"all 30y"),a.forEach(d),this.h()},h(){u(t,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]==="30y"?"font-bold":""))},m(o,a){E(o,e,a),E(o,t,a),m(t,l),r||(s=fe(t,"click",n[42]),r=!0)},p(o,a){a[0]&16384&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(o[14]==="30y"?"font-bold":""))&&u(t,"class",i)},d(o){o&&(d(e),d(t)),r=!1,s()}}}function zt(n){let e,t=n[93].time+"",l,i,r,s;function o(){return n[43](n[93])}return{c(){e=b("button"),l=re(t),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var f=y(e);l=ie(f,t),f.forEach(d),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))},m(a,f){E(a,e,f),m(e,l),r||(s=fe(e,"click",o),r=!0)},p(a,f){n=a,f[0]&2048&&t!==(t=n[93].time+"")&&Ve(l,t),f[0]&18432&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&d(e),r=!1,s()}}}function Rt(n){let e,t=n[93].show=="true"&&zt(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=zt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&d(e),t&&t.d(l)}}}function Ht(n){let e,t="reset ⏳",l,i;return{c(){e=b("button"),e.textContent=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-krixl6"&&(e.textContent=t),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(r,s){E(r,e,s),l||(i=fe(e,"click",n[44]),l=!0)},p:ne,d(r){r&&d(e),l=!1,i()}}}function qt(n){let e,t,l,i=Ne(n[12]),r=[];for(let o=0;o<i.length;o+=1)r[o]=Wt(Ct(n,i,o));let s=n[15]!=="_"&&Jt(n);return{c(){e=b("div"),t=re(`Σ Sum / Avg:
					`);for(let o=0;o<r.length;o+=1)r[o].c();l=j(),s&&s.c(),this.h()},l(o){e=v(o,"DIV",{class:!0});var a=y(e);t=ie(a,`Σ Sum / Avg:
					`);for(let f=0;f<r.length;f+=1)r[f].l(a);l=O(a),s&&s.l(a),a.forEach(d),this.h()},h(){u(e,"class","flow gap-2 items-center ml-2")},m(o,a){E(o,e,a),m(e,t);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);m(e,l),s&&s.m(e,null)},p(o,a){if(a[0]&36864|a[1]&1){i=Ne(o[12]);let f;for(f=0;f<i.length;f+=1){const c=Ct(o,i,f);r[f]?r[f].p(c,a):(r[f]=Wt(c),r[f].c(),r[f].m(e,l))}for(;f<r.length;f+=1)r[f].d(1);r.length=i.length}o[15]!=="_"?s?s.p(o,a):(s=Jt(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&d(e),xe(r,o),s&&s.d()}}}function Gt(n){let e,t=n[93].time+"",l,i,r,s;function o(){return n[45](n[93])}return{c(){e=b("button"),l=re(t),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var f=y(e);l=ie(f,t),f.forEach(d),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[93].time?"font-bold":""))},m(a,f){E(a,e,f),m(e,l),r||(s=fe(e,"click",o),r=!0)},p(a,f){n=a,f[0]&4096&&t!==(t=n[93].time+"")&&Ve(l,t),f[0]&36864&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[93].time?"font-bold":""))&&u(e,"class",i)},d(a){a&&d(e),r=!1,s()}}}function Wt(n){let e,t=n[93].show=="true"&&Gt(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),E(l,e,i)},p(l,i){l[93].show=="true"?t?t.p(l,i):(t=Gt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&d(e),t&&t.d(l)}}}function Jt(n){let e,t="reset Σ",l,i;return{c(){e=b("button"),e.textContent=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1c6s5cf"&&(e.textContent=t),this.h()},h(){u(e,"class","w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(r,s){E(r,e,s),l||(i=fe(e,"click",n[46]),l=!0)},p:ne,d(r){r&&d(e),l=!1,i()}}}function cn(n){let e,t,l;return t=new $l({}),{c(){e=b("div"),_e(t.$$.fragment),this.h()},l(i){e=v(i,"DIV",{class:!0});var r=y(e);ce(t.$$.fragment,r),r.forEach(d),this.h()},h(){u(e,"class","flex-center")},m(i,r){E(i,e,r),ue(t,e,null),l=!0},p:ne,i(i){l||(T(t.$$.fragment,i),l=!0)},o(i){V(t.$$.fragment,i),l=!1},d(i){i&&d(e),oe(t)}}}function _n(n){let e,t,l,i,r,s=n[3].filter(al).length+"",o,a,f,c,h,g,$,U,q,P,D,I,A,B,le,L,x,M,N,_,C,K,Z,ee,k,S,p,ae,Y,F,Q=Ne(Object.entries(n[2])),W=[];for(let H=0;H<Q.length;H+=1)W[H]=xt(Et(n,Q,H));const De=H=>V(W[H],1,1,()=>{W[H]=null});return ae=ml(n[63][0]),{c(){e=b("div");for(let H=0;H<W.length;H+=1)W[H].c();t=j(),l=b("div"),i=b("button"),r=re("Generate Wget link for download ("),o=re(s),a=re(" selected)"),f=j(),c=b("div"),h=b("div"),g=b("label"),$=b("input"),U=re(`
						Filetype .nc`),q=j(),P=b("label"),D=b("input"),I=re(`
						Filetype .nc (clipped)`),A=j(),B=b("div"),le=b("label"),L=b("input"),x=re(`
						Filetype .dat`),M=j(),N=b("label"),_=b("input"),C=re(`
						Filetype .dat (clipped)`),K=j(),Z=b("div"),ee=b("label"),k=b("input"),S=re(`
						Filetype .tiff`),this.h()},l(H){e=v(H,"DIV",{class:!0});var R=y(e);for(let Te=0;Te<W.length;Te+=1)W[Te].l(R);R.forEach(d),t=O(H),l=v(H,"DIV",{class:!0});var X=y(l);i=v(X,"BUTTON",{type:!0,class:!0});var Ee=y(i);r=ie(Ee,"Generate Wget link for download ("),o=ie(Ee,s),a=ie(Ee," selected)"),Ee.forEach(d),f=O(X),c=v(X,"DIV",{class:!0});var be=y(c);h=v(be,"DIV",{});var Ue=y(h);g=v(Ue,"LABEL",{});var me=y(g);$=v(me,"INPUT",{type:!0,name:!0}),U=ie(me,`
						Filetype .nc`),me.forEach(d),q=O(Ue),P=v(Ue,"LABEL",{});var Fe=y(P);D=v(Fe,"INPUT",{type:!0,name:!0}),I=ie(Fe,`
						Filetype .nc (clipped)`),Fe.forEach(d),Ue.forEach(d),A=O(be),B=v(be,"DIV",{});var he=y(B);le=v(he,"LABEL",{});var Be=y(le);L=v(Be,"INPUT",{type:!0,name:!0}),x=ie(Be,`
						Filetype .dat`),Be.forEach(d),M=O(he),N=v(he,"LABEL",{});var te=y(N);_=v(te,"INPUT",{type:!0,name:!0}),C=ie(te,`
						Filetype .dat (clipped)`),te.forEach(d),he.forEach(d),K=O(be),Z=v(be,"DIV",{});var z=y(Z);ee=v(z,"LABEL",{});var Ie=y(ee);k=v(Ie,"INPUT",{type:!0,name:!0}),S=ie(Ie,`
						Filetype .tiff`),Ie.forEach(d),z.forEach(d),be.forEach(d),X.forEach(d),this.h()},h(){u(e,"class","p-2"),u(i,"type","button"),u(i,"class","btn bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u($,"type","radio"),u($,"name","filetype"),$.__value="nc",Ge($,$.__value),u(D,"type","radio"),u(D,"name","filetype"),D.__value="nc_clipped",Ge(D,D.__value),u(L,"type","radio"),u(L,"name","filetype"),L.__value="dat",Ge(L,L.__value),u(_,"type","radio"),u(_,"name","filetype"),_.__value="dat_clipped",Ge(_,_.__value),u(k,"type","radio"),u(k,"name","filetype"),k.__value="tif",Ge(k,k.__value),u(c,"class","filetype-selector flex"),u(l,"class","flex gap-x-1 pl-2"),ae.p($,D,L,_,k)},m(H,R){E(H,e,R);for(let X=0;X<W.length;X+=1)W[X]&&W[X].m(e,null);E(H,t,R),E(H,l,R),m(l,i),m(i,r),m(i,o),m(i,a),m(l,f),m(l,c),m(c,h),m(h,g),m(g,$),$.checked=$.__value===n[16],m(g,U),m(h,q),m(h,P),m(P,D),D.checked=D.__value===n[16],m(P,I),m(c,A),m(c,B),m(B,le),m(le,L),L.checked=L.__value===n[16],m(le,x),m(B,M),m(B,N),m(N,_),_.checked=_.__value===n[16],m(N,C),m(c,K),m(c,Z),m(Z,ee),m(ee,k),k.checked=k.__value===n[16],m(ee,S),p=!0,Y||(F=[fe(i,"click",pl(n[24])),fe($,"change",n[62]),fe($,"change",n[32]),fe(D,"change",n[64]),fe(D,"change",n[32]),fe(L,"change",n[65]),fe(L,"change",n[32]),fe(_,"change",n[66]),fe(_,"change",n[32]),fe(k,"change",n[67]),fe(k,"change",n[32])],Y=!0)},p(H,R){if(R[0]&369942622){Q=Ne(Object.entries(H[2]));let X;for(X=0;X<Q.length;X+=1){const Ee=Et(H,Q,X);W[X]?(W[X].p(Ee,R),T(W[X],1)):(W[X]=xt(Ee),W[X].c(),T(W[X],1),W[X].m(e,null))}for(ye(),X=Q.length;X<W.length;X+=1)De(X);$e()}(!p||R[0]&8)&&s!==(s=H[3].filter(al).length+"")&&Ve(o,s),R[0]&65536&&($.checked=$.__value===H[16]),R[0]&65536&&(D.checked=D.__value===H[16]),R[0]&65536&&(L.checked=L.__value===H[16]),R[0]&65536&&(_.checked=_.__value===H[16]),R[0]&65536&&(k.checked=k.__value===H[16])},i(H){if(!p){for(let R=0;R<Q.length;R+=1)T(W[R]);p=!0}},o(H){W=W.filter(Boolean);for(let R=0;R<W.length;R+=1)V(W[R]);p=!1},d(H){H&&(d(e),d(t),d(l)),xe(W,H),ae.r(),Y=!1,mt(F)}}}function dn(n){let e,t;return e=new fl({props:{h:"24px"}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function hn(n){let e,t;return e=new sl({props:{h:"28px",w:"26px"}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function mn(n){let e,t="Hide",l,i;function r(){return n[55](n[90])}return{c(){e=b("button"),e.textContent=t,this.h()},l(s){e=v(s,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ge(e)!=="svelte-nqhp4m"&&(e.textContent=t),this.h()},h(){u(e,"class","ml-5 max-h-[33px] p-1 flex items-center justify-center variant-filled-surface hover:bg-tertiary-900 rounded-md"),u(e,"title","Show metadata and provenance information")},m(s,o){E(s,e,o),l||(i=fe(e,"click",r),l=!0)},p(s,o){n=s},d(s){s&&d(e),l=!1,i()}}}function pn(n){let e,t="Show",l,i;function r(){return n[54](n[90])}return{c(){e=b("button"),e.textContent=t,this.h()},l(s){e=v(s,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1od4l2q"&&(e.textContent=t),this.h()},h(){u(e,"class","ml-5 max-h-[33px] p-1 flex items-center justify-center variant-filled-surface hover:bg-tertiary-900 rounded-md"),u(e,"title","Show metadata and provenance information")},m(s,o){E(s,e,o),l||(i=fe(e,"click",r),l=!0)},p(s,o){n=s},d(s){s&&d(e),l=!1,i()}}}function vn(n){let e,t,l,i,r,s=n[1][n[90].index].filesuffix+"",o,a,f;return l=new Re({}),{c(){e=b("button"),t=b("a"),_e(l.$$.fragment),i=j(),r=b("div"),o=re(s),this.h()},l(c){e=v(c,"BUTTON",{class:!0});var h=y(e);t=v(h,"A",{href:!0,class:!0});var g=y(t);ce(l.$$.fragment,g),i=O(g),r=v(g,"DIV",{class:!0});var $=y(r);o=ie($,s),$.forEach(d),g.forEach(d),h.forEach(d),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",a=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat"),u(t,"class","flex"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(c,h){E(c,e,h),m(e,t),ue(l,t,null),m(t,i),m(t,r),m(r,o),f=!0},p(c,h){(!f||h[0]&6)&&s!==(s=c[1][c[90].index].filesuffix+"")&&Ve(o,s),(!f||h[0]&70&&a!==(a=ke+"/climate/get_temp_file?name="+c[1][c[90].index].filename+"&type="+c[6]+"&filetype=dat"))&&u(t,"href",a)},i(c){f||(T(l.$$.fragment,c),f=!0)},o(c){V(l.$$.fragment,c),f=!1},d(c){c&&d(e),oe(l)}}}function bn(n){let e,t,l,i,r,s=".nc",o,a,f,c,h,g,$,U,q,P,D;l=new Re({});let I=n[1][n[90].index].nc_clipped_exists&&Kt(n);const A=[kn,wn,gn],B=[];function le(_,C){return _[1][_[90].index].dat_exists?0:_[1][_[90].index].in_limit_conversion?1:2}c=le(n),h=B[c]=A[c](n);let L=n[1][n[90].index].dat_clipped_exists&&Yt(n);const x=[En,$n,yn],M=[];function N(_,C){return _[1][_[90].index].tif_convertable&&!_[1][_[90].index].tif_exists?0:_[1][_[90].index].tif_exists?1:2}return U=N(n),q=M[U]=x[U](n),{c(){e=b("button"),t=b("a"),_e(l.$$.fragment),i=j(),r=b("div"),r.textContent=s,a=j(),I&&I.c(),f=j(),h.c(),g=j(),L&&L.c(),$=j(),q.c(),P=de(),this.h()},l(_){e=v(_,"BUTTON",{class:!0});var C=y(e);t=v(C,"A",{href:!0,class:!0,title:!0});var K=y(t);ce(l.$$.fragment,K),i=O(K),r=v(K,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-1g3y8ic"&&(r.textContent=s),K.forEach(d),C.forEach(d),a=O(_),I&&I.l(_),f=O(_),h.l(_),g=O(_),L&&L.l(_),$=O(_),q.l(_),P=de(),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=nc"),u(t,"class","flex"),u(t,"title","Download .nc file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center variant-filled-primary hover:bg-tertiary-900 justify-center rounded-md")},m(_,C){E(_,e,C),m(e,t),ue(l,t,null),m(t,i),m(t,r),E(_,a,C),I&&I.m(_,C),E(_,f,C),B[c].m(_,C),E(_,g,C),L&&L.m(_,C),E(_,$,C),M[U].m(_,C),E(_,P,C),D=!0},p(_,C){(!D||C[0]&70&&o!==(o=ke+"/climate/get_temp_file?name="+_[1][_[90].index].filename+"&type="+_[6]+"&filetype=nc"))&&u(t,"href",o),_[1][_[90].index].nc_clipped_exists?I?(I.p(_,C),C[0]&6&&T(I,1)):(I=Kt(_),I.c(),T(I,1),I.m(f.parentNode,f)):I&&(ye(),V(I,1,1,()=>{I=null}),$e());let K=c;c=le(_),c===K?B[c].p(_,C):(ye(),V(B[K],1,1,()=>{B[K]=null}),$e(),h=B[c],h?h.p(_,C):(h=B[c]=A[c](_),h.c()),T(h,1),h.m(g.parentNode,g)),_[1][_[90].index].dat_clipped_exists?L?(L.p(_,C),C[0]&6&&T(L,1)):(L=Yt(_),L.c(),T(L,1),L.m($.parentNode,$)):L&&(ye(),V(L,1,1,()=>{L=null}),$e());let Z=U;U=N(_),U===Z?M[U].p(_,C):(ye(),V(M[Z],1,1,()=>{M[Z]=null}),$e(),q=M[U],q?q.p(_,C):(q=M[U]=x[U](_),q.c()),T(q,1),q.m(P.parentNode,P))},i(_){D||(T(l.$$.fragment,_),T(I),T(h),T(L),T(q),D=!0)},o(_){V(l.$$.fragment,_),V(I),V(h),V(L),V(q),D=!1},d(_){_&&(d(e),d(a),d(f),d(g),d($),d(P)),oe(l),I&&I.d(_),B[c].d(_),L&&L.d(_),M[U].d(_)}}}function Kt(n){let e,t,l,i,r,s=".nc(c)",o,a;return l=new Re({}),{c(){e=b("button"),t=b("a"),_e(l.$$.fragment),i=j(),r=b("div"),r.textContent=s,this.h()},l(f){e=v(f,"BUTTON",{class:!0});var c=y(e);t=v(c,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=O(h),r=v(h,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-1jbdvqs"&&(r.textContent=s),h.forEach(d),c.forEach(d),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=nc_clipped"),u(t,"class","flex"),u(t,"title","Download clipped .nc file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){E(f,e,c),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(f,c){(!a||c[0]&70&&o!==(o=ke+"/climate/get_temp_file?name="+f[1][f[90].index].filename+"&type="+f[6]+"&filetype=nc_clipped"))&&u(t,"href",o)},i(f){a||(T(l.$$.fragment,f),a=!0)},o(f){V(l.$$.fragment,f),a=!1},d(f){f&&d(e),oe(l)}}}function gn(n){let e,t="";return{c(){e=b("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-qcdn79"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){E(l,e,i)},p:ne,i:ne,o:ne,d(l){l&&d(e)}}}function wn(n){let e,t,l,i,r=".dat",s,o,a;t=new Re({});function f(){return n[56](n[90])}return{c(){e=b("button"),_e(t.$$.fragment),l=j(),i=b("div"),i.textContent=r,this.h()},l(c){e=v(c,"BUTTON",{class:!0,title:!0});var h=y(e);ce(t.$$.fragment,h),l=O(h),i=v(h,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-1uzok2n"&&(i.textContent=r),h.forEach(d),this.h()},h(){u(i,"class","ml-1 flex place-items-center justify-items-center"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md"),u(e,"title","Generate .dat file for download")},m(c,h){E(c,e,h),ue(t,e,null),m(e,l),m(e,i),s=!0,o||(a=fe(e,"click",f),o=!0)},p(c,h){n=c},i(c){s||(T(t.$$.fragment,c),s=!0)},o(c){V(t.$$.fragment,c),s=!1},d(c){c&&d(e),oe(t),o=!1,a()}}}function kn(n){let e,t,l,i,r,s=".dat",o,a;return l=new Re({}),{c(){e=b("button"),t=b("a"),_e(l.$$.fragment),i=j(),r=b("div"),r.textContent=s,this.h()},l(f){e=v(f,"BUTTON",{class:!0});var c=y(e);t=v(c,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=O(h),r=v(h,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-xhf5go"&&(r.textContent=s),h.forEach(d),c.forEach(d),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat"),u(t,"class","flex"),u(t,"title","Download .dat file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){E(f,e,c),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(f,c){(!a||c[0]&70&&o!==(o=ke+"/climate/get_temp_file?name="+f[1][f[90].index].filename+"&type="+f[6]+"&filetype=dat"))&&u(t,"href",o)},i(f){a||(T(l.$$.fragment,f),a=!0)},o(f){V(l.$$.fragment,f),a=!1},d(f){f&&d(e),oe(l)}}}function Yt(n){let e,t,l,i,r,s=".dat(c)",o,a;return l=new Re({}),{c(){e=b("button"),t=b("a"),_e(l.$$.fragment),i=j(),r=b("div"),r.textContent=s,this.h()},l(f){e=v(f,"BUTTON",{class:!0});var c=y(e);t=v(c,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=O(h),r=v(h,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-484fei"&&(r.textContent=s),h.forEach(d),c.forEach(d),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=dat_clipped"),u(t,"class","flex"),u(t,"title","Download clipped .dat file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){E(f,e,c),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(f,c){(!a||c[0]&70&&o!==(o=ke+"/climate/get_temp_file?name="+f[1][f[90].index].filename+"&type="+f[6]+"&filetype=dat_clipped"))&&u(t,"href",o)},i(f){a||(T(l.$$.fragment,f),a=!0)},o(f){V(l.$$.fragment,f),a=!1},d(f){f&&d(e),oe(l)}}}function yn(n){let e,t="";return{c(){e=b("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-qcdn79"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){E(l,e,i)},p:ne,i:ne,o:ne,d(l){l&&d(e)}}}function $n(n){let e,t,l,i,r,s=".tif",o,a;return l=new Re({}),{c(){e=b("button"),t=b("a"),_e(l.$$.fragment),i=j(),r=b("div"),r.textContent=s,this.h()},l(f){e=v(f,"BUTTON",{class:!0});var c=y(e);t=v(c,"A",{href:!0,class:!0,title:!0});var h=y(t);ce(l.$$.fragment,h),i=O(h),r=v(h,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-1jouijs"&&(r.textContent=s),h.forEach(d),c.forEach(d),this.h()},h(){u(r,"class","ml-1 text-white flex place-items-center justify-center"),u(t,"href",o=ke+"/climate/get_temp_file?name="+n[1][n[90].index].filename+"&type="+n[6]+"&filetype=tif"),u(t,"class","flex"),u(t,"title","Download TIFF file"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){E(f,e,c),m(e,t),ue(l,t,null),m(t,i),m(t,r),a=!0},p(f,c){(!a||c[0]&70&&o!==(o=ke+"/climate/get_temp_file?name="+f[1][f[90].index].filename+"&type="+f[6]+"&filetype=tif"))&&u(t,"href",o)},i(f){a||(T(l.$$.fragment,f),a=!0)},o(f){V(l.$$.fragment,f),a=!1},d(f){f&&d(e),oe(l)}}}function En(n){let e,t,l,i,r=".tif",s,o,a;t=new Re({});function f(){return n[57](n[90])}return{c(){e=b("button"),_e(t.$$.fragment),l=j(),i=b("div"),i.textContent=r,this.h()},l(c){e=v(c,"BUTTON",{class:!0,title:!0});var h=y(e);ce(t.$$.fragment,h),l=O(h),i=v(h,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-17agyo6"&&(i.textContent=r),h.forEach(d),this.h()},h(){u(i,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md"),u(e,"title","Generate TIFF file for download (might fail)")},m(c,h){E(c,e,h),ue(t,e,null),m(e,l),m(e,i),s=!0,o||(a=fe(e,"click",f),o=!0)},p(c,h){n=c},i(c){s||(T(t.$$.fragment,c),s=!0)},o(c){V(t.$$.fragment,c),s=!1},d(c){c&&d(e),oe(t),o=!1,a()}}}function Zt(n){let e,t,l,i;const r=[Cn,Tn],s=[];function o(a,f){return a[1][a[90].index].tif_convertable?0:1}return e=o(n),t=s[e]=r[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,f){s[e].m(a,f),E(a,l,f),i=!0},p(a,f){let c=e;e=o(a),e===c?s[e].p(a,f):(ye(),V(s[c],1,1,()=>{s[c]=null}),$e(),t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),T(t,1),t.m(l.parentNode,l))},i(a){i||(T(t),i=!0)},o(a){V(t),i=!1},d(a){a&&d(l),s[e].d(a)}}}function Tn(n){let e,t="";return{c(){e=b("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-rfwxo5"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){E(l,e,i)},p:ne,i:ne,o:ne,d(l){l&&d(e)}}}function Cn(n){let e,t,l,i,r="View",s,o,a;t=new Al({});function f(){return n[58](n[90])}return{c(){e=b("button"),_e(t.$$.fragment),l=j(),i=b("div"),i.textContent=r,this.h()},l(c){e=v(c,"BUTTON",{class:!0});var h=y(e);ce(t.$$.fragment,h),l=O(h),i=v(h,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-4n39fu"&&(i.textContent=r),h.forEach(d),this.h()},h(){u(i,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-primary hover:bg-primary-900 rounded-md")},m(c,h){E(c,e,h),ue(t,e,null),m(e,l),m(e,i),s=!0,o||(a=fe(e,"click",f),o=!0)},p(c,h){n=c},i(c){s||(T(t.$$.fragment,c),s=!0)},o(c){V(t.$$.fragment,c),s=!1},d(c){c&&d(e),oe(t),o=!1,a()}}}function Qt(n){let e,t;return e=new un({props:{folder_data:n[1],file_obj:n[90],foldertype:n[6]}}),{c(){_e(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i[0]&2&&(r.folder_data=l[1]),i[0]&4&&(r.file_obj=l[90]),i[0]&64&&(r.foldertype=l[6]),e.$set(r)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Xt(n){let e,t,l,i,r,s,o,a=n[1][n[90].index].filename.replace(n[86],"").replace(/^_+/,"")+"",f,c,h,g,$,U,q,P=n[1][n[90].index].filesize+"",D,I,A,B=n[1][n[90].index].creation_date+"",le,L,x,M,N,_,C,K,Z,ee,k,S,p,ae,Y,F,Q,W;function De(){n[53].call(i,n[90])}function H(te,z){return te[1][te[90].index].metadata_show?mn:pn}let R=H(n),X=R(n);const Ee=[bn,vn],be=[];function Ue(te,z){return te[1][te[90].index].filesuffix==".nc"?0:1}N=Ue(n),_=be[N]=Ee[N](n);let me=n[1][n[90].index].filesuffix==".nc"&&Zt(n);function Fe(...te){return n[59](n[90],...te)}let he=n[1][n[90].index].metadata&&n[1][n[90].index].metadata_show&&Qt(n);function Be(...te){return n[60](n[90],...te)}return{c(){e=b("tr"),t=b("td"),l=b("label"),i=b("input"),o=re(`
												  ... `),f=re(a),g=j(),$=b("td"),X.c(),U=j(),q=b("td"),D=re(P),I=j(),A=b("td"),le=re(B),L=j(),x=b("td"),M=b("div"),_.c(),C=j(),K=b("td"),me&&me.c(),k=j(),S=b("tr"),p=b("td"),he&&he.c(),ae=j(),this.h()},l(te){e=v(te,"TR",{class:!0,style:!0});var z=y(e);t=v(z,"TD",{class:!0});var Ie=y(t);l=v(Ie,"LABEL",{for:!0,title:!0});var Te=y(l);i=v(Te,"INPUT",{type:!0,id:!0}),o=ie(Te,`
												  ... `),f=ie(Te,a),Te.forEach(d),Ie.forEach(d),g=O(z),$=v(z,"TD",{});var Ye=y($);X.l(Ye),Ye.forEach(d),U=O(z),q=v(z,"TD",{});var Ze=y(q);D=ie(Ze,P),Ze.forEach(d),I=O(z),A=v(z,"TD",{});var He=y(A);le=ie(He,B),He.forEach(d),L=O(z),x=v(z,"TD",{class:!0});var Ce=y(x);M=v(Ce,"DIV",{class:!0});var J=y(M);_.l(J),J.forEach(d),Ce.forEach(d),C=O(z),K=v(z,"TD",{class:!0});var se=y(K);me&&me.l(se),se.forEach(d),z.forEach(d),k=O(te),S=v(te,"TR",{class:!0});var Le=y(S);p=v(Le,"TD",{colspan:!0,class:!0});var je=y(p);he&&he.l(je),je.forEach(d),ae=O(Le),Le.forEach(d),this.h()},h(){u(i,"type","checkbox"),i.__value=r=n[90].index,Ge(i,i.__value),u(i,"id",s="checkbox_"+n[90].index),u(l,"for",c="checkbox_"+n[90].index),u(l,"title",h="Select for download: "+n[1][n[90].index].filename),u(t,"class","col-span-7 w-full break-all pl-1"),u(M,"class","flex"),u(x,"class","min-w-[122px]"),u(K,"class","min-w-[86px] max-w-[86px]"),u(e,"class",Z="hover:bg-slate-400 "+([n[13].toLowerCase(),n[14],n[15]].every(Fe)?"visible":"hidden")),u(e,"style",ee=n[4]&&!n[1][n[90].index].in_limit_conversion&&n[3][n[90].index]?"background: #000000":""),u(p,"colspan","7"),u(p,"class","p-2"),u(S,"class",Y=[n[13].toLowerCase(),n[14],n[15]].every(Be)?"visible":"hidden")},m(te,z){E(te,e,z),m(e,t),m(t,l),m(l,i),i.checked=n[3][n[90].index],m(l,o),m(l,f),m(e,g),m(e,$),X.m($,null),m(e,U),m(e,q),m(q,D),m(e,I),m(e,A),m(A,le),m(e,L),m(e,x),m(x,M),be[N].m(M,null),m(e,C),m(e,K),me&&me.m(K,null),E(te,k,z),E(te,S,z),m(S,p),he&&he.m(p,null),m(S,ae),F=!0,Q||(W=[fe(i,"change",De),fe(i,"change",n[19])],Q=!0)},p(te,z){n=te,(!F||z[0]&4&&r!==(r=n[90].index))&&(i.__value=r,Ge(i,i.__value)),(!F||z[0]&4&&s!==(s="checkbox_"+n[90].index))&&u(i,"id",s),z[0]&12&&(i.checked=n[3][n[90].index]),(!F||z[0]&6)&&a!==(a=n[1][n[90].index].filename.replace(n[86],"").replace(/^_+/,"")+"")&&Ve(f,a),(!F||z[0]&4&&c!==(c="checkbox_"+n[90].index))&&u(l,"for",c),(!F||z[0]&6&&h!==(h="Select for download: "+n[1][n[90].index].filename))&&u(l,"title",h),R===(R=H(n))&&X?X.p(n,z):(X.d(1),X=R(n),X&&(X.c(),X.m($,null))),(!F||z[0]&6)&&P!==(P=n[1][n[90].index].filesize+"")&&Ve(D,P),(!F||z[0]&6)&&B!==(B=n[1][n[90].index].creation_date+"")&&Ve(le,B);let Ie=N;N=Ue(n),N===Ie?be[N].p(n,z):(ye(),V(be[Ie],1,1,()=>{be[Ie]=null}),$e(),_=be[N],_?_.p(n,z):(_=be[N]=Ee[N](n),_.c()),T(_,1),_.m(M,null)),n[1][n[90].index].filesuffix==".nc"?me?(me.p(n,z),z[0]&6&&T(me,1)):(me=Zt(n),me.c(),T(me,1),me.m(K,null)):me&&(ye(),V(me,1,1,()=>{me=null}),$e()),(!F||z[0]&57350&&Z!==(Z="hover:bg-slate-400 "+([n[13].toLowerCase(),n[14],n[15]].every(Fe)?"visible":"hidden")))&&u(e,"class",Z),(!F||z[0]&30&&ee!==(ee=n[4]&&!n[1][n[90].index].in_limit_conversion&&n[3][n[90].index]?"background: #000000":""))&&u(e,"style",ee),n[1][n[90].index].metadata&&n[1][n[90].index].metadata_show?he?(he.p(n,z),z[0]&6&&T(he,1)):(he=Qt(n),he.c(),T(he,1),he.m(p,null)):he&&(ye(),V(he,1,1,()=>{he=null}),$e()),(!F||z[0]&57350&&Y!==(Y=[n[13].toLowerCase(),n[14],n[15]].every(Be)?"visible":"hidden"))&&u(S,"class",Y)},i(te){F||(T(_),T(me),T(he),F=!0)},o(te){V(_),V(me),V(he),F=!1},d(te){te&&(d(e),d(k),d(S)),X.d(),be[N].d(),me&&me.d(),he&&he.d(),Q=!1,mt(W)}}}function xt(n){let e,t,l,i,r,s,o,a,f=n[86]+"",c,h,g=n[87].files.filter(n[51]).length+"",$,U,q,P,D,I,A='<tr><th class="text-left">Filename</th> <th class="text-left min-w-[80px] max-w-[80px]">Metadata</th> <th class="text-left min-w-[80px] max-w-[80px]">Filesize</th> <th class="text-left min-w-[140px] max-w-[140px]">Last modified</th> <th class="text-left min-w-[122px] max-w-[122px]">Download Link</th> <th class="text-left min-w-[86px] max-w-[86px]">Visualize</th></tr>',B,le,L,x,M,N,_,C;const K=[hn,dn],Z=[];function ee(Y,F){return Y[87].toggled?0:1}r=ee(n),s=Z[r]=K[r](n);function k(){return n[52](n[86])}let S=Ne(n[87].files),p=[];for(let Y=0;Y<S.length;Y+=1)p[Y]=Xt(Tt(n,S,Y));const ae=Y=>V(p[Y],1,1,()=>{p[Y]=null});return{c(){e=b("div"),t=b("div"),l=b("button"),i=b("div"),s.c(),o=j(),a=b("h2"),c=re(f),h=re(" ("),$=re(g),U=re(")"),q=j(),P=b("div"),D=b("table"),I=b("thead"),I.innerHTML=A,B=j(),le=b("tbody");for(let Y=0;Y<p.length;Y+=1)p[Y].c();x=j(),this.h()},l(Y){e=v(Y,"DIV",{class:!0});var F=y(e);t=v(F,"DIV",{class:!0});var Q=y(t);l=v(Q,"BUTTON",{class:!0});var W=y(l);i=v(W,"DIV",{class:!0});var De=y(i);s.l(De),De.forEach(d),o=O(W),a=v(W,"H2",{class:!0});var H=y(a);c=ie(H,f),h=ie(H," ("),$=ie(H,g),U=ie(H,")"),H.forEach(d),W.forEach(d),Q.forEach(d),q=O(F),P=v(F,"DIV",{class:!0});var R=y(P);D=v(R,"TABLE",{class:!0});var X=y(D);I=v(X,"THEAD",{"data-svelte-h":!0}),ge(I)!=="svelte-6vbf8e"&&(I.innerHTML=A),B=O(X),le=v(X,"TBODY",{});var Ee=y(le);for(let be=0;be<p.length;be+=1)p[be].l(Ee);Ee.forEach(d),X.forEach(d),R.forEach(d),x=O(F),F.forEach(d),this.h()},h(){u(i,"class","flex-center w-[18px] h-[28px]"),u(a,"class","text-xl ml-2"),u(l,"class","w-full flex items-left"),u(t,"class","w-full h-[36px] flex items-center rounded-md pl-3 "+(n[89]%2==0?"bg-emerald-700":"bg-emerald-900")+" mb-1"),u(D,"class","table-fixed mb-1"),u(P,"class",L=n[87].toggled?"visible":"hidden"),u(e,"class",M=n[87].files.filter(n[61]).length>0?"visible":"hidden")},m(Y,F){E(Y,e,F),m(e,t),m(t,l),m(l,i),Z[r].m(i,null),m(l,o),m(l,a),m(a,c),m(a,h),m(a,$),m(a,U),m(e,q),m(e,P),m(P,D),m(D,I),m(D,B),m(D,le);for(let Q=0;Q<p.length;Q+=1)p[Q]&&p[Q].m(le,null);m(e,x),N=!0,_||(C=fe(l,"click",k),_=!0)},p(Y,F){n=Y;let Q=r;if(r=ee(n),r!==Q&&(ye(),V(Z[Q],1,1,()=>{Z[Q]=null}),$e(),s=Z[r],s||(s=Z[r]=K[r](n),s.c()),T(s,1),s.m(i,null)),(!N||F[0]&4)&&f!==(f=n[86]+"")&&Ve(c,f),(!N||F[0]&57348)&&g!==(g=n[87].files.filter(n[51]).length+"")&&Ve($,g),F[0]&101507166){S=Ne(n[87].files);let W;for(W=0;W<S.length;W+=1){const De=Tt(n,S,W);p[W]?(p[W].p(De,F),T(p[W],1)):(p[W]=Xt(De),p[W].c(),T(p[W],1),p[W].m(le,null))}for(ye(),W=S.length;W<p.length;W+=1)ae(W);$e()}(!N||F[0]&4&&L!==(L=n[87].toggled?"visible":"hidden"))&&u(P,"class",L),(!N||F[0]&57348&&M!==(M=n[87].files.filter(n[61]).length>0?"visible":"hidden"))&&u(e,"class",M)},i(Y){if(!N){T(s);for(let F=0;F<S.length;F+=1)T(p[F]);N=!0}},o(Y){V(s),p=p.filter(Boolean);for(let F=0;F<p.length;F+=1)V(p[F]);N=!1},d(Y){Y&&d(e),Z[r].d(),xe(p,Y),_=!1,C()}}}function Dn(n){return{c:ne,l:ne,m:ne,p:ne,d:ne}}function In(n){let e,t,l,i,r="<span>To download all selected files using Wget:</span>",s,o,a,f=n[5]>0&&el(n);return{c(){e=b("div"),t=b("div"),f&&f.c(),l=j(),i=b("div"),i.innerHTML=r,s=j(),o=b("div"),a=re(n[17]),this.h()},l(c){e=v(c,"DIV",{style:!0});var h=y(e);t=v(h,"DIV",{class:!0});var g=y(t);f&&f.l(g),l=O(g),i=v(g,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-7lv1vm"&&(i.innerHTML=r),s=O(g),o=v(g,"DIV",{class:!0});var $=y(o);a=ie($,n[17]),$.forEach(d),g.forEach(d),h.forEach(d),this.h()},h(){u(i,"class","mb-2"),u(o,"class","p-[3px] bg-surface-900 [word-spacing:6px]"),u(t,"class","bg-surface-700 border-2 rounded-md p-4 m-2"),et(e,"display","flex")},m(c,h){E(c,e,h),m(e,t),f&&f.m(t,null),m(t,l),m(t,i),m(t,s),m(t,o),m(o,a)},p(c,h){c[5]>0?f?f.p(c,h):(f=el(c),f.c(),f.m(t,l)):f&&(f.d(1),f=null),h[0]&131072&&Ve(a,c[17])},d(c){c&&d(e),f&&f.d()}}}function el(n){let e,t,l;return{c(){e=re("("),t=re(n[5]),l=re(`) of your selected files were too big and are thus dropped from the
					download.`)},l(i){e=ie(i,"("),t=ie(i,n[5]),l=ie(i,`) of your selected files were too big and are thus dropped from the
					download.`)},m(i,r){E(i,e,r),E(i,t,r),E(i,l,r)},p(i,r){r[0]&32&&Ve(t,i[5])},d(i){i&&(d(e),d(t),d(l))}}}function Ln(n){let e,t,l,i="Available Collections",r,s,o,a,f,c,h,g,$,U,q,P,D,I,A,B,le,L,x,M,N,_,C,K,Z,ee,k,S,p,ae,Y,F,Q,W,De,H,R,X,Ee,be,Ue;o=new Bl({});function me(J){n[33](J)}function Fe(J){n[34](J)}function he(J){n[35](J)}let Be={};n[6]!==void 0&&(Be.foldertype=n[6]),n[7]!==void 0&&(Be.filter=n[7]),n[0]!==void 0&&(Be.filter_by_status=n[0]),f=new kl({props:Be}),Me.push(()=>Pe(f,"foldertype",me)),Me.push(()=>Pe(f,"filter",Fe)),Me.push(()=>Pe(f,"filter_by_status",he)),f.$on("foldertype_changed",n[36]);let te=n[0]=="internal"&&Vt(n),z=n[8].length>0&&Bt(n);L=new fl({}),C=new sl({}),S=new Fl({}),Q=new Rl({});const Ie=[_n,cn],Te=[];function Ye(J,se){return J[1].length>0?0:1}H=Ye(n),R=Te[H]=Ie[H](n);function Ze(J,se){return J[17].length>0?In:Dn}let He=Ze(n),Ce=He(n);return{c(){e=b("div"),t=b("div"),l=b("h1"),l.textContent=i,r=j(),s=b("div"),_e(o.$$.fragment),a=j(),_e(f.$$.fragment),$=j(),te&&te.c(),U=j(),q=b("div"),P=b("input"),D=j(),z&&z.c(),I=j(),A=b("div"),B=b("div"),le=b("button"),_e(L.$$.fragment),x=re("   Expand All"),M=j(),N=b("div"),_=b("button"),_e(C.$$.fragment),K=re("   Close All"),Z=j(),ee=b("div"),k=b("button"),_e(S.$$.fragment),p=re("   Select All"),ae=j(),Y=b("div"),F=b("button"),_e(Q.$$.fragment),W=re("   Unselect All"),De=j(),R.c(),X=j(),Ce.c(),this.h()},l(J){e=v(J,"DIV",{class:!0});var se=y(e);t=v(se,"DIV",{class:!0});var Le=y(t);l=v(Le,"H1",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-1fwzelh"&&(l.textContent=i),r=O(Le),s=v(Le,"DIV",{class:!0});var je=y(s);ce(o.$$.fragment,je),je.forEach(d),Le.forEach(d),a=O(se),ce(f.$$.fragment,se),$=O(se),te&&te.l(se),U=O(se),q=v(se,"DIV",{class:!0});var st=y(q);P=v(st,"INPUT",{class:!0,type:!0,placeholder:!0}),st.forEach(d),D=O(se),z&&z.l(se),I=O(se),A=v(se,"DIV",{class:!0});var ze=y(A);B=v(ze,"DIV",{});var ft=y(B);le=v(ft,"BUTTON",{class:!0});var tt=y(le);ce(L.$$.fragment,tt),x=ie(tt,"   Expand All"),tt.forEach(d),ft.forEach(d),M=O(ze),N=v(ze,"DIV",{});var ot=y(N);_=v(ot,"BUTTON",{class:!0});var lt=y(_);ce(C.$$.fragment,lt),K=ie(lt,"   Close All"),lt.forEach(d),ot.forEach(d),Z=O(ze),ee=v(ze,"DIV",{});var ut=y(ee);k=v(ut,"BUTTON",{class:!0});var nt=y(k);ce(S.$$.fragment,nt),p=ie(nt,"   Select All"),nt.forEach(d),ut.forEach(d),ae=O(ze),Y=v(ze,"DIV",{});var ct=y(Y);F=v(ct,"BUTTON",{class:!0});var it=y(F);ce(Q.$$.fragment,it),W=ie(it,"   Unselect All"),it.forEach(d),ct.forEach(d),ze.forEach(d),De=O(se),R.l(se),X=O(se),Ce.l(se),se.forEach(d),this.h()},h(){u(l,"class","content-heading"),u(s,"class","flex-center"),u(t,"class","flex"),u(P,"class","input w-full mt-4 p-2"),u(P,"type","text"),u(P,"placeholder","Type to filter filenames..."),u(q,"class","p-2"),u(le,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(_,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(k,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(F,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(A,"class","flex gap-4 mt-2 p-2"),u(e,"class","content-div")},m(J,se){E(J,e,se),m(e,t),m(t,l),m(t,r),m(t,s),ue(o,s,null),m(e,a),ue(f,e,null),m(e,$),te&&te.m(e,null),m(e,U),m(e,q),m(q,P),Ge(P,n[13]),m(e,D),z&&z.m(e,null),m(e,I),m(e,A),m(A,B),m(B,le),ue(L,le,null),m(le,x),m(A,M),m(A,N),m(N,_),ue(C,_,null),m(_,K),m(A,Z),m(A,ee),m(ee,k),ue(S,k,null),m(k,p),m(A,ae),m(A,Y),m(Y,F),ue(Q,F,null),m(F,W),m(e,De),Te[H].m(e,null),m(e,X),Ce.m(e,null),Ee=!0,be||(Ue=[fe(P,"input",n[38]),fe(le,"click",n[47]),fe(_,"click",n[48]),fe(k,"click",n[49]),fe(F,"click",n[50])],be=!0)},p(J,se){const Le={};!c&&se[0]&64&&(c=!0,Le.foldertype=J[6],Se(()=>c=!1)),!h&&se[0]&128&&(h=!0,Le.filter=J[7],Se(()=>h=!1)),!g&&se[0]&1&&(g=!0,Le.filter_by_status=J[0],Se(()=>g=!1)),f.$set(Le),J[0]=="internal"?te?te.p(J,se):(te=Vt(J),te.c(),te.m(e,U)):te&&(te.d(1),te=null),se[0]&8192&&P.value!==J[13]&&Ge(P,J[13]),J[8].length>0?z?z.p(J,se):(z=Bt(J),z.c(),z.m(e,I)):z&&(z.d(1),z=null);let je=H;H=Ye(J),H===je?Te[H].p(J,se):(ye(),V(Te[je],1,1,()=>{Te[je]=null}),$e(),R=Te[H],R?R.p(J,se):(R=Te[H]=Ie[H](J),R.c()),T(R,1),R.m(e,X)),He===(He=Ze(J))&&Ce?Ce.p(J,se):(Ce.d(1),Ce=He(J),Ce&&(Ce.c(),Ce.m(e,null)))},i(J){Ee||(T(o.$$.fragment,J),T(f.$$.fragment,J),T(L.$$.fragment,J),T(C.$$.fragment,J),T(S.$$.fragment,J),T(Q.$$.fragment,J),T(R),Ee=!0)},o(J){V(o.$$.fragment,J),V(f.$$.fragment,J),V(L.$$.fragment,J),V(C.$$.fragment,J),V(S.$$.fragment,J),V(Q.$$.fragment,J),V(R),Ee=!1},d(J){J&&d(e),oe(o),oe(f),te&&te.d(),z&&z.d(),oe(L),oe(C),oe(S),oe(Q),Te[H].d(),Ce.d(),be=!1,mt(Ue)}}}async function ht({url:n,key:e,folder_data:t,file_obj:l}){const i=await fetch(n);t[l.index][e]=i.ok?await i.json():{[`currently no ${e} available`]:"for this file"},t[l.index][`${e}_exists`]=i.ok}function Nn(n){const e=document.getElementById("checkbox_"+n);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}function tl(n){const e={ai:"Aridity Index",evspsblpot:"PET",evspsbl:"Actual Evaporation",pr:"Precipitation",tas:"Air Temp",tasmax:"Max Air Temp",tasmin:"Min Air Temp",sfcWind:"Wind Speed",water_budget:"Water Budget",kbdi:"KBDI",hurs:"Rel. Humidity",rlds:"D. Long Rad.",rsds:"D. Short Rad.",rsus:"Up Short Rad.",rlus:"Up Long Rad.",spi:"SPI",spei:"SPEI"};for(const[t,l]of Object.entries(e))if(n==t)return n.replace(t,l);return n}const ll=n=>n.show=="true",nl=n=>n.show=="true",il=n=>n.show=="true",rl=n=>n.show=="true",al=n=>n==!0;function Vn(n,e,t){let l,{filter_by_status:i=""}=e;console.log("Status: ",i);let r=[],s={},o=[],a=!1,f=0,c=1,h="CMIP6_raw",g="",$="",U=[],q=[{time:"1981_2000-2080_2099",show:"false"}],P=[{time:"1981_2000",show:"false"},{time:"2021_2040",show:"false"},{time:"2041_2060",show:"false"},{time:"2080_2099",show:"false"}],D=[{time:"1981_2010",show:"false"},{time:"2011_2040",show:"false"},{time:"2071_2099",show:"false"}],I=[{time:"yearly",show:"false"},{time:"seasonal",show:"false"},{time:"monthly",show:"false"}];pt(()=>{yl.subscribe(w=>{})}),pt(()=>{ee(!1)});async function A(w,G){var pe=ke+"/climate/generate_dat_file?name="+w+"&type="+h;console.log(pe);const we=await fetch(pe,{method:"GET"});if(we.ok)t(1,r[G].dat_exists=!0,r),t(1,r=[...r]);else{t(1,r[G].dat_exists=!1,r),t(1,r=[...r]);var ve=await we.text();throw new Error(`${we.status} ${we.statusText}
Reason: ${ve}`)}}let B="";function le(w){t(17,l="")}function L(){for(var w=0;w<o.length;w++)r[w].filename.toLowerCase().includes(B.toLowerCase())&&(r[w].filename.includes(p)||p=="_")&&(r[w].filename.includes(Y)||Y=="_")&&t(3,o[w]=!0,o)}function x(){for(var w=0;w<o.length;w++)t(3,o[w]=!1,o)}function M(){for(const[w,G]of Object.entries(s))t(2,s[w].toggled=!0,s)}function N(){for(const[w,G]of Object.entries(s))t(2,s[w].toggled=!1,s)}async function _(){const w=ke+"/climate/select_temp_urls?type="+h;let G=[];t(5,f=0);for(let ve=0;ve<o.length;ve++)if(o[ve]){r[ve].filesuffix,r[ve].filename.split(".").pop();var pe=r[ve].filename;G.push([pe,R])}try{const ve=await fetch(w,{method:"POST",body:JSON.stringify(G)});let qe=[];if(!ve.ok){var we=await ve.text();throw new Error(`${ve.status} ${ve.statusText}
Reason: ${we}`)}qe=await ve.json(),t(17,l=qe["wget-command"])}catch(ve){console.log(ve)}}async function C(w,G,pe,we=0){console.log("get_metadata_and_prov",w,G,pe),t(1,r[pe.index].tabset=we,r),await Promise.all([ht({url:ke+"/climate/get_temp_file?name="+w+"&type="+G+"&filetype=meta",key:"metadata",folder_data:r,file_obj:pe}),ht({url:ke+"/climate/get_temp_file?name="+w+"&type="+G+"&filetype=prov",key:"metadata_prov",folder_data:r,file_obj:pe}),ht({url:ke+"/climate/get_temp_file?name="+w+"&type="+G+"&filetype=prov_stats",key:"metadata_prov_stats",folder_data:r,file_obj:pe})]),t(1,r[pe.index].metadata_show=!0,r),history.pushState({},"","?type="+G+"&filename="+w),t(1,r=[...r])}async function K(w,G){var pe=ke+"/climate/access_tif?type="+h+"&name="+w;const we=await fetch(pe,{method:"GET"});if(we.ok)t(1,r[G].tif_exists=!0,r),t(1,r=[...r]);else{t(1,r[G].tif_exists=!1,r),t(1,r[G].tif_convertable=!1,r),t(1,r=[...r]);var ve=await we.text();throw new Error(`${we.status} ${we.statusText}
Reason: ${ve}`)}}function Z(){let w=/(^(.+)_v(\d+)_([^_]+))|^((.+)_day_([^_]+)|^(.+))/;const G=El.find(ve=>ve.key==h);G&&G.header_regex.length>2&&(w=new RegExp(G.header_regex.replace(/\\/g,"\\"))),console.log("filePattern: ",w),t(2,s={});let pe={};t(8,U=[]),pe["No Category"]={files:[],toggled:!1},W(),H();for(let ve=0;ve<r.length;ve++){var we=r[ve].filename;const qe=we.match(w);if(Q(we),De(we),qe&&qe.length>=3){const Qe=qe[0],Xe=/^(_*[^_]*_[^_]+)/g;let _t=we.replace(qe[0],"").replace(".nc","").match(Xe),rt="";_t&&(rt=_t[0].replace(/_\d{4}/g,"").replace(/^_+/,"").replace("_Afr",""),U.includes(rt)||U.push(rt)),pe[Qe]||(pe[Qe]={files:[],toggled:!1}),pe[Qe].files.push({filename:we,index:ve})}else pe["No Category"].files.push({filename:we,index:ve})}if(pe["No Category"].files.length==0&&delete pe["No Category"],t(2,s=pe),t(8,U=[...U]),g.length>0)for(const[ve,qe]of Object.entries(s)){const Qe=qe.files.find(Xe=>Xe.filename===g);if(console.log("found",Qe),Qe){t(2,s[ve].toggled=!0,s);const Xe=r.findIndex(rt=>rt.filename===g),_t=r[Xe];console.log("found file in folder_data",_t),C(r[Xe].filename,h,Qe,0),c=Xe;break}}}async function ee(w=!1){t(1,r={}),t(8,U=[]),t(13,B="");try{if(w)var G=await gl(h,!1);else var G=await wl(h,!1);t(1,r=G.content),r.sort((pe,we)=>pe.filename.replace(".nc","").localeCompare(we.filename.replace(".nc",""))),Z(),t(3,o=r.map(()=>!1)),Nl&&history.pushState({},"","?type="+h+"&filename="+g)}catch{console.log("Refreshing folder content failed.")}finally{setTimeout(()=>{Nn(c),c=1},500)}}function k(w){t(2,s[w].toggled=!s[w].toggled,s)}function S(w){t(13,B=w)}let p="_";function ae(w){t(14,p=w)}let Y="_";function F(w){t(15,Y=w)}function Q(w){for(let G=0;G<q.length;G++)w.includes(q[G].time)&&t(9,q[G].show="true",q);for(let G=0;G<P.length;G++)w.includes(P[G].time)&&t(10,P[G].show="true",P);for(let G=0;G<D.length;G++)w.includes(D[G].time)&&t(11,D[G].show="true",D)}function W(){for(let w=0;w<q.length;w++)t(9,q[w].show="false",q);for(let w=0;w<P.length;w++)t(10,P[w].show="false",P);for(let w=0;w<D.length;w++)t(11,D[w].show="false",D);t(14,p="_")}function De(w){for(let G=0;G<I.length;G++)w.includes(I[G].time)&&t(12,I[G].show="true",I)}function H(){for(let w=0;w<I.length;w++)t(12,I[w].show="false",I)}let R="nc";function X(w){t(16,R=w.target.value)}const Ee=[[]];function be(w){h=w,t(6,h)}function Ue(w){$=w,t(7,$)}function me(w){i=w,t(0,i)}const Fe=()=>ee(!1),he=()=>ee(!0);function Be(){B=this.value,t(13,B)}const te=w=>ae(w.time),z=()=>ae("20y"),Ie=w=>ae(w.time),Te=()=>ae("30y"),Ye=w=>ae(w.time),Ze=()=>ae("_"),He=w=>F(w.time),Ce=()=>F("_"),J=()=>M(),se=()=>N(),Le=()=>L(),je=()=>x(),st=w=>[B.toLowerCase(),p,Y].every(G=>w.filename.toLowerCase().includes(G)),ze=w=>k(w);function ft(w){o[w.index]=this.checked,t(3,o)}const tt=w=>C(r[w.index].filename,h,w),ot=w=>t(1,r[w.index].metadata_show=!1,r),lt=w=>A(r[w.index].filename,w.index),ut=w=>K(r[w.index].filename,w.index),nt=w=>C(r[w.index].filename,h,w,4),ct=(w,G)=>r[w.index].filename.toLowerCase().includes(G),it=(w,G)=>r[w.index].filename.toLowerCase().includes(G),ol=w=>[B.toLowerCase(),p,Y].every(G=>w.filename.toLowerCase().includes(G));function ul(){R=this.__value,t(16,R)}function cl(){R=this.__value,t(16,R)}function _l(){R=this.__value,t(16,R)}function dl(){R=this.__value,t(16,R)}function hl(){R=this.__value,t(16,R)}n.$$set=w=>{"filter_by_status"in w&&t(0,i=w.filter_by_status)},t(17,l="");{const w=new URLSearchParams(window.location.search),G=w.get("type");G&&t(6,h=G);const pe=w.get("filename");pe&&(g=pe)}return[i,r,s,o,a,f,h,$,U,q,P,D,I,B,p,Y,R,l,A,le,L,x,M,N,_,C,K,ee,k,S,ae,F,X,be,Ue,me,Fe,he,Be,te,z,Ie,Te,Ye,Ze,He,Ce,J,se,Le,je,st,ze,ft,tt,ot,lt,ut,nt,ct,it,ol,ul,Ee,cl,_l,dl,hl]}class zn extends Je{constructor(e){super(),Ke(this,e,Vn,Ln,We,{filter_by_status:0},null,[-1,-1,-1,-1])}}export{zn as C};
