import{w as j}from"./index.Ckv1nRIc.js";import{A as X}from"./app.config.BO6XNHuD.js";import{s as U,e as y,a as w,t as L,c as I,b as D,f as c,g as M,d as O,m as p,i as P,h as b,j as x,n as W,p as Y,T as Z,r as $,q as S}from"./scheduler.LNXBLT3m.js";import{e as F}from"./each.D6YF6ztN.js";import{S as H,i as Q}from"./index.DuRI3OYL.js";var G,q;{const i=localStorage.content;G=j(i||"HELLO WORLD!"),q=j(JSON.parse(localStorage.getItem("tempresult_selection"))),q.subscribe(e=>localStorage.tempresult_selection=JSON.stringify(e)),G.subscribe(e=>localStorage.content=e)}async function ce(i,e=!1){var l=X+"/climate/get_content?type="+i;e&&(l+="&convertable=true");const a=await fetch(l,{method:"GET"});let r=[];if(!a.ok){var u=await a.text();throw new Error(`${a.status} ${a.statusText}
Reason: ${u}`)}return r=await a.json(),r.content.sort(),r}const ee=[{key:"water_budget",display_name:"CMIP5 Water Budget",description:"Water budget and evspsblpot based on CMIP5 data",citation:"tbd",header_regex:"",lineage:"Derived from CMIP5 data"},{key:"water_budget_bias",display_name:"CMIP5 Water Budget Bias",description:"Water budget and evspsblpot with bias adjustes CMIP5 data",citation:"tbd",header_regex:"",lineage:"Derived from CMIP5 data with bias adjustment"},{key:"kariba",display_name:"CMIP5 Kariba",description:"CMIP5 data for Kariba dam catchment",citation:"tbd",header_regex:"",lineage:"Derived from CMIP5 data for Kariba dam catchment"},{key:"vaal",display_name:"CMIP5 Vaal",description:"CMIP5 data for Vaal dam catchment",citation:"tbd",header_regex:"",lineage:"Derived from CMIP5 data for Vaal dam catchment"},{key:"luanginga",display_name:"CMIP5 Luanginga",description:"CMIP5 data for Luanginga dam catchment",citation:"tbd",header_regex:"",lineage:"Derived from CMIP5 data for Luanginga dam catchment"},{key:"cmip6",display_name:"CMIP6 Water Budget",description:"CMIP6 Water budget and evspsblpot data",citation:"tbd",header_regex:"",lineage:"Derived from CMIP6 data"},{key:"paper",display_name:"Paper",description:"Research papers and articles",citation:"tbd",header_regex:"",lineage:""},{key:"ind_full",display_name:"Indicator Full",description:"Full indicator data (only TIPPECC area). Data description: https://landsurf.geo.uni-halle.de/docs-page_en.html#section-3",citation:"Original Data: https://doi.org/10.58160/gGzexcbDikobkyvK",header_regex:"(^(.*?)(?=\\d{4}-\\d{4}))",lineage:"Derived from full indicator data for TIPPECC area"},{key:"ind_slices20",display_name:"Indicator Slices 20",description:"Indicator slices at 20 years intervals (only TIPPECC area). Data description: https://landsurf.geo.uni-halle.de/docs-page_en.html#section-3",citation:"Original Data: https://doi.org/10.58160/gGzexcbDikobkyvK",header_regex:"(^(.*?\\d{4}-\\d{4}.*?)(?=\\d{4}-\\d{4}))",lineage:"Derived from indicator data slices at 20 years intervals for TIPPECC area"},{key:"ind_slices30",display_name:"Indicator Slices 30",description:"Indicator slices at 30 years intervals (only TIPPECC area). Data description: https://landsurf.geo.uni-halle.de/docs-page_en.html#section-3",citation:"Original Data: https://doi.org/10.58160/gGzexcbDikobkyvK",header_regex:"(^(.*?\\d{4}-\\d{4}.*?)(?=\\d{4}-\\d{4}))",lineage:"Derived from indicator data slices at 30 years intervals for TIPPECC area"}];function A(i,e,l){const s=i.slice();return s[8]=e[l],s}function J(i){let e,l=i[8].display_name+"",s,a,r,u;function g(){return i[3](i[8])}return{c(){e=y("button"),s=L(l),this.h()},l(n){e=I(n,"BUTTON",{type:!0,class:!0});var o=D(e);s=O(o,l),o.forEach(c),this.h()},h(){p(e,"type","button"),p(e,"class",a="btn bg-[#D17208] m-2 rounded-md "+(i[0]==i[8].key?"font-bold bg-[#D17208] text-white":""))},m(n,o){P(n,e,o),b(e,s),r||(u=$(e,"click",g),r=!0)},p(n,o){i=n,o&1&&a!==(a="btn bg-[#D17208] m-2 rounded-md "+(i[0]==i[8].key?"font-bold bg-[#D17208] text-white":""))&&p(e,"class",a)},d(n){n&&c(e),r=!1,u()}}}function te(i){var K,B,R;let e,l,s,a,r=(((K=i[1].find(i[4]))==null?void 0:K.description)??"No description available")+"",u,g,n,o=(((B=i[1].find(i[5]))==null?void 0:B.lineage)??"No lineage available")+"",d,f,v,z=(((R=i[1].find(i[6]))==null?void 0:R.citation)??"No citation available")+"",N,C=F(i[1]),h=[];for(let t=0;t<C.length;t+=1)h[t]=J(A(i,C,t));return{c(){e=y("div"),l=y("div");for(let t=0;t<h.length;t+=1)h[t].c();s=w(),a=y("div"),u=L(r),g=w(),n=y("div"),d=L(o),f=w(),v=y("div"),N=L(z),this.h()},l(t){e=I(t,"DIV",{class:!0});var m=D(e);l=I(m,"DIV",{class:!0});var k=D(l);for(let E=0;E<h.length;E+=1)h[E].l(k);k.forEach(c),m.forEach(c),s=M(t),a=I(t,"DIV",{class:!0});var V=D(a);u=O(V,r),V.forEach(c),g=M(t),n=I(t,"DIV",{class:!0});var T=D(n);d=O(T,o),T.forEach(c),f=M(t),v=I(t,"DIV",{class:!0});var _=D(v);N=O(_,z),_.forEach(c),this.h()},h(){p(l,"class","flow gap-2 items-center"),p(e,"class",""),p(a,"class","text-sm m-2"),p(n,"class","text-sm m-2"),p(v,"class","text-sm m-2")},m(t,m){P(t,e,m),b(e,l);for(let k=0;k<h.length;k+=1)h[k]&&h[k].m(l,null);P(t,s,m),P(t,a,m),b(a,u),P(t,g,m),P(t,n,m),b(n,d),P(t,f,m),P(t,v,m),b(v,N)},p(t,[m]){var k,V,T;if(m&7){C=F(t[1]);let _;for(_=0;_<C.length;_+=1){const E=A(t,C,_);h[_]?h[_].p(E,m):(h[_]=J(E),h[_].c(),h[_].m(l,null))}for(;_<h.length;_+=1)h[_].d(1);h.length=C.length}m&1&&r!==(r=(((k=t[1].find(t[4]))==null?void 0:k.description)??"No description available")+"")&&x(u,r),m&1&&o!==(o=(((V=t[1].find(t[5]))==null?void 0:V.lineage)??"No lineage available")+"")&&x(d,o),m&1&&z!==(z=(((T=t[1].find(t[6]))==null?void 0:T.citation)??"No citation available")+"")&&x(N,z)},i:W,o:W,d(t){t&&(c(e),c(s),c(a),c(g),c(n),c(f),c(v)),Y(h,t)}}}function ae(i,e,l){let{foldertype:s="water_budget"}=e;var a=ee;const r=Z();function u(f){for(let v=0;v<a.length;v++)if(f==a[v].key){console.log("NEW: ",f," ftype: ",a[v].key),l(0,s=f),r("foldertype_changed",s);return}l(0,s=a[0].key),r("foldertype_changed",s)}const g=f=>u(f.key),n=f=>f.key==s,o=f=>f.key==s,d=f=>f.key==s;return i.$$set=f=>{"foldertype"in f&&l(0,s=f.foldertype)},[s,a,u,g,n,o,d]}class fe extends H{constructor(e){super(),Q(this,e,ae,te,U,{foldertype:0})}}function ie(i){let e,l,s,a,r,u,g,n;return{c(){e=y("div"),l=y("div"),s=w(),a=y("div"),r=w(),u=y("div"),g=w(),n=y("div"),this.h()},l(o){e=I(o,"DIV",{class:!0,style:!0});var d=D(e);l=I(d,"DIV",{class:!0}),D(l).forEach(c),s=M(d),a=I(d,"DIV",{class:!0}),D(a).forEach(c),r=M(d),u=I(d,"DIV",{class:!0}),D(u).forEach(c),g=M(d),n=I(d,"DIV",{class:!0}),D(n).forEach(c),d.forEach(c),this.h()},h(){p(l,"class","svelte-10umw5z"),p(a,"class","svelte-10umw5z"),p(u,"class","svelte-10umw5z"),p(n,"class","svelte-10umw5z"),p(e,"class","ring svelte-10umw5z"),S(e,"--color",i[1]),S(e,"--size",i[0])},m(o,d){P(o,e,d),b(e,l),b(e,s),b(e,a),b(e,r),b(e,u),b(e,g),b(e,n)},p(o,[d]){d&2&&S(e,"--color",o[1]),d&1&&S(e,"--size",o[0])},i:W,o:W,d(o){o&&c(e)}}}function se(i,e,l){let{size:s="64px"}=e,{color:a="#10b981"}=e;return i.$$set=r=>{"size"in r&&l(0,s=r.size),"color"in r&&l(1,a=r.color)},[s,a]}class ue extends H{constructor(e){super(),Q(this,e,se,ie,U,{size:0,color:1})}}export{fe as F,ue as L,ce as _,ee as f,q as t};
