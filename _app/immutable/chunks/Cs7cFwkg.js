import{s as st,n as le,d,i as T,b as h,l as u,z as Qe,e as y,A as Xe,c as g,h as b,H as xe,I as We,g as L,u as de,j as N,m as ge,f as ee,t as te,p as at,r as Vt,x as lt,o as ae,C as El,y as Bt,q as ot,w as Tl,a as ze,Z as Dl,M as Vl,_ as St}from"./CAmWBqAG.js";import{S as ft,i as ut,d as se,t as I,a as D,m as oe,c as fe,b as ue,f as Ye,g as $e,e as Ce}from"./CS72Z8Kx.js";import{e as Oe}from"./D6YF6ztN.js";import{A as ye}from"./BO6XNHuD.js";import{T as Il,z as Ll,_ as Nl}from"./B8ODvhsC.js";import{F as Bl,t as Sl,L as Al,f as Ml}from"./OA9Jjrzq.js";import"./DlmFSwB_.js";import{T as Ul,a as dt,D as et,P as Et,C as jl,M as Ol,b as zl}from"./C2qG567A.js";import{C as $l}from"./BaKHcdyU.js";import"./C0wl4X5i.js";const Pl=!0,Rl=Pl;function Hl(n){let e,t;return{c(){e=Xe("svg"),t=Xe("path"),this.h()},l(l){e=Qe(l,"svg",{class:!0,xmlns:!0,viewBox:!0,height:!0,width:!0});var i=y(e);t=Qe(i,"path",{d:!0}),y(t).forEach(d),i.forEach(d),this.h()},h(){u(t,"d","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32l0 96L0 384c0 35.3 28.7 64 64 64l192 0 0-64L64 384l0-224 192 0 0-64L64 96l0-64zM288 192c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4L409.4 9.4c-6-6-14.1-9.4-22.6-9.4L320 0c-17.7 0-32 14.3-32 32l0 160zm0 288c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4l-13.3-13.3c-6-6-14.1-9.4-22.6-9.4L320 288c-17.7 0-32 14.3-32 32l0 160z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 576 512"),u(e,"height","40px"),u(e,"width","36px")},m(l,i){T(l,e,i),h(e,t)},p:le,i:le,o:le,d(l){l&&d(e)}}}class Gl extends ft{constructor(e){super(),ut(this,e,null,Hl,st,{})}}function Fl(n){let e,t;return{c(){e=Xe("svg"),t=Xe("path"),this.h()},l(l){e=Qe(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=Qe(i,"path",{d:!0}),y(t).forEach(d),i.forEach(d),this.h()},h(){u(t,"d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5l0 39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9l0 39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7l0-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1L257 256c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 512 512"),u(e,"width","24")},m(l,i){T(l,e,i),h(e,t)},p:le,i:le,o:le,d(l){l&&d(e)}}}class ql extends ft{constructor(e){super(),ut(this,e,null,Fl,st,{})}}function xl(n){let e,t;return{c(){e=Xe("svg"),t=Xe("path"),this.h()},l(l){e=Qe(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var i=y(e);t=Qe(i,"path",{d:!0}),y(t).forEach(d),i.forEach(d),this.h()},h(){u(t,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),u(e,"class","pb-1 fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 320 512"),u(e,"width",n[1]),u(e,"height",n[0])},m(l,i){T(l,e,i),h(e,t)},p(l,[i]){i&2&&u(e,"width",l[1]),i&1&&u(e,"height",l[0])},i:le,o:le,d(l){l&&d(e)}}}function Wl(n,e,t){let{h:l="32px"}=e,{w:i="18px"}=e;return n.$$set=r=>{"h"in r&&t(0,l=r.h),"w"in r&&t(1,i=r.w)},[l,i]}class Cl extends ft{constructor(e){super(),ut(this,e,Wl,xl,st,{h:0,w:1})}}function Yl(n){let e,t;return{c(){e=Xe("svg"),t=Xe("path"),this.h()},l(l){e=Qe(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=Qe(i,"path",{d:!0}),y(t).forEach(d),i.forEach(d),this.h()},h(){u(t,"d","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","19")},m(l,i){T(l,e,i),h(e,t)},p:le,i:le,o:le,d(l){l&&d(e)}}}class Jl extends ft{constructor(e){super(),ut(this,e,null,Yl,st,{})}}const Kl="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%20clip-path='url(%23clip0_901_1299)'%3e%3cpath%20d='M21.4327%2025.6768L26.2927%2030.5348C26.6837%2030.9258%2027.3167%2030.9258%2027.7067%2030.5348L30.5357%2027.7068C30.9257%2027.3168%2030.9257%2026.6838%2030.5357%2026.2928L23.3337%2019.0918C23.3337%2019.0918%2024.9997%2015.6558%2024.9997%2012.9998C24.9997%206.37276%2019.6267%200.999756%2012.9997%200.999756C6.37269%200.999756%200.999687%206.37276%200.999687%2012.9998C0.999687%2019.6268%206.37269%2024.9998%2012.9997%2024.9998C16.3067%2024.9998%2019.2997%2023.6628%2021.4697%2021.4998M7.00009%2011.0001H19.0001M7.00009%2015.0001H12.0001'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_901_1299'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/g%3e%3c/svg%3e",Zl="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20width='800px'%20height='800px'%20viewBox='0%200%201920%201920'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M960%200v112.941c467.125%200%20847.059%20379.934%20847.059%20847.059%200%20467.125-379.934%20847.059-847.059%20847.059-467.125%200-847.059-379.934-847.059-847.059%200-267.106%20126.607-515.915%20338.824-675.727v393.374h112.94V112.941H0v112.941h342.89C127.058%20407.38%200%20674.711%200%20960c0%20529.355%20430.645%20960%20960%20960s960-430.645%20960-960S1489.355%200%20960%200'%20fill-rule='evenodd'/%3e%3c/g%3e%3c/svg%3e";function Ql(n){let e,t;return{c(){e=Xe("svg"),t=Xe("path"),this.h()},l(l){e=Qe(l,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var i=y(e);t=Qe(i,"path",{d:!0}),y(t).forEach(d),i.forEach(d),this.h()},h(){u(t,"d","M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","18")},m(l,i){T(l,e,i),h(e,t)},p:le,i:le,o:le,d(l){l&&d(e)}}}class Xl extends ft{constructor(e){super(),ut(this,e,null,Ql,st,{})}}function en(n){let e,t="Metadata";return{c(){e=b("span"),e.textContent=t},l(l){e=g(l,"SPAN",{"data-svelte-h":!0}),ge(e)!=="svelte-myby7z"&&(e.textContent=t)},m(l,i){T(l,e,i)},p:le,d(l){l&&d(e)}}}function tn(n){let e;return{c(){e=te("Related Datasets")},l(t){e=ee(t,"Related Datasets")},m(t,l){T(t,e,l)},d(t){t&&d(e)}}}function ln(n){let e;return{c(){e=te("Provenance")},l(t){e=ee(t,"Provenance")},m(t,l){T(t,e,l)},d(t){t&&d(e)}}}function nn(n){let e;return{c(){e=te("Citation")},l(t){e=ee(t,"Citation")},m(t,l){T(t,e,l)},d(t){t&&d(e)}}}function At(n){let e,t,l;function i(a){n[13](a)}let r={name:"tab4",value:4,$$slots:{default:[rn]},$$scope:{ctx:n}};return n[3]!==void 0&&(r.group=n[3]),e=new dt({props:r}),xe.push(()=>Ye(e,"group",i)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,o){oe(e,a,o),l=!0},p(a,o){const s={};o&16384&&(s.$$scope={dirty:o,ctx:a}),!t&&o&8&&(t=!0,s.group=a[3],We(()=>t=!1)),e.$set(s)},i(a){l||(D(e.$$.fragment,a),l=!0)},o(a){I(e.$$.fragment,a),l=!1},d(a){se(e,a)}}}function rn(n){let e;return{c(){e=te("Map")},l(t){e=ee(t,"Map")},m(t,l){T(t,e,l)},d(t){t&&d(e)}}}function Mt(n){let e,t,l,i;return{c(){e=b("div"),t=b("a"),l=te("File Information View"),this.h()},l(r){e=g(r,"DIV",{class:!0});var a=y(e);t=g(a,"A",{href:!0,class:!0,style:!0});var o=y(t);l=ee(o,"File Information View"),o.forEach(d),a.forEach(d),this.h()},h(){u(t,"href",i="/climate_services_gateway/file_info?type="+n[2]+"&filename="+n[4]),u(t,"class","px-3 p-1 py-1 bg-blue-500 text-white rounded hover:bg-blue-600"),at(t,"margin-top","5px"),at(t,"margin-right","2px"),at(t,"margin-left","auto"),at(t,"display","block"),at(t,"width","max-content"),u(e,"class","ml-auto")},m(r,a){T(r,e,a),h(e,t),h(t,l)},p(r,a){a&20&&i!==(i="/climate_services_gateway/file_info?type="+r[2]+"&filename="+r[4])&&u(t,"href",i)},d(r){r&&d(e)}}}function an(n){let e,t,l,i,r,a,o,s,f,c,m,p,C,O,M;function H(_){n[9](_)}let $={name:"tab1",value:0,$$slots:{default:[en]},$$scope:{ctx:n}};n[3]!==void 0&&($.group=n[3]),e=new dt({props:$}),xe.push(()=>Ye(e,"group",H));function E(_){n[10](_)}let z={name:"tab1",value:1,$$slots:{default:[tn]},$$scope:{ctx:n}};n[3]!==void 0&&(z.group=n[3]),i=new dt({props:z}),xe.push(()=>Ye(i,"group",E));function S(_){n[11](_)}let P={name:"tab2",value:2,$$slots:{default:[ln]},$$scope:{ctx:n}};n[3]!==void 0&&(P.group=n[3]),o=new dt({props:P}),xe.push(()=>Ye(o,"group",S));function j(_){n[12](_)}let G={name:"tab3",value:3,$$slots:{default:[nn]},$$scope:{ctx:n}};n[3]!==void 0&&(G.group=n[3]),c=new dt({props:G}),xe.push(()=>Ye(c,"group",j));let B=n[0][n[1].index].tif_convertable&&At(n),k=n[0][n[1].index].metadata_exists&&Mt(n);return{c(){ue(e.$$.fragment),l=N(),ue(i.$$.fragment),a=N(),ue(o.$$.fragment),f=N(),ue(c.$$.fragment),p=N(),B&&B.c(),C=N(),k&&k.c(),O=de()},l(_){fe(e.$$.fragment,_),l=L(_),fe(i.$$.fragment,_),a=L(_),fe(o.$$.fragment,_),f=L(_),fe(c.$$.fragment,_),p=L(_),B&&B.l(_),C=L(_),k&&k.l(_),O=de()},m(_,v){oe(e,_,v),T(_,l,v),oe(i,_,v),T(_,a,v),oe(o,_,v),T(_,f,v),oe(c,_,v),T(_,p,v),B&&B.m(_,v),T(_,C,v),k&&k.m(_,v),T(_,O,v),M=!0},p(_,v){const W={};v&16384&&(W.$$scope={dirty:v,ctx:_}),!t&&v&8&&(t=!0,W.group=_[3],We(()=>t=!1)),e.$set(W);const J={};v&16384&&(J.$$scope={dirty:v,ctx:_}),!r&&v&8&&(r=!0,J.group=_[3],We(()=>r=!1)),i.$set(J);const Z={};v&16384&&(Z.$$scope={dirty:v,ctx:_}),!s&&v&8&&(s=!0,Z.group=_[3],We(()=>s=!1)),o.$set(Z);const re={};v&16384&&(re.$$scope={dirty:v,ctx:_}),!m&&v&8&&(m=!0,re.group=_[3],We(()=>m=!1)),c.$set(re),_[0][_[1].index].tif_convertable?B?(B.p(_,v),v&3&&D(B,1)):(B=At(_),B.c(),D(B,1),B.m(C.parentNode,C)):B&&($e(),I(B,1,1,()=>{B=null}),Ce()),_[0][_[1].index].metadata_exists?k?k.p(_,v):(k=Mt(_),k.c(),k.m(O.parentNode,O)):k&&(k.d(1),k=null)},i(_){M||(D(e.$$.fragment,_),D(i.$$.fragment,_),D(o.$$.fragment,_),D(c.$$.fragment,_),D(B),M=!0)},o(_){I(e.$$.fragment,_),I(i.$$.fragment,_),I(o.$$.fragment,_),I(c.$$.fragment,_),I(B),M=!1},d(_){_&&(d(l),d(a),d(f),d(p),d(C),d(O)),se(e,_),se(i,_),se(o,_),se(c,_),B&&B.d(_),k&&k.d(_)}}}function sn(n){let e,t,l=n[4]&&n[4]!=""&&Ut(n);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,r){l&&l.m(i,r),T(i,e,r),t=!0},p(i,r){i[4]&&i[4]!=""?l?(l.p(i,r),r&16&&D(l,1)):(l=Ut(i),l.c(),D(l,1),l.m(e.parentNode,e)):l&&($e(),I(l,1,1,()=>{l=null}),Ce())},i(i){t||(D(l),t=!0)},o(i){I(l),t=!1},d(i){i&&d(e),l&&l.d(i)}}}function on(n){let e,t,l=n[0][n[1].index].metadata&&n[0][n[1].index].metadata.file&&n[0][n[1].index].metadata_show&&Ot(n);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,r){l&&l.m(i,r),T(i,e,r),t=!0},p(i,r){i[0][i[1].index].metadata&&i[0][i[1].index].metadata.file&&i[0][i[1].index].metadata_show?l?(l.p(i,r),r&3&&D(l,1)):(l=Ot(i),l.c(),D(l,1),l.m(e.parentNode,e)):l&&($e(),I(l,1,1,()=>{l=null}),Ce())},i(i){t||(D(l),t=!0)},o(i){I(l),t=!1},d(i){i&&d(e),l&&l.d(i)}}}function fn(n){let e,t,l,i;const r=[dn,_n],a=[];function o(s,f){return s[0][s[1].index].metadata_prov_exists&&s[0][s[1].index].metadata_show?0:1}return e=o(n),t=a[e]=r[e](n),{c(){t.c(),l=de()},l(s){t.l(s),l=de()},m(s,f){a[e].m(s,f),T(s,l,f),i=!0},p(s,f){let c=e;e=o(s),e===c?a[e].p(s,f):($e(),I(a[c],1,1,()=>{a[c]=null}),Ce(),t=a[e],t?t.p(s,f):(t=a[e]=r[e](s),t.c()),D(t,1),t.m(l.parentNode,l))},i(s){i||(D(t),i=!0)},o(s){I(t),i=!1},d(s){s&&d(l),a[e].d(s)}}}function un(n){let e,t,l,i;const r=[mn,hn],a=[];function o(s,f){return s[0][s[1].index].metadata_prov_stats?0:1}return e=o(n),t=a[e]=r[e](n),{c(){t.c(),l=de()},l(s){t.l(s),l=de()},m(s,f){a[e].m(s,f),T(s,l,f),i=!0},p(s,f){let c=e;e=o(s),e===c?a[e].p(s,f):($e(),I(a[c],1,1,()=>{a[c]=null}),Ce(),t=a[e],t?t.p(s,f):(t=a[e]=r[e](s),t.c()),D(t,1),t.m(l.parentNode,l))},i(s){i||(D(t),i=!0)},o(s){I(t),i=!1},d(s){s&&d(l),a[e].d(s)}}}function cn(n){let e,t,l,i;const r=[vn,pn],a=[];function o(s,f){return s[0][s[1].index].metadata_exists?0:1}return e=o(n),t=a[e]=r[e](n),{c(){t.c(),l=de()},l(s){t.l(s),l=de()},m(s,f){a[e].m(s,f),T(s,l,f),i=!0},p(s,f){let c=e;e=o(s),e===c?a[e].p(s,f):($e(),I(a[c],1,1,()=>{a[c]=null}),Ce(),t=a[e],t?t.p(s,f):(t=a[e]=r[e](s),t.c()),D(t,1),t.m(l.parentNode,l))},i(s){i||(D(t),i=!0)},o(s){I(t),i=!1},d(s){s&&d(l),a[e].d(s)}}}function Ut(n){let e=n[4],t,l,i=jt(n);return{c(){i.c(),t=de()},l(r){i.l(r),t=de()},m(r,a){i.m(r,a),T(r,t,a),l=!0},p(r,a){a&16&&st(e,e=r[4])?($e(),I(i,1,1,le),Ce(),i=jt(r),i.c(),D(i,1),i.m(t.parentNode,t)):i.p(r,a)},i(r){l||(D(i),l=!0)},o(r){I(i),l=!1},d(r){r&&d(t),i.d(r)}}}function jt(n){let e,t,l;function i(a){n[8](a)}let r={foldertype:n[2],show_varinfos:!1};return n[4]!==void 0&&(r.selected_file=n[4]),e=new Il({props:r}),xe.push(()=>Ye(e,"selected_file",i)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,o){oe(e,a,o),l=!0},p(a,o){const s={};o&4&&(s.foldertype=a[2]),!t&&o&16&&(t=!0,s.selected_file=a[4],We(()=>t=!1)),e.$set(s)},i(a){l||(D(e.$$.fragment,a),l=!0)},o(a){I(e.$$.fragment,a),l=!1},d(a){se(e,a)}}}function Ot(n){let e,t;return e=new jl({props:{file:n[0][n[1].index].metadata.file}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,i){oe(e,l,i),t=!0},p(l,i){const r={};i&3&&(r.file=l[0][l[1].index].metadata.file),e.$set(r)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function _n(n){let e;return{c(){e=te("currently no provenance data available")},l(t){e=ee(t,"currently no provenance data available")},m(t,l){T(t,e,l)},p:le,i:le,o:le,d(t){t&&d(e)}}}function dn(n){let e,t,l,i,r,a="provenance",o,s,f,c;l=new et({});let m=n[0][n[1].index].metadata_prov_stats&&zt(n);return{c(){e=b("button"),t=b("a"),ue(l.$$.fragment),i=N(),r=b("div"),r.textContent=a,s=N(),m&&m.c(),f=de(),this.h()},l(p){e=g(p,"BUTTON",{class:!0});var C=y(e);t=g(C,"A",{href:!0,class:!0,title:!0});var O=y(t);fe(l.$$.fragment,O),i=L(O),r=g(O,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-19tiklx"&&(r.textContent=a),O.forEach(d),C.forEach(d),s=L(p),m&&m.l(p),f=de(),this.h()},h(){u(r,"class","ml-1 flex place-items-center justify-items-center"),u(t,"href",o=ye+"/climate/get_temp_file?name="+n[0][n[1].index].filename+"&type="+n[2]+"&filetype=prov"),u(t,"class","flex"),u(t,"title","Download metadata file"),u(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(p,C){T(p,e,C),h(e,t),oe(l,t,null),h(t,i),h(t,r),T(p,s,C),m&&m.m(p,C),T(p,f,C),c=!0},p(p,C){(!c||C&7&&o!==(o=ye+"/climate/get_temp_file?name="+p[0][p[1].index].filename+"&type="+p[2]+"&filetype=prov"))&&u(t,"href",o),p[0][p[1].index].metadata_prov_stats?m?(m.p(p,C),C&3&&D(m,1)):(m=zt(p),m.c(),D(m,1),m.m(f.parentNode,f)):m&&($e(),I(m,1,1,()=>{m=null}),Ce())},i(p){c||(D(l.$$.fragment,p),D(m),c=!0)},o(p){I(l.$$.fragment,p),I(m),c=!1},d(p){p&&(d(e),d(s),d(f)),se(l),m&&m.d(p)}}}function zt(n){let e,t,l,i;function r(s){n[6](s)}function a(s){n[7](s)}let o={};return n[0][n[1].index].metadata_prov!==void 0&&(o.metadata_prov=n[0][n[1].index].metadata_prov),n[0][n[1].index].metadata_prov_stats!==void 0&&(o.metadata_prov_stats=n[0][n[1].index].metadata_prov_stats),e=new zl({props:o}),xe.push(()=>Ye(e,"metadata_prov",r)),xe.push(()=>Ye(e,"metadata_prov_stats",a)),{c(){ue(e.$$.fragment)},l(s){fe(e.$$.fragment,s)},m(s,f){oe(e,s,f),i=!0},p(s,f){const c={};!t&&f&3&&(t=!0,c.metadata_prov=s[0][s[1].index].metadata_prov,We(()=>t=!1)),!l&&f&3&&(l=!0,c.metadata_prov_stats=s[0][s[1].index].metadata_prov_stats,We(()=>l=!1)),e.$set(c)},i(s){i||(D(e.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),i=!1},d(s){se(e,s)}}}function hn(n){let e;return{c(){e=te("currently no related datasets available")},l(t){e=ee(t,"currently no related datasets available")},m(t,l){T(t,e,l)},p:le,i:le,o:le,d(t){t&&d(e)}}}function mn(n){var M,H,$;let e,t,l="ℹ️ Available files based on this file",i,r,a,o,s,f="ℹ️ Available files used to create this file",c,m,p,C,O;return r=new Et({props:{data:(M=n[0][n[1].index].metadata_prov_stats)==null?void 0:M.base_for_entities,only_links:!0}}),m=new Et({props:{data:(H=n[0][n[1].index].metadata_prov_stats)==null?void 0:H.source_entities,only_links:!0}}),C=new Et({props:{data:($=n[0][n[1].index].metadata_prov_stats)==null?void 0:$.result_entities,only_links:!0}}),{c(){e=b("div"),t=b("h2"),t.textContent=l,i=N(),ue(r.$$.fragment),a=N(),o=b("div"),s=b("h2"),s.textContent=f,c=N(),ue(m.$$.fragment),p=N(),ue(C.$$.fragment),this.h()},l(E){e=g(E,"DIV",{class:!0,id:!0});var z=y(e);t=g(z,"H2",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-n9z7mk"&&(t.textContent=l),i=L(z),fe(r.$$.fragment,z),z.forEach(d),a=L(E),o=g(E,"DIV",{class:!0,id:!0});var S=y(o);s=g(S,"H2",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-1bmg2za"&&(s.textContent=f),c=L(S),fe(m.$$.fragment,S),p=L(S),fe(C.$$.fragment,S),S.forEach(d),this.h()},h(){u(t,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),u(e,"class","bg-box svelte-184ua4x"),u(e,"id","base_for_entities_"+n[5]),u(s,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),u(o,"class","bg-box svelte-184ua4x"),u(o,"id","base_for_entities_"+n[5])},m(E,z){T(E,e,z),h(e,t),h(e,i),oe(r,e,null),T(E,a,z),T(E,o,z),h(o,s),h(o,c),oe(m,o,null),h(o,p),oe(C,o,null),O=!0},p(E,z){var G,B,k;const S={};z&3&&(S.data=(G=E[0][E[1].index].metadata_prov_stats)==null?void 0:G.base_for_entities),r.$set(S);const P={};z&3&&(P.data=(B=E[0][E[1].index].metadata_prov_stats)==null?void 0:B.source_entities),m.$set(P);const j={};z&3&&(j.data=(k=E[0][E[1].index].metadata_prov_stats)==null?void 0:k.result_entities),C.$set(j)},i(E){O||(D(r.$$.fragment,E),D(m.$$.fragment,E),D(C.$$.fragment,E),O=!0)},o(E){I(r.$$.fragment,E),I(m.$$.fragment,E),I(C.$$.fragment,E),O=!1},d(E){E&&(d(e),d(a),d(o)),se(r),se(m),se(C)}}}function pn(n){let e;return{c(){e=te("currently no metadata available")},l(t){e=ee(t,"currently no metadata available")},m(t,l){T(t,e,l)},p:le,i:le,o:le,d(t){t&&d(e)}}}function vn(n){let e,t,l,i,r,a="metadata",o,s,f,c;l=new et({});let m=n[0][n[1].index].metadata&&n[0][n[1].index].metadata_show&&Pt(n);return{c(){e=b("button"),t=b("a"),ue(l.$$.fragment),i=N(),r=b("div"),r.textContent=a,s=N(),m&&m.c(),f=de(),this.h()},l(p){e=g(p,"BUTTON",{class:!0});var C=y(e);t=g(C,"A",{href:!0,class:!0,title:!0});var O=y(t);fe(l.$$.fragment,O),i=L(O),r=g(O,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-xp3lgr"&&(r.textContent=a),O.forEach(d),C.forEach(d),s=L(p),m&&m.l(p),f=de(),this.h()},h(){u(r,"class","ml-1 flex place-items-center justify-items-center"),u(t,"href",o=ye+"/climate/get_temp_file?name="+n[0][n[1].index].filename+"&type="+n[2]+"&filetype=meta"),u(t,"class","flex"),u(t,"title","Download metadata file"),u(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(p,C){T(p,e,C),h(e,t),oe(l,t,null),h(t,i),h(t,r),T(p,s,C),m&&m.m(p,C),T(p,f,C),c=!0},p(p,C){(!c||C&7&&o!==(o=ye+"/climate/get_temp_file?name="+p[0][p[1].index].filename+"&type="+p[2]+"&filetype=meta"))&&u(t,"href",o),p[0][p[1].index].metadata&&p[0][p[1].index].metadata_show?m?(m.p(p,C),C&3&&D(m,1)):(m=Pt(p),m.c(),D(m,1),m.m(f.parentNode,f)):m&&($e(),I(m,1,1,()=>{m=null}),Ce())},i(p){c||(D(l.$$.fragment,p),D(m),c=!0)},o(p){I(l.$$.fragment,p),I(m),c=!1},d(p){p&&(d(e),d(s),d(f)),se(l),m&&m.d(p)}}}function Pt(n){let e,t;return e=new Ol({props:{data:n[0][n[1].index].metadata}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,i){oe(e,l,i),t=!0},p(l,i){const r={};i&3&&(r.data=l[0][l[1].index].metadata),e.$set(r)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function gn(n){let e,t,l,i;const r=[cn,un,fn,on,sn],a=[];function o(s,f){return s[3]===0?0:s[3]===1?1:s[3]===2?2:s[3]===3?3:s[3]===4?4:-1}return~(e=o(n))&&(t=a[e]=r[e](n)),{c(){t&&t.c(),l=de()},l(s){t&&t.l(s),l=de()},m(s,f){~e&&a[e].m(s,f),T(s,l,f),i=!0},p(s,f){let c=e;e=o(s),e===c?~e&&a[e].p(s,f):(t&&($e(),I(a[c],1,1,()=>{a[c]=null}),Ce()),~e?(t=a[e],t?t.p(s,f):(t=a[e]=r[e](s),t.c()),D(t,1),t.m(l.parentNode,l)):t=null)},i(s){i||(D(t),i=!0)},o(s){I(t),i=!1},d(s){s&&d(l),~e&&a[e].d(s)}}}function bn(n){let e,t,l;return t=new Ul({props:{$$slots:{panel:[gn],default:[an]},$$scope:{ctx:n}}}),{c(){e=b("div"),ue(t.$$.fragment),this.h()},l(i){e=g(i,"DIV",{class:!0});var r=y(e);fe(t.$$.fragment,r),r.forEach(d),this.h()},h(){u(e,"class","bg-surface-700")},m(i,r){T(i,e,r),oe(t,e,null),l=!0},p(i,[r]){const a={};r&16415&&(a.$$scope={dirty:r,ctx:i}),t.$set(a)},i(i){l||(D(t.$$.fragment,i),l=!0)},o(i){I(t.$$.fragment,i),l=!1},d(i){i&&d(e),se(t)}}}function wn(n,e,t){let l,{folder_data:i}=e,{file_obj:r}=e,{foldertype:a}=e,o=i[r.index].tabset,s=Math.random().toString(36).substring(2,15);function f($){n.$$.not_equal(i[r.index].metadata_prov,$)&&(i[r.index].metadata_prov=$,t(0,i))}function c($){n.$$.not_equal(i[r.index].metadata_prov_stats,$)&&(i[r.index].metadata_prov_stats=$,t(0,i))}function m($){l=$,t(4,l),t(0,i),t(1,r)}function p($){o=$,t(3,o)}function C($){o=$,t(3,o)}function O($){o=$,t(3,o)}function M($){o=$,t(3,o)}function H($){o=$,t(3,o)}return n.$$set=$=>{"folder_data"in $&&t(0,i=$.folder_data),"file_obj"in $&&t(1,r=$.file_obj),"foldertype"in $&&t(2,a=$.foldertype)},n.$$.update=()=>{n.$$.dirty&3&&t(4,l=i[r.index].filename)},[i,r,a,o,l,s,f,c,m,p,C,O,M,H]}class kn extends ft{constructor(e){super(),ut(this,e,wn,bn,st,{folder_data:0,file_obj:1,foldertype:2})}}function Rt(n,e,t){const l=n.slice();return l[87]=e[t][0],l[88]=e[t][1],l[90]=t,l}function Ht(n,e,t){const l=n.slice();return l[91]=e[t],l[92]=e,l[93]=t,l}function Gt(n,e,t){const l=n.slice();return l[94]=e[t],l}function Ft(n,e,t){const l=n.slice();return l[94]=e[t],l}function qt(n,e,t){const l=n.slice();return l[94]=e[t],l}function xt(n,e,t){const l=n.slice();return l[94]=e[t],l}function Wt(n,e,t){const l=n.slice();return l[94]=e[t],l}function Yt(n){let e,t,l="Force Update",i,r;return{c(){e=b("div"),t=b("button"),t.textContent=l,this.h()},l(a){e=g(a,"DIV",{class:!0});var o=y(e);t=g(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-c1ydu0"&&(t.textContent=l),o.forEach(d),this.h()},h(){u(t,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(e,"class","ml-10 mt-4")},m(a,o){T(a,e,o),h(e,t),i||(r=ae(t,"click",n[39]),i=!0)},p:le,d(a){a&&d(e),i=!1,r()}}}function Jt(n){let e,t=Oe(n[9]),l=[];for(let i=0;i<t.length;i+=1)l[i]=Kt(Wt(n,t,i));return{c(){e=b("div");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=g(i,"DIV",{class:!0});var r=y(e);for(let a=0;a<l.length;a+=1)l[a].l(r);r.forEach(d),this.h()},h(){u(e,"class","grid gap-2 justify-start items-center ml-2 grid-cols-[repeat(auto-fit,minmax(120px,_120px))]")},m(i,r){T(i,e,r);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(i,r){if(r[0]&1073758784){t=Oe(i[9]);let a;for(a=0;a<t.length;a+=1){const o=Wt(i,t,a);l[a]?l[a].p(o,r):(l[a]=Kt(o),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(i){i&&d(e),ot(l,i)}}}function Kt(n){let e,t,l=Dt(n[94]).replaceAll("_","_​")+"",i,r,a,o,s;return{c(){e=b("div"),t=b("button"),i=te(l),a=N(),this.h()},l(f){e=g(f,"DIV",{});var c=y(e);t=g(c,"BUTTON",{class:!0,style:!0});var m=y(t);i=ee(m,l),m.forEach(d),a=L(c),c.forEach(d),this.h()},h(){u(t,"class",r="w-[120px] h-["+n[6]+"px] break-words variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14].includes(String(n[94]))?"font-bold":"")),at(t,"height",n[6]+"px")},m(f,c){T(f,e,c),h(e,t),h(t,i),h(e,a),o||(s=ae(t,"click",function(){Vl(n[30](n[94]))&&n[30](n[94]).apply(this,arguments)}),o=!0)},p(f,c){n=f,c[0]&512&&l!==(l=Dt(n[94]).replaceAll("_","_​")+"")&&ze(i,l),c[0]&16960&&r!==(r="w-[120px] h-["+n[6]+"px] break-words variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[14].includes(String(n[94]))?"font-bold":""))&&u(t,"class",r),c[0]&64&&at(t,"height",n[6]+"px")},d(f){f&&d(e),o=!1,s()}}}function Zt(n){let e,t,l=n[10].some(kl),i,r,a,o=n[11].some(wl),s,f,c,m=n[12].some(bl),p,C,O=n[13].some(gl),M=l&&Qt(),H=Oe(n[10]),$=[];for(let k=0;k<H.length;k+=1)$[k]=el(xt(n,H,k));let E=o&&tl(n),z=Oe(n[11]),S=[];for(let k=0;k<z.length;k+=1)S[k]=nl(qt(n,z,k));let P=m&&il(n),j=Oe(n[12]),G=[];for(let k=0;k<j.length;k+=1)G[k]=al(Ft(n,j,k));let B=O&&sl(n);return{c(){e=b("div"),t=b("div"),M&&M.c(),i=N();for(let k=0;k<$.length;k+=1)$[k].c();r=N(),a=b("div"),E&&E.c(),s=N();for(let k=0;k<S.length;k+=1)S[k].c();f=N(),c=b("div"),P&&P.c(),p=N();for(let k=0;k<G.length;k+=1)G[k].c();C=N(),B&&B.c(),this.h()},l(k){e=g(k,"DIV",{});var _=y(e);t=g(_,"DIV",{class:!0});var v=y(t);M&&M.l(v),i=L(v);for(let Z=0;Z<$.length;Z+=1)$[Z].l(v);v.forEach(d),r=L(_),a=g(_,"DIV",{class:!0});var W=y(a);E&&E.l(W),s=L(W);for(let Z=0;Z<S.length;Z+=1)S[Z].l(W);W.forEach(d),f=L(_),c=g(_,"DIV",{class:!0});var J=y(c);P&&P.l(J),p=L(J);for(let Z=0;Z<G.length;Z+=1)G[Z].l(J);J.forEach(d),C=L(_),B&&B.l(_),_.forEach(d),this.h()},h(){u(t,"class","flow gap-2 items-center ml-2"),u(a,"class","flow gap-2 items-center ml-2"),u(c,"class","flow gap-2 items-center ml-2")},m(k,_){T(k,e,_),h(e,t),M&&M.m(t,null),h(t,i);for(let v=0;v<$.length;v+=1)$[v]&&$[v].m(t,null);h(e,r),h(e,a),E&&E.m(a,null),h(a,s);for(let v=0;v<S.length;v+=1)S[v]&&S[v].m(a,null);h(e,f),h(e,c),P&&P.m(c,null),h(c,p);for(let v=0;v<G.length;v+=1)G[v]&&G[v].m(c,null);h(e,C),B&&B.m(e,null)},p(k,_){if(_[0]&1024&&(l=k[10].some(kl)),l?M||(M=Qt(),M.c(),M.m(t,i)):M&&(M.d(1),M=null),_[0]&33792|_[1]&1){H=Oe(k[10]);let v;for(v=0;v<H.length;v+=1){const W=xt(k,H,v);$[v]?$[v].p(W,_):($[v]=el(W),$[v].c(),$[v].m(t,null))}for(;v<$.length;v+=1)$[v].d(1);$.length=H.length}if(_[0]&2048&&(o=k[11].some(wl)),o?E?E.p(k,_):(E=tl(k),E.c(),E.m(a,s)):E&&(E.d(1),E=null),_[0]&34816|_[1]&1){z=Oe(k[11]);let v;for(v=0;v<z.length;v+=1){const W=qt(k,z,v);S[v]?S[v].p(W,_):(S[v]=nl(W),S[v].c(),S[v].m(a,null))}for(;v<S.length;v+=1)S[v].d(1);S.length=z.length}if(_[0]&4096&&(m=k[12].some(bl)),m?P?P.p(k,_):(P=il(k),P.c(),P.m(c,p)):P&&(P.d(1),P=null),_[0]&36864|_[1]&1){j=Oe(k[12]);let v;for(v=0;v<j.length;v+=1){const W=Ft(k,j,v);G[v]?G[v].p(W,_):(G[v]=al(W),G[v].c(),G[v].m(c,null))}for(;v<G.length;v+=1)G[v].d(1);G.length=j.length}_[0]&8192&&(O=k[13].some(gl)),O?B?B.p(k,_):(B=sl(k),B.c(),B.m(e,null)):B&&(B.d(1),B=null)},d(k){k&&d(e),M&&M.d(),ot($,k),E&&E.d(),ot(S,k),P&&P.d(),ot(G,k),B&&B.d()}}}function Qt(n){let e,t="⏳ Δ- ⟶⌛:";return{c(){e=b("span"),e.textContent=t,this.h()},l(l){e=g(l,"SPAN",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1e3ro3x"&&(e.textContent=t),this.h()},h(){u(e,"class","mr-3")},m(l,i){T(l,e,i)},d(l){l&&d(e)}}}function Xt(n){let e,t=n[94].time+"",l,i,r,a;function o(){return n[42](n[94])}return{c(){e=b("button"),l=te(t),this.h()},l(s){e=g(s,"BUTTON",{class:!0});var f=y(e);l=ee(f,t),f.forEach(d),this.h()},h(){u(e,"class",i="w-[220px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[94].time?"font-bold":""))},m(s,f){T(s,e,f),h(e,l),r||(a=ae(e,"click",o),r=!0)},p(s,f){n=s,f[0]&1024&&t!==(t=n[94].time+"")&&ze(l,t),f[0]&33792&&i!==(i="w-[220px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[94].time?"font-bold":""))&&u(e,"class",i)},d(s){s&&d(e),r=!1,a()}}}function el(n){let e,t=n[94].show=="true"&&Xt(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),T(l,e,i)},p(l,i){l[94].show=="true"?t?t.p(l,i):(t=Xt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&d(e),t&&t.d(l)}}}function tl(n){let e,t,l,i,r,a;return{c(){e=te(`⏳ 20y ⟶ ⌛:
					`),t=b("button"),l=te("all 20y"),this.h()},l(o){e=ee(o,`⏳ 20y ⟶ ⌛:
					`),t=g(o,"BUTTON",{class:!0});var s=y(t);l=ee(s,"all 20y"),s.forEach(d),this.h()},h(){u(t,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]==="20y"?"font-bold":""))},m(o,s){T(o,e,s),T(o,t,s),h(t,l),r||(a=ae(t,"click",n[43]),r=!0)},p(o,s){s[0]&32768&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(o[15]==="20y"?"font-bold":""))&&u(t,"class",i)},d(o){o&&(d(e),d(t)),r=!1,a()}}}function ll(n){let e,t=n[94].time+"",l,i,r,a;function o(){return n[44](n[94])}return{c(){e=b("button"),l=te(t),this.h()},l(s){e=g(s,"BUTTON",{class:!0});var f=y(e);l=ee(f,t),f.forEach(d),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[94].time?"font-bold":""))},m(s,f){T(s,e,f),h(e,l),r||(a=ae(e,"click",o),r=!0)},p(s,f){n=s,f[0]&2048&&t!==(t=n[94].time+"")&&ze(l,t),f[0]&34816&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[94].time?"font-bold":""))&&u(e,"class",i)},d(s){s&&d(e),r=!1,a()}}}function nl(n){let e,t=n[94].show=="true"&&ll(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),T(l,e,i)},p(l,i){l[94].show=="true"?t?t.p(l,i):(t=ll(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&d(e),t&&t.d(l)}}}function il(n){let e,t,l,i,r,a;return{c(){e=te(`⏳ 30y ⟶ ⌛:
					`),t=b("button"),l=te("all 30y"),this.h()},l(o){e=ee(o,`⏳ 30y ⟶ ⌛:
					`),t=g(o,"BUTTON",{class:!0});var s=y(t);l=ee(s,"all 30y"),s.forEach(d),this.h()},h(){u(t,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]==="30y"?"font-bold":""))},m(o,s){T(o,e,s),T(o,t,s),h(t,l),r||(a=ae(t,"click",n[45]),r=!0)},p(o,s){s[0]&32768&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(o[15]==="30y"?"font-bold":""))&&u(t,"class",i)},d(o){o&&(d(e),d(t)),r=!1,a()}}}function rl(n){let e,t=n[94].time+"",l,i,r,a;function o(){return n[46](n[94])}return{c(){e=b("button"),l=te(t),this.h()},l(s){e=g(s,"BUTTON",{class:!0});var f=y(e);l=ee(f,t),f.forEach(d),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[94].time?"font-bold":""))},m(s,f){T(s,e,f),h(e,l),r||(a=ae(e,"click",o),r=!0)},p(s,f){n=s,f[0]&4096&&t!==(t=n[94].time+"")&&ze(l,t),f[0]&36864&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[15]===n[94].time?"font-bold":""))&&u(e,"class",i)},d(s){s&&d(e),r=!1,a()}}}function al(n){let e,t=n[94].show=="true"&&rl(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),T(l,e,i)},p(l,i){l[94].show=="true"?t?t.p(l,i):(t=rl(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&d(e),t&&t.d(l)}}}function sl(n){let e,t,l=Oe(n[13]),i=[];for(let r=0;r<l.length;r+=1)i[r]=fl(Gt(n,l,r));return{c(){e=b("div"),t=te(`Σ Sum / Avg:
					`);for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=g(r,"DIV",{class:!0});var a=y(e);t=ee(a,`Σ Sum / Avg:
					`);for(let o=0;o<i.length;o+=1)i[o].l(a);a.forEach(d),this.h()},h(){u(e,"class","flow gap-2 items-center ml-2")},m(r,a){T(r,e,a),h(e,t);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(r,a){if(a[0]&73728|a[1]&2){l=Oe(r[13]);let o;for(o=0;o<l.length;o+=1){const s=Gt(r,l,o);i[o]?i[o].p(s,a):(i[o]=fl(s),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=l.length}},d(r){r&&d(e),ot(i,r)}}}function ol(n){let e,t=n[94].time+"",l,i,r,a;function o(){return n[47](n[94])}return{c(){e=b("button"),l=te(t),this.h()},l(s){e=g(s,"BUTTON",{class:!0});var f=y(e);l=ee(f,t),f.forEach(d),this.h()},h(){u(e,"class",i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[16]===n[94].time?"font-bold":""))},m(s,f){T(s,e,f),h(e,l),r||(a=ae(e,"click",o),r=!0)},p(s,f){n=s,f[0]&8192&&t!==(t=n[94].time+"")&&ze(l,t),f[0]&73728&&i!==(i="w-[120px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2 "+(n[16]===n[94].time?"font-bold":""))&&u(e,"class",i)},d(s){s&&d(e),r=!1,a()}}}function fl(n){let e,t=n[94].show=="true"&&ol(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,i){t&&t.m(l,i),T(l,e,i)},p(l,i){l[94].show=="true"?t?t.p(l,i):(t=ol(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&d(e),t&&t.d(l)}}}function yn(n){let e,t,l;return t=new Al({}),{c(){e=b("div"),ue(t.$$.fragment),this.h()},l(i){e=g(i,"DIV",{class:!0});var r=y(e);fe(t.$$.fragment,r),r.forEach(d),this.h()},h(){u(e,"class","flex-center")},m(i,r){T(i,e,r),oe(t,e,null),l=!0},p:le,i(i){l||(D(t.$$.fragment,i),l=!0)},o(i){I(t.$$.fragment,i),l=!1},d(i){i&&d(e),se(t)}}}function $n(n){let e,t,l,i,r,a=n[3].filter(yl).length+"",o,s,f,c,m,p,C,O,M,H,$,E,z,S,P,j,G,B,k,_,v,W,J,Z,re,be,Q,he,q,x,ne=Oe(Object.entries(n[2])),R=[];for(let Y=0;Y<ne.length;Y+=1)R[Y]=pl(Rt(n,ne,Y));const ve=Y=>I(R[Y],1,1,()=>{R[Y]=null});return he=Tl(n[64][0]),{c(){e=b("div");for(let Y=0;Y<R.length;Y+=1)R[Y].c();t=N(),l=b("div"),i=b("button"),r=te("Generate Wget link for download ("),o=te(a),s=te(" selected)"),f=N(),c=b("div"),m=b("div"),p=b("label"),C=b("input"),O=te(`
						Filetype .nc`),M=N(),H=b("label"),$=b("input"),E=te(`
						Filetype .nc (clipped)`),z=N(),S=b("div"),P=b("label"),j=b("input"),G=te(`
						Filetype .dat`),B=N(),k=b("label"),_=b("input"),v=te(`
						Filetype .dat (clipped)`),W=N(),J=b("div"),Z=b("label"),re=b("input"),be=te(`
						Filetype .tiff`),this.h()},l(Y){e=g(Y,"DIV",{class:!0});var X=y(e);for(let Le=0;Le<R.length;Le+=1)R[Le].l(X);X.forEach(d),t=L(Y),l=g(Y,"DIV",{class:!0});var F=y(l);i=g(F,"BUTTON",{type:!0,class:!0});var ie=y(i);r=ee(ie,"Generate Wget link for download ("),o=ee(ie,a),s=ee(ie," selected)"),ie.forEach(d),f=L(F),c=g(F,"DIV",{class:!0});var ke=y(c);m=g(ke,"DIV",{});var Ae=y(m);p=g(Ae,"LABEL",{});var Ee=y(p);C=g(Ee,"INPUT",{type:!0,name:!0}),O=ee(Ee,`
						Filetype .nc`),Ee.forEach(d),M=L(Ae),H=g(Ae,"LABEL",{});var Me=y(H);$=g(Me,"INPUT",{type:!0,name:!0}),E=ee(Me,`
						Filetype .nc (clipped)`),Me.forEach(d),Ae.forEach(d),z=L(ke),S=g(ke,"DIV",{});var we=y(S);P=g(we,"LABEL",{});var Se=y(P);j=g(Se,"INPUT",{type:!0,name:!0}),G=ee(Se,`
						Filetype .dat`),Se.forEach(d),B=L(we),k=g(we,"LABEL",{});var me=y(k);_=g(me,"INPUT",{type:!0,name:!0}),v=ee(me,`
						Filetype .dat (clipped)`),me.forEach(d),we.forEach(d),W=L(ke),J=g(ke,"DIV",{});var qe=y(J);Z=g(qe,"LABEL",{});var _e=y(Z);re=g(_e,"INPUT",{type:!0,name:!0}),be=ee(_e,`
						Filetype .tiff`),_e.forEach(d),qe.forEach(d),ke.forEach(d),F.forEach(d),this.h()},h(){u(e,"class","p-2"),u(i,"type","button"),u(i,"class","btn bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(C,"type","radio"),u(C,"name","filetype"),C.__value="nc",lt(C,C.__value),u($,"type","radio"),u($,"name","filetype"),$.__value="nc_clipped",lt($,$.__value),u(j,"type","radio"),u(j,"name","filetype"),j.__value="dat",lt(j,j.__value),u(_,"type","radio"),u(_,"name","filetype"),_.__value="dat_clipped",lt(_,_.__value),u(re,"type","radio"),u(re,"name","filetype"),re.__value="tif",lt(re,re.__value),u(c,"class","filetype-selector flex"),u(l,"class","flex gap-x-1 pl-2"),he.p(C,$,j,_,re)},m(Y,X){T(Y,e,X);for(let F=0;F<R.length;F+=1)R[F]&&R[F].m(e,null);T(Y,t,X),T(Y,l,X),h(l,i),h(i,r),h(i,o),h(i,s),h(l,f),h(l,c),h(c,m),h(m,p),h(p,C),C.checked=C.__value===n[17],h(p,O),h(m,M),h(m,H),h(H,$),$.checked=$.__value===n[17],h(H,E),h(c,z),h(c,S),h(S,P),h(P,j),j.checked=j.__value===n[17],h(P,G),h(S,B),h(S,k),h(k,_),_.checked=_.__value===n[17],h(k,v),h(c,W),h(c,J),h(J,Z),h(Z,re),re.checked=re.__value===n[17],h(Z,be),Q=!0,q||(x=[ae(i,"click",Dl(n[25])),ae(C,"change",n[63]),ae(C,"change",n[33]),ae($,"change",n[65]),ae($,"change",n[33]),ae(j,"change",n[66]),ae(j,"change",n[33]),ae(_,"change",n[67]),ae(_,"change",n[33]),ae(re,"change",n[68]),ae(re,"change",n[33])],q=!0)},p(Y,X){if(X[0]&739885215){ne=Oe(Object.entries(Y[2]));let F;for(F=0;F<ne.length;F+=1){const ie=Rt(Y,ne,F);R[F]?(R[F].p(ie,X),D(R[F],1)):(R[F]=pl(ie),R[F].c(),D(R[F],1),R[F].m(e,null))}for($e(),F=ne.length;F<R.length;F+=1)ve(F);Ce()}(!Q||X[0]&8)&&a!==(a=Y[3].filter(yl).length+"")&&ze(o,a),X[0]&131072&&(C.checked=C.__value===Y[17]),X[0]&131072&&($.checked=$.__value===Y[17]),X[0]&131072&&(j.checked=j.__value===Y[17]),X[0]&131072&&(_.checked=_.__value===Y[17]),X[0]&131072&&(re.checked=re.__value===Y[17])},i(Y){if(!Q){for(let X=0;X<ne.length;X+=1)D(R[X]);Q=!0}},o(Y){R=R.filter(Boolean);for(let X=0;X<R.length;X+=1)I(R[X]);Q=!1},d(Y){Y&&(d(e),d(t),d(l)),ot(R,Y),he.r(),q=!1,Vt(x)}}}function Cn(n){let e,t;return e=new $l({props:{h:"24px"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,i){oe(e,l,i),t=!0},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function En(n){let e,t;return e=new Cl({props:{h:"28px",w:"26px"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,i){oe(e,l,i),t=!0},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function ul(n){let e,t="⚠";return{c(){e=b("span"),e.textContent=t,this.h()},l(l){e=g(l,"SPAN",{title:!0,"data-svelte-h":!0}),ge(e)!=="svelte-148jvi0"&&(e.textContent=t),this.h()},h(){u(e,"title","Caution: This dataset may contain errors. We are currently investigating and will replace it once the issue is resolved. ")},m(l,i){T(l,e,i)},d(l){l&&d(e)}}}function Tn(n){let e,t="Hide",l,i;function r(){return n[56](n[91])}return{c(){e=b("button"),e.textContent=t,this.h()},l(a){e=g(a,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ge(e)!=="svelte-nqhp4m"&&(e.textContent=t),this.h()},h(){u(e,"class","ml-5 max-h-[33px] p-1 flex items-center justify-center variant-filled-surface hover:bg-tertiary-900 rounded-md"),u(e,"title","Show metadata and provenance information")},m(a,o){T(a,e,o),l||(i=ae(e,"click",r),l=!0)},p(a,o){n=a},d(a){a&&d(e),l=!1,i()}}}function Dn(n){let e,t="Show",l,i;function r(){return n[55](n[91])}return{c(){e=b("button"),e.textContent=t,this.h()},l(a){e=g(a,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1od4l2q"&&(e.textContent=t),this.h()},h(){u(e,"class","ml-5 max-h-[33px] p-1 flex items-center justify-center variant-filled-surface hover:bg-tertiary-900 rounded-md"),u(e,"title","Show metadata and provenance information")},m(a,o){T(a,e,o),l||(i=ae(e,"click",r),l=!0)},p(a,o){n=a},d(a){a&&d(e),l=!1,i()}}}function Vn(n){let e,t,l,i,r,a=n[1][n[91].index].filesuffix+"",o,s,f;return l=new et({}),{c(){e=b("button"),t=b("a"),ue(l.$$.fragment),i=N(),r=b("div"),o=te(a),this.h()},l(c){e=g(c,"BUTTON",{class:!0});var m=y(e);t=g(m,"A",{href:!0,class:!0});var p=y(t);fe(l.$$.fragment,p),i=L(p),r=g(p,"DIV",{class:!0});var C=y(r);o=ee(C,a),C.forEach(d),p.forEach(d),m.forEach(d),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",s=ye+"/climate/get_temp_file?name="+n[1][n[91].index].filename+"&type="+n[7]+"&filetype=dat"),u(t,"class","flex"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(c,m){T(c,e,m),h(e,t),oe(l,t,null),h(t,i),h(t,r),h(r,o),f=!0},p(c,m){(!f||m[0]&6)&&a!==(a=c[1][c[91].index].filesuffix+"")&&ze(o,a),(!f||m[0]&134&&s!==(s=ye+"/climate/get_temp_file?name="+c[1][c[91].index].filename+"&type="+c[7]+"&filetype=dat"))&&u(t,"href",s)},i(c){f||(D(l.$$.fragment,c),f=!0)},o(c){I(l.$$.fragment,c),f=!1},d(c){c&&d(e),se(l)}}}function In(n){let e,t,l,i,r,a=".nc",o,s,f,c,m,p,C,O,M,H,$;l=new et({});let E=n[1][n[91].index].nc_clipped_exists&&cl(n);const z=[Bn,Nn,Ln],S=[];function P(_,v){return _[1][_[91].index].dat_exists?0:_[1][_[91].index].in_limit_conversion?1:2}c=P(n),m=S[c]=z[c](n);let j=n[1][n[91].index].dat_clipped_exists&&_l(n);const G=[Mn,An,Sn],B=[];function k(_,v){return _[1][_[91].index].tif_convertable&&!_[1][_[91].index].tif_exists?0:_[1][_[91].index].tif_exists?1:2}return O=k(n),M=B[O]=G[O](n),{c(){e=b("button"),t=b("a"),ue(l.$$.fragment),i=N(),r=b("div"),r.textContent=a,s=N(),E&&E.c(),f=N(),m.c(),p=N(),j&&j.c(),C=N(),M.c(),H=de(),this.h()},l(_){e=g(_,"BUTTON",{class:!0});var v=y(e);t=g(v,"A",{href:!0,class:!0,title:!0});var W=y(t);fe(l.$$.fragment,W),i=L(W),r=g(W,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-1g3y8ic"&&(r.textContent=a),W.forEach(d),v.forEach(d),s=L(_),E&&E.l(_),f=L(_),m.l(_),p=L(_),j&&j.l(_),C=L(_),M.l(_),H=de(),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ye+"/climate/get_temp_file?name="+n[1][n[91].index].filename+"&type="+n[7]+"&filetype=nc"),u(t,"class","flex"),u(t,"title","Download .nc file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center variant-filled-primary hover:bg-tertiary-900 justify-center rounded-md")},m(_,v){T(_,e,v),h(e,t),oe(l,t,null),h(t,i),h(t,r),T(_,s,v),E&&E.m(_,v),T(_,f,v),S[c].m(_,v),T(_,p,v),j&&j.m(_,v),T(_,C,v),B[O].m(_,v),T(_,H,v),$=!0},p(_,v){(!$||v[0]&134&&o!==(o=ye+"/climate/get_temp_file?name="+_[1][_[91].index].filename+"&type="+_[7]+"&filetype=nc"))&&u(t,"href",o),_[1][_[91].index].nc_clipped_exists?E?(E.p(_,v),v[0]&6&&D(E,1)):(E=cl(_),E.c(),D(E,1),E.m(f.parentNode,f)):E&&($e(),I(E,1,1,()=>{E=null}),Ce());let W=c;c=P(_),c===W?S[c].p(_,v):($e(),I(S[W],1,1,()=>{S[W]=null}),Ce(),m=S[c],m?m.p(_,v):(m=S[c]=z[c](_),m.c()),D(m,1),m.m(p.parentNode,p)),_[1][_[91].index].dat_clipped_exists?j?(j.p(_,v),v[0]&6&&D(j,1)):(j=_l(_),j.c(),D(j,1),j.m(C.parentNode,C)):j&&($e(),I(j,1,1,()=>{j=null}),Ce());let J=O;O=k(_),O===J?B[O].p(_,v):($e(),I(B[J],1,1,()=>{B[J]=null}),Ce(),M=B[O],M?M.p(_,v):(M=B[O]=G[O](_),M.c()),D(M,1),M.m(H.parentNode,H))},i(_){$||(D(l.$$.fragment,_),D(E),D(m),D(j),D(M),$=!0)},o(_){I(l.$$.fragment,_),I(E),I(m),I(j),I(M),$=!1},d(_){_&&(d(e),d(s),d(f),d(p),d(C),d(H)),se(l),E&&E.d(_),S[c].d(_),j&&j.d(_),B[O].d(_)}}}function cl(n){let e,t,l,i,r,a=".nc(c)",o,s;return l=new et({}),{c(){e=b("button"),t=b("a"),ue(l.$$.fragment),i=N(),r=b("div"),r.textContent=a,this.h()},l(f){e=g(f,"BUTTON",{class:!0});var c=y(e);t=g(c,"A",{href:!0,class:!0,title:!0});var m=y(t);fe(l.$$.fragment,m),i=L(m),r=g(m,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-1jbdvqs"&&(r.textContent=a),m.forEach(d),c.forEach(d),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ye+"/climate/get_temp_file?name="+n[1][n[91].index].filename+"&type="+n[7]+"&filetype=nc_clipped"),u(t,"class","flex"),u(t,"title","Download clipped .nc file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){T(f,e,c),h(e,t),oe(l,t,null),h(t,i),h(t,r),s=!0},p(f,c){(!s||c[0]&134&&o!==(o=ye+"/climate/get_temp_file?name="+f[1][f[91].index].filename+"&type="+f[7]+"&filetype=nc_clipped"))&&u(t,"href",o)},i(f){s||(D(l.$$.fragment,f),s=!0)},o(f){I(l.$$.fragment,f),s=!1},d(f){f&&d(e),se(l)}}}function Ln(n){let e,t="";return{c(){e=b("div"),e.innerHTML=t,this.h()},l(l){e=g(l,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-qcdn79"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){T(l,e,i)},p:le,i:le,o:le,d(l){l&&d(e)}}}function Nn(n){let e,t,l,i,r=".dat",a,o,s;t=new et({});function f(){return n[57](n[91])}return{c(){e=b("button"),ue(t.$$.fragment),l=N(),i=b("div"),i.textContent=r,this.h()},l(c){e=g(c,"BUTTON",{class:!0,title:!0});var m=y(e);fe(t.$$.fragment,m),l=L(m),i=g(m,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-1uzok2n"&&(i.textContent=r),m.forEach(d),this.h()},h(){u(i,"class","ml-1 flex place-items-center justify-items-center"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md"),u(e,"title","Generate .dat file for download")},m(c,m){T(c,e,m),oe(t,e,null),h(e,l),h(e,i),a=!0,o||(s=ae(e,"click",f),o=!0)},p(c,m){n=c},i(c){a||(D(t.$$.fragment,c),a=!0)},o(c){I(t.$$.fragment,c),a=!1},d(c){c&&d(e),se(t),o=!1,s()}}}function Bn(n){let e,t,l,i,r,a=".dat",o,s;return l=new et({}),{c(){e=b("button"),t=b("a"),ue(l.$$.fragment),i=N(),r=b("div"),r.textContent=a,this.h()},l(f){e=g(f,"BUTTON",{class:!0});var c=y(e);t=g(c,"A",{href:!0,class:!0,title:!0});var m=y(t);fe(l.$$.fragment,m),i=L(m),r=g(m,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-xhf5go"&&(r.textContent=a),m.forEach(d),c.forEach(d),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ye+"/climate/get_temp_file?name="+n[1][n[91].index].filename+"&type="+n[7]+"&filetype=dat"),u(t,"class","flex"),u(t,"title","Download .dat file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){T(f,e,c),h(e,t),oe(l,t,null),h(t,i),h(t,r),s=!0},p(f,c){(!s||c[0]&134&&o!==(o=ye+"/climate/get_temp_file?name="+f[1][f[91].index].filename+"&type="+f[7]+"&filetype=dat"))&&u(t,"href",o)},i(f){s||(D(l.$$.fragment,f),s=!0)},o(f){I(l.$$.fragment,f),s=!1},d(f){f&&d(e),se(l)}}}function _l(n){let e,t,l,i,r,a=".dat(c)",o,s;return l=new et({}),{c(){e=b("button"),t=b("a"),ue(l.$$.fragment),i=N(),r=b("div"),r.textContent=a,this.h()},l(f){e=g(f,"BUTTON",{class:!0});var c=y(e);t=g(c,"A",{href:!0,class:!0,title:!0});var m=y(t);fe(l.$$.fragment,m),i=L(m),r=g(m,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-484fei"&&(r.textContent=a),m.forEach(d),c.forEach(d),this.h()},h(){u(r,"class","ml-1 flex text-white place-items-center justify-items-center"),u(t,"href",o=ye+"/climate/get_temp_file?name="+n[1][n[91].index].filename+"&type="+n[7]+"&filetype=dat_clipped"),u(t,"class","flex"),u(t,"title","Download clipped .dat file"),u(e,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){T(f,e,c),h(e,t),oe(l,t,null),h(t,i),h(t,r),s=!0},p(f,c){(!s||c[0]&134&&o!==(o=ye+"/climate/get_temp_file?name="+f[1][f[91].index].filename+"&type="+f[7]+"&filetype=dat_clipped"))&&u(t,"href",o)},i(f){s||(D(l.$$.fragment,f),s=!0)},o(f){I(l.$$.fragment,f),s=!1},d(f){f&&d(e),se(l)}}}function Sn(n){let e,t="";return{c(){e=b("div"),e.innerHTML=t,this.h()},l(l){e=g(l,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-qcdn79"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){T(l,e,i)},p:le,i:le,o:le,d(l){l&&d(e)}}}function An(n){let e,t,l,i,r,a=".tif",o,s;return l=new et({}),{c(){e=b("button"),t=b("a"),ue(l.$$.fragment),i=N(),r=b("div"),r.textContent=a,this.h()},l(f){e=g(f,"BUTTON",{class:!0});var c=y(e);t=g(c,"A",{href:!0,class:!0,title:!0});var m=y(t);fe(l.$$.fragment,m),i=L(m),r=g(m,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-1jouijs"&&(r.textContent=a),m.forEach(d),c.forEach(d),this.h()},h(){u(r,"class","ml-1 text-white flex place-items-center justify-center"),u(t,"href",o=ye+"/climate/get_temp_file?name="+n[1][n[91].index].filename+"&type="+n[7]+"&filetype=tif"),u(t,"class","flex"),u(t,"title","Download TIFF file"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center variant-filled-primary hover:bg-tertiary-900 rounded-md")},m(f,c){T(f,e,c),h(e,t),oe(l,t,null),h(t,i),h(t,r),s=!0},p(f,c){(!s||c[0]&134&&o!==(o=ye+"/climate/get_temp_file?name="+f[1][f[91].index].filename+"&type="+f[7]+"&filetype=tif"))&&u(t,"href",o)},i(f){s||(D(l.$$.fragment,f),s=!0)},o(f){I(l.$$.fragment,f),s=!1},d(f){f&&d(e),se(l)}}}function Mn(n){let e,t,l,i,r=".tif",a,o,s;t=new et({});function f(){return n[58](n[91])}return{c(){e=b("button"),ue(t.$$.fragment),l=N(),i=b("div"),i.textContent=r,this.h()},l(c){e=g(c,"BUTTON",{class:!0,title:!0});var m=y(e);fe(t.$$.fragment,m),l=L(m),i=g(m,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-17agyo6"&&(i.textContent=r),m.forEach(d),this.h()},h(){u(i,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md"),u(e,"title","Generate TIFF file for download (might fail)")},m(c,m){T(c,e,m),oe(t,e,null),h(e,l),h(e,i),a=!0,o||(s=ae(e,"click",f),o=!0)},p(c,m){n=c},i(c){a||(D(t.$$.fragment,c),a=!0)},o(c){I(t.$$.fragment,c),a=!1},d(c){c&&d(e),se(t),o=!1,s()}}}function dl(n){let e,t,l,i;const r=[jn,Un],a=[];function o(s,f){return s[1][s[91].index].tif_convertable?0:1}return e=o(n),t=a[e]=r[e](n),{c(){t.c(),l=de()},l(s){t.l(s),l=de()},m(s,f){a[e].m(s,f),T(s,l,f),i=!0},p(s,f){let c=e;e=o(s),e===c?a[e].p(s,f):($e(),I(a[c],1,1,()=>{a[c]=null}),Ce(),t=a[e],t?t.p(s,f):(t=a[e]=r[e](s),t.c()),D(t,1),t.m(l.parentNode,l))},i(s){i||(D(t),i=!0)},o(s){I(t),i=!1},d(s){s&&d(l),a[e].d(s)}}}function Un(n){let e,t="";return{c(){e=b("div"),e.innerHTML=t,this.h()},l(l){e=g(l,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-rfwxo5"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(l,i){T(l,e,i)},p:le,i:le,o:le,d(l){l&&d(e)}}}function jn(n){let e,t,l,i,r="View",a,o,s,f;t=new ql({});function c(){return n[59](n[91])}return{c(){e=b("button"),ue(t.$$.fragment),l=N(),i=b("div"),i.textContent=r,this.h()},l(m){e=g(m,"BUTTON",{class:!0,title:!0});var p=y(e);fe(t.$$.fragment,p),l=L(p),i=g(p,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-4n39fu"&&(i.textContent=r),p.forEach(d),this.h()},h(){u(i,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-primary hover:bg-primary-900 rounded-md"),u(e,"title",a="Visualize on map. Note: This will download the file to your browser (~"+n[1][n[91].index].filesize+").")},m(m,p){T(m,e,p),oe(t,e,null),h(e,l),h(e,i),o=!0,s||(f=ae(e,"click",c),s=!0)},p(m,p){n=m,(!o||p[0]&6&&a!==(a="Visualize on map. Note: This will download the file to your browser (~"+n[1][n[91].index].filesize+")."))&&u(e,"title",a)},i(m){o||(D(t.$$.fragment,m),o=!0)},o(m){I(t.$$.fragment,m),o=!1},d(m){m&&d(e),se(t),s=!1,f()}}}function hl(n){let e,t,l;return t=new kn({props:{folder_data:n[1],file_obj:n[91],foldertype:n[7]}}),{c(){e=b("td"),ue(t.$$.fragment),this.h()},l(i){e=g(i,"TD",{colspan:!0});var r=y(e);fe(t.$$.fragment,r),r.forEach(d),this.h()},h(){u(e,"colspan","7")},m(i,r){T(i,e,r),oe(t,e,null),l=!0},p(i,r){const a={};r[0]&2&&(a.folder_data=i[1]),r[0]&4&&(a.file_obj=i[91]),r[0]&128&&(a.foldertype=i[7]),t.$set(a)},i(i){l||(D(t.$$.fragment,i),l=!0)},o(i){I(t.$$.fragment,i),l=!1},d(i){i&&d(e),se(t)}}}function ml(n){let e,t,l,i,r,a,o,s,f,c=n[1][n[91].index].filename.replace(n[87],"").replace(/^_+/,"")+"",m,p,C=n[1][n[91].index].filename.includes("_spi_")||n[1][n[91].index].filename.includes("_spei_"),O,M,H,$,E,z,S=n[1][n[91].index].filesize+"",P,j,G,B=(n[0]=="internal"?n[1][n[91].index].creation_date:n[1][n[91].index].creation_date.split(" ")[0])+"",k,_,v,W,J,Z,re,be,Q,he,q,x,ne,R,ve,Y,X;function F(){n[54].call(i,n[91])}let ie=C&&ul();function ke(ce,K){return ce[1][ce[91].index].metadata_show?Tn:Dn}let Ae=ke(n),Ee=Ae(n);const Me=[In,Vn],we=[];function Se(ce,K){return ce[1][ce[91].index].filesuffix==".nc"?0:1}J=Se(n),Z=we[J]=Me[J](n);let me=n[1][n[91].index].filesuffix==".nc"&&dl(n);function qe(...ce){return n[60](n[91],...ce)}let _e=n[1][n[91].index].metadata&&n[1][n[91].index].metadata_show&&hl(n);function Le(...ce){return n[61](n[91],...ce)}return{c(){e=b("tr"),t=b("td"),l=b("label"),i=b("input"),o=N(),s=b("span"),f=te("  ... "),m=te(c),p=N(),ie&&ie.c(),H=N(),$=b("td"),Ee.c(),E=N(),z=b("td"),P=te(S),j=N(),G=b("td"),k=te(B),_=N(),v=b("td"),W=b("div"),Z.c(),re=N(),be=b("td"),me&&me.c(),q=N(),x=b("tr"),_e&&_e.c(),ne=N(),this.h()},l(ce){e=g(ce,"TR",{class:!0,style:!0});var K=y(e);t=g(K,"TD",{class:!0});var He=y(t);l=g(He,"LABEL",{for:!0,title:!0});var Ue=y(l);i=g(Ue,"INPUT",{type:!0,id:!0}),o=L(Ue),s=g(Ue,"SPAN",{});var je=y(s);f=ee(je,"  ... "),m=ee(je,c),je.forEach(d),p=L(Ue),ie&&ie.l(Ue),Ue.forEach(d),He.forEach(d),H=L(K),$=g(K,"TD",{class:!0});var Ge=y($);Ee.l(Ge),Ge.forEach(d),E=L(K),z=g(K,"TD",{class:!0});var nt=y(z);P=ee(nt,S),nt.forEach(d),j=L(K),G=g(K,"TD",{class:!0});var it=y(G);k=ee(it,B),it.forEach(d),_=L(K),v=g(K,"TD",{class:!0});var Ne=y(v);W=g(Ne,"DIV",{class:!0});var Be=y(W);Z.l(Be),Be.forEach(d),Ne.forEach(d),re=L(K),be=g(K,"TD",{class:!0});var tt=y(be);me&&me.l(tt),tt.forEach(d),K.forEach(d),q=L(ce),x=g(ce,"TR",{class:!0});var Je=y(x);_e&&_e.l(Je),ne=L(Je),Je.forEach(d),this.h()},h(){u(i,"type","checkbox"),i.__value=r=n[91].index,lt(i,i.__value),u(i,"id",a="checkbox_"+n[91].index),St(s,"text-blue-300",n[3][n[91].index]),u(l,"for",O="checkbox_"+n[91].index),u(l,"title",M="Select for download: "+n[1][n[91].index].filename),u(t,"class","col-span-7 w-full break-all pl-1 svelte-swazax"),u($,"class","svelte-swazax"),u(z,"class","svelte-swazax"),u(G,"class","svelte-swazax"),u(W,"class","flex"),u(v,"class","min-w-[122px] svelte-swazax"),u(be,"class","min-w-[86px] max-w-[86px] svelte-swazax"),u(e,"class",Q="hover:bg-slate-400 border-t spaced-row "+([n[14].toLowerCase(),n[15],n[16]].every(qe)?"visible":"hidden")+" svelte-swazax"),u(e,"style",he=n[4]&&!n[1][n[91].index].in_limit_conversion&&n[3][n[91].index]?"background: #000000":""),u(x,"class",R=[n[14].toLowerCase(),n[15],n[16]].every(Le)?"visible":"hidden")},m(ce,K){T(ce,e,K),h(e,t),h(t,l),h(l,i),i.checked=n[3][n[91].index],h(l,o),h(l,s),h(s,f),h(s,m),h(l,p),ie&&ie.m(l,null),h(e,H),h(e,$),Ee.m($,null),h(e,E),h(e,z),h(z,P),h(e,j),h(e,G),h(G,k),h(e,_),h(e,v),h(v,W),we[J].m(W,null),h(e,re),h(e,be),me&&me.m(be,null),T(ce,q,K),T(ce,x,K),_e&&_e.m(x,null),h(x,ne),ve=!0,Y||(X=[ae(i,"change",F),ae(i,"change",n[20])],Y=!0)},p(ce,K){n=ce,(!ve||K[0]&4&&r!==(r=n[91].index))&&(i.__value=r,lt(i,i.__value)),(!ve||K[0]&4&&a!==(a="checkbox_"+n[91].index))&&u(i,"id",a),K[0]&12&&(i.checked=n[3][n[91].index]),(!ve||K[0]&6)&&c!==(c=n[1][n[91].index].filename.replace(n[87],"").replace(/^_+/,"")+"")&&ze(m,c),(!ve||K[0]&12)&&St(s,"text-blue-300",n[3][n[91].index]),K[0]&6&&(C=n[1][n[91].index].filename.includes("_spi_")||n[1][n[91].index].filename.includes("_spei_")),C?ie||(ie=ul(),ie.c(),ie.m(l,null)):ie&&(ie.d(1),ie=null),(!ve||K[0]&4&&O!==(O="checkbox_"+n[91].index))&&u(l,"for",O),(!ve||K[0]&6&&M!==(M="Select for download: "+n[1][n[91].index].filename))&&u(l,"title",M),Ae===(Ae=ke(n))&&Ee?Ee.p(n,K):(Ee.d(1),Ee=Ae(n),Ee&&(Ee.c(),Ee.m($,null))),(!ve||K[0]&6)&&S!==(S=n[1][n[91].index].filesize+"")&&ze(P,S),(!ve||K[0]&7)&&B!==(B=(n[0]=="internal"?n[1][n[91].index].creation_date:n[1][n[91].index].creation_date.split(" ")[0])+"")&&ze(k,B);let He=J;J=Se(n),J===He?we[J].p(n,K):($e(),I(we[He],1,1,()=>{we[He]=null}),Ce(),Z=we[J],Z?Z.p(n,K):(Z=we[J]=Me[J](n),Z.c()),D(Z,1),Z.m(W,null)),n[1][n[91].index].filesuffix==".nc"?me?(me.p(n,K),K[0]&6&&D(me,1)):(me=dl(n),me.c(),D(me,1),me.m(be,null)):me&&($e(),I(me,1,1,()=>{me=null}),Ce()),(!ve||K[0]&114694&&Q!==(Q="hover:bg-slate-400 border-t spaced-row "+([n[14].toLowerCase(),n[15],n[16]].every(qe)?"visible":"hidden")+" svelte-swazax"))&&u(e,"class",Q),(!ve||K[0]&30&&he!==(he=n[4]&&!n[1][n[91].index].in_limit_conversion&&n[3][n[91].index]?"background: #000000":""))&&u(e,"style",he),n[1][n[91].index].metadata&&n[1][n[91].index].metadata_show?_e?(_e.p(n,K),K[0]&6&&D(_e,1)):(_e=hl(n),_e.c(),D(_e,1),_e.m(x,ne)):_e&&($e(),I(_e,1,1,()=>{_e=null}),Ce()),(!ve||K[0]&114694&&R!==(R=[n[14].toLowerCase(),n[15],n[16]].every(Le)?"visible":"hidden"))&&u(x,"class",R)},i(ce){ve||(D(Z),D(me),D(_e),ve=!0)},o(ce){I(Z),I(me),I(_e),ve=!1},d(ce){ce&&(d(e),d(q),d(x)),ie&&ie.d(),Ee.d(),we[J].d(),me&&me.d(),_e&&_e.d(),Y=!1,Vt(X)}}}function pl(n){let e,t,l,i,r,a,o,s,f=n[87]+"",c,m,p=n[88].files.filter(n[52]).length+"",C,O,M,H,$,E,z='<tr><th class="text-left">Filename</th> <th class="text-left min-w-[80px] max-w-[80px]">Metadata</th> <th class="text-left min-w-[80px] max-w-[80px]">Filesize</th> <th class="text-left min-w-[140px] max-w-[140px]">Last modified</th> <th class="text-left min-w-[122px] max-w-[122px]">Download Link</th> <th class="text-left min-w-[86px] max-w-[86px]">Visualize</th></tr>',S,P,j,G,B,k,_,v;const W=[En,Cn],J=[];function Z(q,x){return q[88].toggled?0:1}r=Z(n),a=J[r]=W[r](n);function re(){return n[53](n[87])}let be=Oe(n[88].files),Q=[];for(let q=0;q<be.length;q+=1)Q[q]=ml(Ht(n,be,q));const he=q=>I(Q[q],1,1,()=>{Q[q]=null});return{c(){e=b("div"),t=b("div"),l=b("button"),i=b("div"),a.c(),o=N(),s=b("h2"),c=te(f),m=te(" ("),C=te(p),O=te(")"),M=N(),H=b("div"),$=b("table"),E=b("thead"),E.innerHTML=z,S=N(),P=b("tbody");for(let q=0;q<Q.length;q+=1)Q[q].c();G=N(),this.h()},l(q){e=g(q,"DIV",{class:!0});var x=y(e);t=g(x,"DIV",{class:!0});var ne=y(t);l=g(ne,"BUTTON",{class:!0});var R=y(l);i=g(R,"DIV",{class:!0});var ve=y(i);a.l(ve),ve.forEach(d),o=L(R),s=g(R,"H2",{class:!0});var Y=y(s);c=ee(Y,f),m=ee(Y," ("),C=ee(Y,p),O=ee(Y,")"),Y.forEach(d),R.forEach(d),ne.forEach(d),M=L(x),H=g(x,"DIV",{class:!0});var X=y(H);$=g(X,"TABLE",{class:!0});var F=y($);E=g(F,"THEAD",{"data-svelte-h":!0}),ge(E)!=="svelte-6vbf8e"&&(E.innerHTML=z),S=L(F),P=g(F,"TBODY",{});var ie=y(P);for(let ke=0;ke<Q.length;ke+=1)Q[ke].l(ie);ie.forEach(d),F.forEach(d),X.forEach(d),G=L(x),x.forEach(d),this.h()},h(){u(i,"class","flex-center w-[18px] h-[28px]"),u(s,"class","text-xl ml-2"),u(l,"class","w-full flex items-left"),u(t,"class","w-full h-[36px] flex items-center rounded-md pl-3 "+(n[90]%2==0?"bg-emerald-700":"bg-emerald-900")+" mb-1"),u($,"class","table-fixed mb-1"),u(H,"class",j=n[88].toggled?"visible":"hidden"),u(e,"class",B=n[88].files.filter(n[62]).length>0?"visible":"hidden")},m(q,x){T(q,e,x),h(e,t),h(t,l),h(l,i),J[r].m(i,null),h(l,o),h(l,s),h(s,c),h(s,m),h(s,C),h(s,O),h(e,M),h(e,H),h(H,$),h($,E),h($,S),h($,P);for(let ne=0;ne<Q.length;ne+=1)Q[ne]&&Q[ne].m(P,null);h(e,G),k=!0,_||(v=ae(l,"click",re),_=!0)},p(q,x){n=q;let ne=r;if(r=Z(n),r!==ne&&($e(),I(J[ne],1,1,()=>{J[ne]=null}),Ce(),a=J[r],a||(a=J[r]=W[r](n),a.c()),D(a,1),a.m(i,null)),(!k||x[0]&4)&&f!==(f=n[87]+"")&&ze(c,f),(!k||x[0]&114692)&&p!==(p=n[88].files.filter(n[52]).length+"")&&ze(C,p),x[0]&203014303){be=Oe(n[88].files);let R;for(R=0;R<be.length;R+=1){const ve=Ht(n,be,R);Q[R]?(Q[R].p(ve,x),D(Q[R],1)):(Q[R]=ml(ve),Q[R].c(),D(Q[R],1),Q[R].m(P,null))}for($e(),R=be.length;R<Q.length;R+=1)he(R);Ce()}(!k||x[0]&4&&j!==(j=n[88].toggled?"visible":"hidden"))&&u(H,"class",j),(!k||x[0]&114692&&B!==(B=n[88].files.filter(n[62]).length>0?"visible":"hidden"))&&u(e,"class",B)},i(q){if(!k){D(a);for(let x=0;x<be.length;x+=1)D(Q[x]);k=!0}},o(q){I(a),Q=Q.filter(Boolean);for(let x=0;x<Q.length;x+=1)I(Q[x]);k=!1},d(q){q&&d(e),J[r].d(),ot(Q,q),_=!1,v()}}}function On(n){return{c:le,l:le,m:le,p:le,d:le}}function zn(n){let e,t,l,i,r="<span>To download all selected files using Wget:</span>",a,o,s,f=n[5]>0&&vl(n);return{c(){e=b("div"),t=b("div"),f&&f.c(),l=N(),i=b("div"),i.innerHTML=r,a=N(),o=b("div"),s=te(n[18]),this.h()},l(c){e=g(c,"DIV",{style:!0});var m=y(e);t=g(m,"DIV",{class:!0});var p=y(t);f&&f.l(p),l=L(p),i=g(p,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-7lv1vm"&&(i.innerHTML=r),a=L(p),o=g(p,"DIV",{class:!0});var C=y(o);s=ee(C,n[18]),C.forEach(d),p.forEach(d),m.forEach(d),this.h()},h(){u(i,"class","mb-2"),u(o,"class","p-[3px] bg-surface-900 [word-spacing:6px]"),u(t,"class","bg-surface-700 border-2 rounded-md p-4 m-2"),at(e,"display","flex")},m(c,m){T(c,e,m),h(e,t),f&&f.m(t,null),h(t,l),h(t,i),h(t,a),h(t,o),h(o,s)},p(c,m){c[5]>0?f?f.p(c,m):(f=vl(c),f.c(),f.m(t,l)):f&&(f.d(1),f=null),m[0]&262144&&ze(s,c[18])},d(c){c&&d(e),f&&f.d()}}}function vl(n){let e,t,l;return{c(){e=te("("),t=te(n[5]),l=te(`) of your selected files were too big and are thus dropped from the
					download.`)},l(i){e=ee(i,"("),t=ee(i,n[5]),l=ee(i,`) of your selected files were too big and are thus dropped from the
					download.`)},m(i,r){T(i,e,r),T(i,t,r),T(i,l,r)},p(i,r){r[0]&32&&ze(t,i[5])},d(i){i&&(d(e),d(t),d(l))}}}function Pn(n){let e,t,l,i="Available Collections",r,a,o,s,f,c=`The Climate Services Gateway (CSG) is a platform that provides access to high resolution climate
		projections and analysis ready data for the southern African region. The Gateway development is
		still ongoing as well as the processing of datasets. Here you can explore the available
		collections of datasets by model family or region.<br/> <br/>Please report issues and feedback
		<span class="text-bold underline"><a href="https://github.com/TIPPECC/tippecc.github.io/issues" target="_blank">here</a></span>.`,m,p,C,O,M,H,$,E,z,S,P,j,G,B="Filtering Datasets",k,_,v=`<img src="${Zl}" alt="Reset" class="w-5 h-5"/>`,W,J,Z,re,be,Q,he,q,x,ne,R="×",ve,Y,X,F,ie,ke,Ae,Ee,Me,we,Se,me,qe,_e,Le,ce,K,He,Ue,je,Ge,nt,it,Ne,Be,tt,Je,_t,ht;o=new Gl({});function gt(V){n[34](V)}function bt(V){n[35](V)}function wt(V){n[36](V)}let ct={};n[7]!==void 0&&(ct.foldertype=n[7]),n[8]!==void 0&&(ct.filter=n[8]),n[0]!==void 0&&(ct.filter_by_status=n[0]),p=new Bl({props:ct}),xe.push(()=>Ye(p,"foldertype",gt)),xe.push(()=>Ye(p,"filter",bt)),xe.push(()=>Ye(p,"filter_by_status",wt)),p.$on("foldertype_changed",n[37]);let De=n[0]=="internal"&&Yt(n),Ve=n[9].length>0&&Jt(n),Ie=n[9].length>0&&Zt(n);ke=new $l({}),Se=new Cl({}),ce=new Jl({}),Ge=new Xl({});const mt=[$n,yn],Ke=[];function pt(V,U){return V[1].length>0?0:1}Ne=pt(n),Be=Ke[Ne]=mt[Ne](n);function vt(V,U){return V[18].length>0?zn:On}let w=vt(n),A=w(n);return{c(){e=b("div"),t=b("div"),l=b("h1"),l.textContent=i,r=N(),a=b("div"),ue(o.$$.fragment),s=N(),f=b("div"),f.innerHTML=c,m=N(),ue(p.$$.fragment),H=N(),$=b("br"),E=N(),z=b("div"),S=b("img"),j=N(),G=b("h1"),G.textContent=B,k=N(),_=b("button"),_.innerHTML=v,W=N(),J=b("br"),Z=N(),De&&De.c(),re=N(),Ve&&Ve.c(),be=N(),Q=b("div"),he=b("div"),q=b("input"),x=N(),ne=b("button"),ne.textContent=R,ve=N(),Ie&&Ie.c(),Y=N(),X=b("div"),F=b("div"),ie=b("button"),ue(ke.$$.fragment),Ae=te("   Expand All"),Ee=N(),Me=b("div"),we=b("button"),ue(Se.$$.fragment),me=te("   Close All"),qe=N(),_e=b("div"),Le=b("button"),ue(ce.$$.fragment),K=te("   Select All"),He=N(),Ue=b("div"),je=b("button"),ue(Ge.$$.fragment),nt=te("   Unselect All"),it=N(),Be.c(),tt=N(),A.c(),this.h()},l(V){e=g(V,"DIV",{class:!0});var U=y(e);t=g(U,"DIV",{class:!0});var pe=y(t);l=g(pe,"H1",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-1fwzelh"&&(l.textContent=i),r=L(pe),a=g(pe,"DIV",{class:!0});var Te=y(a);fe(o.$$.fragment,Te),Te.forEach(d),pe.forEach(d),s=L(U),f=g(U,"DIV",{class:!0,"data-svelte-h":!0}),ge(f)!=="svelte-126b7zc"&&(f.innerHTML=c),m=L(U),fe(p.$$.fragment,U),H=L(U),$=g(U,"BR",{}),E=L(U),z=g(U,"DIV",{class:!0});var Pe=y(z);S=g(Pe,"IMG",{src:!0,alt:!0,width:!0}),j=L(Pe),G=g(Pe,"H1",{class:!0,"data-svelte-h":!0}),ge(G)!=="svelte-1a0u2ee"&&(G.textContent=B),k=L(Pe),_=g(Pe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ge(_)!=="svelte-p8i57z"&&(_.innerHTML=v),Pe.forEach(d),W=L(U),J=g(U,"BR",{}),Z=L(U),De&&De.l(U),re=L(U),Ve&&Ve.l(U),be=L(U),Q=g(U,"DIV",{class:!0});var Ze=y(Q);he=g(Ze,"DIV",{class:!0});var Fe=y(he);q=g(Fe,"INPUT",{class:!0,type:!0,placeholder:!0}),x=L(Fe),ne=g(Fe,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),ge(ne)!=="svelte-c004w5"&&(ne.textContent=R),Fe.forEach(d),Ze.forEach(d),ve=L(U),Ie&&Ie.l(U),Y=L(U),X=g(U,"DIV",{class:!0});var Re=y(X);F=g(Re,"DIV",{});var rt=y(F);ie=g(rt,"BUTTON",{class:!0});var kt=y(ie);fe(ke.$$.fragment,kt),Ae=ee(kt,"   Expand All"),kt.forEach(d),rt.forEach(d),Ee=L(Re),Me=g(Re,"DIV",{});var It=y(Me);we=g(It,"BUTTON",{class:!0});var yt=y(we);fe(Se.$$.fragment,yt),me=ee(yt,"   Close All"),yt.forEach(d),It.forEach(d),qe=L(Re),_e=g(Re,"DIV",{});var Lt=y(_e);Le=g(Lt,"BUTTON",{class:!0});var $t=y(Le);fe(ce.$$.fragment,$t),K=ee($t,"   Select All"),$t.forEach(d),Lt.forEach(d),He=L(Re),Ue=g(Re,"DIV",{});var Nt=y(Ue);je=g(Nt,"BUTTON",{class:!0});var Ct=y(je);fe(Ge.$$.fragment,Ct),nt=ee(Ct,"   Unselect All"),Ct.forEach(d),Nt.forEach(d),Re.forEach(d),it=L(U),Be.l(U),tt=L(U),A.l(U),U.forEach(d),this.h()},h(){u(l,"class","content-heading"),u(a,"class","flex-center"),u(t,"class","flex"),u(f,"class","p-2 mb-2 ml-2"),El(S.src,P=Kl)||u(S,"src",P),u(S,"alt","..."),u(S,"width","30px"),u(G,"class","h4"),u(_,"class","p-1 variant-filled-surface hover:bg-tertiary-900 items-center rounded-md w-[30px] h-[30px]"),u(_,"type","button"),u(z,"class","flex gap-2"),u(q,"class","input w-full mt-4 p-2 rounded-md placeholder-gray-200"),u(q,"type","text"),u(q,"placeholder","Type to filter filenames or click label above..."),u(ne,"class","absolute right-2 top-[60%] -translate-y-1/2 hover:text-gray-600 text-2xl"),u(ne,"aria-label","Clear input"),u(he,"class","relative w-full"),u(Q,"class","p-2"),u(ie,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(we,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(Le,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(je,"class","w-[120px] h-[30px] flex-center bg-tertiary-900 hover:bg-tertiary-500 rounded-md"),u(X,"class","flex gap-4 mt-2 p-2"),u(e,"class","content-div")},m(V,U){T(V,e,U),h(e,t),h(t,l),h(t,r),h(t,a),oe(o,a,null),h(e,s),h(e,f),h(e,m),oe(p,e,null),h(e,H),h(e,$),h(e,E),h(e,z),h(z,S),h(z,j),h(z,G),h(z,k),h(z,_),h(e,W),h(e,J),h(e,Z),De&&De.m(e,null),h(e,re),Ve&&Ve.m(e,null),h(e,be),h(e,Q),h(Q,he),h(he,q),lt(q,n[14]),h(he,x),h(he,ne),h(e,ve),Ie&&Ie.m(e,null),h(e,Y),h(e,X),h(X,F),h(F,ie),oe(ke,ie,null),h(ie,Ae),h(X,Ee),h(X,Me),h(Me,we),oe(Se,we,null),h(we,me),h(X,qe),h(X,_e),h(_e,Le),oe(ce,Le,null),h(Le,K),h(X,He),h(X,Ue),h(Ue,je),oe(Ge,je,null),h(je,nt),h(e,it),Ke[Ne].m(e,null),h(e,tt),A.m(e,null),Je=!0,_t||(ht=[ae(_,"click",n[38]),ae(q,"input",n[40]),ae(ne,"click",n[41]),ae(ie,"click",n[48]),ae(we,"click",n[49]),ae(Le,"click",n[50]),ae(je,"click",n[51])],_t=!0)},p(V,U){const pe={};!C&&U[0]&128&&(C=!0,pe.foldertype=V[7],We(()=>C=!1)),!O&&U[0]&256&&(O=!0,pe.filter=V[8],We(()=>O=!1)),!M&&U[0]&1&&(M=!0,pe.filter_by_status=V[0],We(()=>M=!1)),p.$set(pe),V[0]=="internal"?De?De.p(V,U):(De=Yt(V),De.c(),De.m(e,re)):De&&(De.d(1),De=null),V[9].length>0?Ve?Ve.p(V,U):(Ve=Jt(V),Ve.c(),Ve.m(e,be)):Ve&&(Ve.d(1),Ve=null),U[0]&16384&&q.value!==V[14]&&lt(q,V[14]),V[9].length>0?Ie?Ie.p(V,U):(Ie=Zt(V),Ie.c(),Ie.m(e,Y)):Ie&&(Ie.d(1),Ie=null);let Te=Ne;Ne=pt(V),Ne===Te?Ke[Ne].p(V,U):($e(),I(Ke[Te],1,1,()=>{Ke[Te]=null}),Ce(),Be=Ke[Ne],Be?Be.p(V,U):(Be=Ke[Ne]=mt[Ne](V),Be.c()),D(Be,1),Be.m(e,tt)),w===(w=vt(V))&&A?A.p(V,U):(A.d(1),A=w(V),A&&(A.c(),A.m(e,null)))},i(V){Je||(D(o.$$.fragment,V),D(p.$$.fragment,V),D(ke.$$.fragment,V),D(Se.$$.fragment,V),D(ce.$$.fragment,V),D(Ge.$$.fragment,V),D(Be),Je=!0)},o(V){I(o.$$.fragment,V),I(p.$$.fragment,V),I(ke.$$.fragment,V),I(Se.$$.fragment,V),I(ce.$$.fragment,V),I(Ge.$$.fragment,V),I(Be),Je=!1},d(V){V&&d(e),se(o),se(p),De&&De.d(),Ve&&Ve.d(),Ie&&Ie.d(),se(ke),se(Se),se(ce),se(Ge),Ke[Ne].d(),A.d(),_t=!1,Vt(ht)}}}async function Tt({url:n,key:e,folder_data:t,file_obj:l}){const i=await fetch(n);t[l.index][e]=i.ok?await i.json():{[`currently no ${e} available`]:"for this file"},t[l.index][`${e}_exists`]=i.ok}function Rn(n){const e=document.getElementById("checkbox_"+n);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}function Dt(n){const e={ai:"Aridity Index",evspsblpot:"PET",evspsbl:"Actual Evaporation",pr:"Precipitation",tas:"Air Temp",tasmax:"Max Air Temp",tasmin:"Min Air Temp",sfcWind:"Wind Speed",water_budget:"Water Budget",kbdi:"KBDI",hurs:"Rel. Humidity",rlds:"D. Long Rad.",rsds:"D. Short Rad.",rsus:"Up Short Rad.",rlus:"Up Long Rad.",spi:"SPI",spei:"SPEI"};for(const[t,l]of Object.entries(e))if(n==t)return n.replace(t,l);return n}const gl=n=>n.show=="true",bl=n=>n.show=="true",wl=n=>n.show=="true",kl=n=>n.show=="true",yl=n=>n==!0;function Hn(n,e,t){let l,{filter_by_status:i=""}=e;console.log("Status: ",i);let r=[],a={},o=[],s=!1,f=0,c=1,m,p="CMIP6_raw",C="",O="",M=[],H=[{time:"1981_2000-2080_2099",show:"false"}],$=[{time:"1981_2000",show:"false"},{time:"2021_2040",show:"false"},{time:"2041_2060",show:"false"},{time:"2080_2099",show:"false"}],E=[{time:"1981_2010",show:"false"},{time:"2011_2040",show:"false"},{time:"2071_2099",show:"false"}],z=[{time:"yearly",show:"false"},{time:"seasonal",show:"false"},{time:"monthly",show:"false"}];Bt(()=>{Sl.subscribe(w=>{})}),Bt(()=>{re(!1)});async function S(w,A){var V=ye+"/climate/generate_dat_file?name="+w+"&type="+p;console.log(V);const U=await fetch(V,{method:"GET"});if(U.ok)t(1,r[A].dat_exists=!0,r),t(1,r=[...r]);else{t(1,r[A].dat_exists=!1,r),t(1,r=[...r]);var pe=await U.text();throw new Error(`${U.status} ${U.statusText}
Reason: ${pe}`)}}let P="";function j(w){t(18,l="")}function G(){for(var w=0;w<o.length;w++)r[w].filename.toLowerCase().includes(P.toLowerCase())&&(r[w].filename.includes(he)||he=="_")&&(r[w].filename.includes(x)||x=="_")&&t(3,o[w]=!0,o)}function B(){for(var w=0;w<o.length;w++)t(3,o[w]=!1,o)}function k(){for(const[w,A]of Object.entries(a))t(2,a[w].toggled=!0,a)}function _(){for(const[w,A]of Object.entries(a))t(2,a[w].toggled=!1,a)}async function v(){const w=ye+"/climate/select_temp_urls?type="+p;let A=[];t(5,f=0);for(let pe=0;pe<o.length;pe++)if(o[pe]){r[pe].filesuffix,r[pe].filename.split(".").pop();var V=r[pe].filename;A.push([V,F])}try{const pe=await fetch(w,{method:"POST",body:JSON.stringify(A)});let Te=[];if(!pe.ok){var U=await pe.text();throw new Error(`${pe.status} ${pe.statusText}
Reason: ${U}`)}Te=await pe.json(),t(18,l=Te["wget-command"])}catch(pe){console.log(pe)}}async function W(w,A,V,U=0){console.log("get_metadata_and_prov",w,A,V),t(1,r[V.index].tabset=U,r),await Promise.all([Tt({url:ye+"/climate/get_temp_file?name="+w+"&type="+A+"&filetype=meta",key:"metadata",folder_data:r,file_obj:V}),Tt({url:ye+"/climate/get_temp_file?name="+w+"&type="+A+"&filetype=prov",key:"metadata_prov",folder_data:r,file_obj:V}),Tt({url:ye+"/climate/get_temp_file?name="+w+"&type="+A+"&filetype=prov_stats",key:"metadata_prov_stats",folder_data:r,file_obj:V})]),t(1,r[V.index].metadata_show=!0,r),history.pushState({},"","?type="+A+"&filename="+w),t(1,r=[...r])}async function J(w,A){var V=ye+"/climate/access_tif?type="+p+"&name="+w;const U=await fetch(V,{method:"GET"});if(U.ok)t(1,r[A].tif_exists=!0,r),t(1,r=[...r]);else{t(1,r[A].tif_exists=!1,r),t(1,r[A].tif_convertable=!1,r),t(1,r=[...r]);var pe=await U.text();throw new Error(`${U.status} ${U.statusText}
Reason: ${pe}`)}}function Z(){let w=/(^(.+)_v(\d+)_([^_]+))|^((.+)_day_([^_]+)|^(.+))/;const A=Ml.find(Te=>Te.key==p);A&&A.header_regex.length>2&&(w=new RegExp(A.header_regex.replace(/\\/g,"\\"))),console.log("filePattern: ",w),t(2,a={});let V={};t(9,M=[]),V["No Category"]={files:[],toggled:!1},ve(),X();for(let Te=0;Te<r.length;Te++){var U=r[Te].filename;const Pe=U.match(w);if(R(U),Y(U),Pe&&Pe.length>=3){const Ze=Pe[0],Fe=/^(_*[^_]*_[^_]+)/g;let Re=U.replace(Pe[0],"").replace(".nc","").match(Fe),rt="";Re&&(rt=Re[0].replace(/_\d{4}/g,"").replace(/^_+/,"").replace("_Afr",""),M.includes(rt)||M.push(rt)),V[Ze]||(V[Ze]={files:[],toggled:!1}),V[Ze].files.push({filename:U,index:Te})}else V["No Category"].files.push({filename:U,index:Te})}V["No Category"].files.length==0&&delete V["No Category"],t(2,a=V);let pe=Math.max(...M.map(Te=>Dt(Te).length));if(t(6,m=Math.ceil(pe/14)*24),t(9,M=[...M]),C.length>0)for(const[Te,Pe]of Object.entries(a)){const Ze=Pe.files.find(Fe=>Fe.filename===C);if(console.log("found",Ze),Ze){t(2,a[Te].toggled=!0,a);const Fe=r.findIndex(rt=>rt.filename===C),Re=r[Fe];console.log("found file in folder_data",Re),W(r[Fe].filename,p,Ze,0),c=Fe;break}}}async function re(w=!1){t(1,r={}),t(9,M=[]),t(14,P="");try{if(w)var A=await Ll(p,!1);else var A=await Nl(p,!1);t(1,r=A.content),r.sort((V,U)=>V.filename.replace(".nc","").localeCompare(U.filename.replace(".nc",""))),Z(),t(3,o=r.map(()=>!1)),Rl&&history.pushState({},"","?type="+p+"&filename="+C)}catch{console.log("Refreshing folder content failed.")}finally{setTimeout(()=>{Rn(c),c=1},500)}}function be(w){t(2,a[w].toggled=!a[w].toggled,a)}function Q(w){t(14,P=w)}let he="_";function q(w){he!==w?t(15,he=w):t(15,he="_")}let x="_";function ne(w){x!==w?t(16,x=w):t(16,x="_")}function R(w){for(let A=0;A<H.length;A++)w.includes(H[A].time)&&t(10,H[A].show="true",H);for(let A=0;A<$.length;A++)w.includes($[A].time)&&t(11,$[A].show="true",$);for(let A=0;A<E.length;A++)w.includes(E[A].time)&&t(12,E[A].show="true",E)}function ve(){for(let w=0;w<H.length;w++)t(10,H[w].show="false",H);for(let w=0;w<$.length;w++)t(11,$[w].show="false",$);for(let w=0;w<E.length;w++)t(12,E[w].show="false",E);t(15,he="_")}function Y(w){for(let A=0;A<z.length;A++)w.includes(z[A].time)&&t(13,z[A].show="true",z)}function X(){for(let w=0;w<z.length;w++)t(13,z[w].show="false",z)}let F="nc";function ie(w){t(17,F=w.target.value)}const ke=[[]];function Ae(w){p=w,t(7,p)}function Ee(w){O=w,t(8,O)}function Me(w){i=w,t(0,i)}const we=()=>re(!1),Se=()=>{t(14,P=""),t(15,he="_"),t(16,x="_")},me=()=>re(!0);function qe(){P=this.value,t(14,P)}const _e=()=>t(14,P=""),Le=w=>q(w.time),ce=()=>q("20y"),K=w=>q(w.time),He=()=>q("30y"),Ue=w=>q(w.time),je=w=>ne(w.time),Ge=()=>k(),nt=()=>_(),it=()=>G(),Ne=()=>B(),Be=w=>[P.toLowerCase(),he,x].every(A=>w.filename.toLowerCase().includes(A)),tt=w=>be(w);function Je(w){o[w.index]=this.checked,t(3,o)}const _t=w=>W(r[w.index].filename,p,w),ht=w=>t(1,r[w.index].metadata_show=!1,r),gt=w=>S(r[w.index].filename,w.index),bt=w=>J(r[w.index].filename,w.index),wt=w=>W(r[w.index].filename,p,w,4),ct=(w,A)=>r[w.index].filename.toLowerCase().includes(A),De=(w,A)=>r[w.index].filename.toLowerCase().includes(A),Ve=w=>[P.toLowerCase(),he,x].every(A=>w.filename.toLowerCase().includes(A));function Ie(){F=this.__value,t(17,F)}function mt(){F=this.__value,t(17,F)}function Ke(){F=this.__value,t(17,F)}function pt(){F=this.__value,t(17,F)}function vt(){F=this.__value,t(17,F)}n.$$set=w=>{"filter_by_status"in w&&t(0,i=w.filter_by_status)},t(18,l="");{const w=new URLSearchParams(window.location.search),A=w.get("type");A&&t(7,p=A);const V=w.get("filename");V&&(C=V)}return[i,r,a,o,s,f,m,p,O,M,H,$,E,z,P,he,x,F,l,S,j,G,B,k,_,v,W,J,re,be,Q,q,ne,ie,Ae,Ee,Me,we,Se,me,qe,_e,Le,ce,K,He,Ue,je,Ge,nt,it,Ne,Be,tt,Je,_t,ht,gt,bt,wt,ct,De,Ve,Ie,ke,mt,Ke,pt,vt]}class Xn extends ft{constructor(e){super(),ut(this,e,Hn,Pn,st,{filter_by_status:0},null,[-1,-1,-1,-1])}}export{Xn as C};
